function t(t,e){const n=Object.create(null),r=t.split(",");for(let t=0;t<r.length;t++)n[r[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const e=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(t){if(_(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=r(A(i)?s(i):i);if(o)for(const t in o)e[t]=o[t]}return e}if(k(t))return t}const i=/;(?![^(]*\))/g,o=/:(.+)/;function s(t){const e={};return t.split(i).forEach((t=>{if(t){const n=t.split(o);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function a(t){let e="";if(A(t))e=t;else if(_(t))for(let n=0;n<t.length;n++){const r=a(t[n]);r&&(e+=r+" ")}else if(k(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const u=t=>null==t?"":k(t)?JSON.stringify(t,c,2):String(t),c=(t,e)=>I(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:T(e)?{[`Set(${e.size})`]:[...e.values()]}:!k(e)||_(e)||R(e)?e:String(e),l={},h=[],f=()=>{},d=()=>!1,p=/^on[^a-z]/,v=t=>p.test(t),g=t=>t.startsWith("onUpdate:"),m=Object.assign,y=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},b=Object.prototype.hasOwnProperty,w=(t,e)=>b.call(t,e),_=Array.isArray,I=t=>"[object Map]"===N(t),T=t=>"[object Set]"===N(t),E=t=>"function"==typeof t,A=t=>"string"==typeof t,S=t=>"symbol"==typeof t,k=t=>null!==t&&"object"==typeof t,C=t=>k(t)&&E(t.then)&&E(t.catch),x=Object.prototype.toString,N=t=>x.call(t),R=t=>"[object Object]"===N(t),P=t=>A(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,D=t(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),O=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},L=/-(\w)/g,M=O((t=>t.replace(L,((t,e)=>e?e.toUpperCase():"")))),F=/\B([A-Z])/g,U=O((t=>t.replace(F,"-$1").toLowerCase())),j=O((t=>t.charAt(0).toUpperCase()+t.slice(1))),q=O((t=>t?`on${j(t)}`:"")),V=(t,e)=>t!==e&&(t==t||e==e),B=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},K=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},W=t=>{const e=parseFloat(t);return isNaN(e)?t:e},H=new WeakMap,z=[];let G;const Q=Symbol(""),Y=Symbol("");function $(t,e=l){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return t();if(!z.includes(n)){Z(n);try{return et.push(tt),tt=!0,z.push(n),G=n,t()}finally{z.pop(),rt(),G=z[z.length-1]}}};return n.id=J++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function X(t){t.active&&(Z(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let J=0;function Z(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let tt=!0;const et=[];function nt(){et.push(tt),tt=!1}function rt(){const t=et.pop();tt=void 0===t||t}function it(t,e,n){if(!tt||void 0===G)return;let r=H.get(t);r||H.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(G)||(i.add(G),G.deps.push(i))}function ot(t,e,n,r,i,o){const s=H.get(t);if(!s)return;const a=new Set,u=t=>{t&&t.forEach((t=>{(t!==G||t.allowRecurse)&&a.add(t)}))};if("clear"===e)s.forEach(u);else if("length"===n&&_(t))s.forEach(((t,e)=>{("length"===e||e>=r)&&u(t)}));else switch(void 0!==n&&u(s.get(n)),e){case"add":_(t)?P(n)&&u(s.get("length")):(u(s.get(Q)),I(t)&&u(s.get(Y)));break;case"delete":_(t)||(u(s.get(Q)),I(t)&&u(s.get(Y)));break;case"set":I(t)&&u(s.get(Q))}a.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const st=t("__proto__,__v_isRef,__isVue"),at=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(S)),ut=dt(),ct=dt(!1,!0),lt=dt(!0),ht=dt(!0,!0),ft={};function dt(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&i===(t?e?Kt:Bt:e?Vt:qt).get(n))return n;const o=_(n);if(!t&&o&&w(ft,r))return Reflect.get(ft,r,i);const s=Reflect.get(n,r,i);if(S(r)?at.has(r):st(r))return s;if(t||it(n,0,r),e)return s;if(Zt(s)){return!o||!P(r)?s.value:s}return k(s)?t?zt(s):Ht(s):s}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];ft[t]=function(...t){const n=Xt(this);for(let t=0,e=this.length;t<e;t++)it(n,0,t+"");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(Xt)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];ft[t]=function(...t){nt();const n=e.apply(this,t);return rt(),n}}));function pt(t=!1){return function(e,n,r,i){let o=e[n];if(!t&&(r=Xt(r),o=Xt(o),!_(e)&&Zt(o)&&!Zt(r)))return o.value=r,!0;const s=_(e)&&P(n)?Number(n)<e.length:w(e,n),a=Reflect.set(e,n,r,i);return e===Xt(i)&&(s?V(r,o)&&ot(e,"set",n,r):ot(e,"add",n,r)),a}}const vt={get:ut,set:pt(),deleteProperty:function(t,e){const n=w(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&ot(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return S(e)&&at.has(e)||it(t,0,e),n},ownKeys:function(t){return it(t,0,_(t)?"length":Q),Reflect.ownKeys(t)}},gt={get:lt,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},mt=m({},vt,{get:ct,set:pt(!0)});m({},gt,{get:ht});const yt=t=>k(t)?Ht(t):t,bt=t=>k(t)?zt(t):t,wt=t=>t,_t=t=>Reflect.getPrototypeOf(t);function It(t,e,n=!1,r=!1){const i=Xt(t=t.__v_raw),o=Xt(e);e!==o&&!n&&it(i,0,e),!n&&it(i,0,o);const{has:s}=_t(i),a=r?wt:n?bt:yt;return s.call(i,e)?a(t.get(e)):s.call(i,o)?a(t.get(o)):void(t!==i&&t.get(e))}function Tt(t,e=!1){const n=this.__v_raw,r=Xt(n),i=Xt(t);return t!==i&&!e&&it(r,0,t),!e&&it(r,0,i),t===i?n.has(t):n.has(t)||n.has(i)}function Et(t,e=!1){return t=t.__v_raw,!e&&it(Xt(t),0,Q),Reflect.get(t,"size",t)}function At(t){t=Xt(t);const e=Xt(this);return _t(e).has.call(e,t)||(e.add(t),ot(e,"add",t,t)),this}function St(t,e){e=Xt(e);const n=Xt(this),{has:r,get:i}=_t(n);let o=r.call(n,t);o||(t=Xt(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?V(e,s)&&ot(n,"set",t,e):ot(n,"add",t,e),this}function kt(t){const e=Xt(this),{has:n,get:r}=_t(e);let i=n.call(e,t);i||(t=Xt(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&ot(e,"delete",t,void 0),o}function Ct(){const t=Xt(this),e=0!==t.size,n=t.clear();return e&&ot(t,"clear",void 0,void 0),n}function xt(t,e){return function(n,r){const i=this,o=i.__v_raw,s=Xt(o),a=e?wt:t?bt:yt;return!t&&it(s,0,Q),o.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function Nt(t,e,n){return function(...r){const i=this.__v_raw,o=Xt(i),s=I(o),a="entries"===t||t===Symbol.iterator&&s,u="keys"===t&&s,c=i[t](...r),l=n?wt:e?bt:yt;return!e&&it(o,0,u?Y:Q),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function Rt(t){return function(...e){return"delete"!==t&&this}}const Pt={get(t){return It(this,t)},get size(){return Et(this)},has:Tt,add:At,set:St,delete:kt,clear:Ct,forEach:xt(!1,!1)},Dt={get(t){return It(this,t,!1,!0)},get size(){return Et(this)},has:Tt,add:At,set:St,delete:kt,clear:Ct,forEach:xt(!1,!0)},Ot={get(t){return It(this,t,!0)},get size(){return Et(this,!0)},has(t){return Tt.call(this,t,!0)},add:Rt("add"),set:Rt("set"),delete:Rt("delete"),clear:Rt("clear"),forEach:xt(!0,!1)},Lt={get(t){return It(this,t,!0,!0)},get size(){return Et(this,!0)},has(t){return Tt.call(this,t,!0)},add:Rt("add"),set:Rt("set"),delete:Rt("delete"),clear:Rt("clear"),forEach:xt(!0,!0)};function Mt(t,e){const n=e?t?Lt:Dt:t?Ot:Pt;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(w(n,r)&&r in e?n:e,r,i)}["keys","values","entries",Symbol.iterator].forEach((t=>{Pt[t]=Nt(t,!1,!1),Ot[t]=Nt(t,!0,!1),Dt[t]=Nt(t,!1,!0),Lt[t]=Nt(t,!0,!0)}));const Ft={get:Mt(!1,!1)},Ut={get:Mt(!1,!0)},jt={get:Mt(!0,!1)},qt=new WeakMap,Vt=new WeakMap,Bt=new WeakMap,Kt=new WeakMap;function Wt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>N(t).slice(8,-1))(t))}function Ht(t){return t&&t.__v_isReadonly?t:Gt(t,!1,vt,Ft,qt)}function zt(t){return Gt(t,!0,gt,jt,Bt)}function Gt(t,e,n,r,i){if(!k(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=Wt(t);if(0===s)return t;const a=new Proxy(t,2===s?r:n);return i.set(t,a),a}function Qt(t){return Yt(t)?Qt(t.__v_raw):!(!t||!t.__v_isReactive)}function Yt(t){return!(!t||!t.__v_isReadonly)}function $t(t){return Qt(t)||Yt(t)}function Xt(t){return t&&Xt(t.__v_raw)||t}const Jt=t=>k(t)?Ht(t):t;function Zt(t){return Boolean(t&&!0===t.__v_isRef)}function te(t){return ne(t)}class ee{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:Jt(t)}get value(){return it(Xt(this),0,"value"),this._value}set value(t){V(Xt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Jt(t),ot(Xt(this),"set","value",t))}}function ne(t,e=!1){return Zt(t)?t:new ee(t,e)}function re(t){return Zt(t)?t.value:t}const ie={get:(t,e,n)=>re(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Zt(i)&&!Zt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function oe(t){return Qt(t)?t:new Proxy(t,ie)}function se(t){const e=_(t)?new Array(t.length):{};for(const n in t)e[n]=ue(t,n);return e}class ae{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}function ue(t,e){return Zt(t[e])?t[e]:new ae(t,e)}class ce{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=$(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ot(Xt(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const t=Xt(this);return t._dirty&&(t._value=this.effect(),t._dirty=!1),it(t,0,"value"),t._value}set value(t){this._setter(t)}}function le(t,e,n,r){let i;try{i=r?t(...r):t()}catch(t){fe(t,e,n)}return i}function he(t,e,n,r){if(E(t)){const i=le(t,e,n,r);return i&&C(i)&&i.catch((t=>{fe(t,e,n)})),i}const i=[];for(let o=0;o<t.length;o++)i.push(he(t[o],e,n,r));return i}function fe(t,e,n,r=!0){e&&e.vnode;if(e){let r=e.parent;const i=e.proxy,o=n;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,o))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return void le(s,null,10,[t,i,o])}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let de=!1,pe=!1;const ve=[];let ge=0;const me=[];let ye=null,be=0;const we=[];let _e=null,Ie=0;const Te=Promise.resolve();let Ee=null,Ae=null;function Se(t){const e=Ee||Te;return t?e.then(this?t.bind(this):t):e}function ke(t){if(!(ve.length&&ve.includes(t,de&&t.allowRecurse?ge+1:ge)||t===Ae)){const e=function(t){let e=ge+1,n=ve.length;const r=Pe(t);for(;e<n;){const t=e+n>>>1;Pe(ve[t])<r?e=t+1:n=t}return e}(t);e>-1?ve.splice(e,0,t):ve.push(t),Ce()}}function Ce(){de||pe||(pe=!0,Ee=Te.then(De))}function xe(t,e,n,r){_(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),Ce()}function Ne(t,e=null){if(me.length){for(Ae=e,ye=[...new Set(me)],me.length=0,be=0;be<ye.length;be++)ye[be]();ye=null,be=0,Ae=null,Ne(t,e)}}function Re(t){if(we.length){const t=[...new Set(we)];if(we.length=0,_e)return void _e.push(...t);for(_e=t,_e.sort(((t,e)=>Pe(t)-Pe(e))),Ie=0;Ie<_e.length;Ie++)_e[Ie]();_e=null,Ie=0}}const Pe=t=>null==t.id?1/0:t.id;function De(t){pe=!1,de=!0,Ne(t),ve.sort(((t,e)=>Pe(t)-Pe(e)));try{for(ge=0;ge<ve.length;ge++){const t=ve[ge];t&&!1!==t.active&&le(t,null,14)}}finally{ge=0,ve.length=0,Re(),de=!1,Ee=null,(ve.length||me.length||we.length)&&De(t)}}function Oe(t,e,...n){const r=t.vnode.props||l;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const t=`${"modelValue"===s?"model":s}Modifiers`,{number:e,trim:o}=r[t]||l;o?i=n.map((t=>t.trim())):e&&(i=n.map(W))}let a,u=r[a=q(e)]||r[a=q(M(e))];!u&&o&&(u=r[a=q(U(e))]),u&&he(u,t,6,i);const c=r[a+"Once"];if(c){if(t.emitted){if(t.emitted[a])return}else(t.emitted={})[a]=!0;he(c,t,6,i)}}function Le(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(void 0!==i)return i;const o=t.emits;let s={},a=!1;if(!E(t)){const r=t=>{const n=Le(t,e,!0);n&&(a=!0,m(s,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return o||a?(_(o)?o.forEach((t=>s[t]=null)):m(s,o),r.set(t,s),s):(r.set(t,null),null)}function Me(t,e){return!(!t||!v(e))&&(e=e.slice(2).replace(/Once$/,""),w(t,e[0].toLowerCase()+e.slice(1))||w(t,U(e))||w(t,e))}let Fe=null,Ue=null;function je(t){const e=Fe;return Fe=t,Ue=t&&t.type.__scopeId||null,e}function qe(t,e=Fe,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&fr(-1);const i=je(e),o=t(...n);return je(i),r._d&&fr(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function Ve(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:v}=t;let m;const y=je(t);try{let t;if(4&n.shapeFlag){const e=i||r;m=Tr(l.call(e,e,h,o,d,f,p)),t=u}else{const n=e;0,m=Tr(n.length>1?n(o,{attrs:u,slots:a,emit:c}):n(o,null)),t=e.props?u:Be(u)}let y=m;if(t&&!1!==v){const e=Object.keys(t),{shapeFlag:n}=y;e.length&&(1&n||6&n)&&(s&&e.some(g)&&(t=Ke(t,s)),y=wr(y,t))}0,n.dirs&&(y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),m=y}catch(e){ur.length=0,fe(e,t,1),m=br(sr)}return je(y),m}const Be=t=>{let e;for(const n in t)("class"===n||"style"===n||v(n))&&((e||(e={}))[n]=t[n]);return e},Ke=(t,e)=>{const n={};for(const r in t)g(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function We(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Me(n,o))return!0}return!1}function He(t,e){if(Lr){let n=Lr.provides;const r=Lr.parent&&Lr.parent.provides;r===n&&(n=Lr.provides=Object.create(r)),n[t]=e}else;}function ze(t,e,n=!1){const r=Lr||Fe;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&E(e)?e():e}}const Ge={};function Qe(t,e,n){return Ye(t,e,n)}function Ye(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=l,a=Lr){let u,c,h=!1,d=!1;if(Zt(t)?(u=()=>t.value,h=!!t._shallow):Qt(t)?(u=()=>t,r=!0):_(t)?(d=!0,h=t.some(Qt),u=()=>t.map((t=>Zt(t)?t.value:Qt(t)?Je(t):E(t)?le(t,a,2):void 0))):u=E(t)?e?()=>le(t,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),he(t,a,3,[p])}:f,e&&r){const t=u;u=()=>Je(t())}let p=t=>{c=b.options.onStop=()=>{le(t,a,4)}},v=d?[]:Ge;const g=()=>{if(b.active)if(e){const t=b();(r||h||(d?t.some(((t,e)=>V(t,v[e]))):V(t,v)))&&(c&&c(),he(e,a,3,[t,v===Ge?void 0:v,p]),v=t)}else b()};let m;g.allowRecurse=!!e,m="sync"===i?g:"post"===i?()=>Yn(g,a&&a.suspense):()=>{!a||a.isMounted?function(t){xe(t,ye,me,be)}(g):g()};const b=$(u,{lazy:!0,onTrack:o,onTrigger:s,scheduler:m});return Vr(b,a),e?n?g():v=b():"post"===i?Yn(b,a&&a.suspense):b(),()=>{X(b),a&&y(a.effects,b)}}function $e(t,e,n){const r=this.proxy,i=A(t)?t.includes(".")?Xe(r,t):()=>r[t]:t.bind(r,r);let o;return E(e)?o=e:(o=e.handler,n=e),Ye(i,o.bind(r),n,this)}function Xe(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function Je(t,e=new Set){if(!k(t)||e.has(t)||t.__v_skip)return t;if(e.add(t),Zt(t))Je(t.value,e);else if(_(t))for(let n=0;n<t.length;n++)Je(t[n],e);else if(T(t)||I(t))t.forEach((t=>{Je(t,e)}));else if(R(t))for(const n in t)Je(t[n],e);return t}function Ze(t){return E(t)?{setup:t,name:t.name}:t}const tn=t=>!!t.type.__asyncLoader,en=t=>t.type.__isKeepAlive;function nn(t,e){on(t,"a",e)}function rn(t,e){on(t,"da",e)}function on(t,e,n=Lr){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(an(e,r,n),n){let t=n.parent;for(;t&&t.parent;)en(t.parent.vnode)&&sn(r,e,n,t),t=t.parent}}function sn(t,e,n,r){const i=an(e,t,r,!0);pn((()=>{y(r[e],i)}),n)}function an(t,e,n=Lr,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;nt(),Mr(n);const i=he(e,n,t,r);return Mr(null),rt(),i});return r?i.unshift(o):i.push(o),o}}const un=t=>(e,n=Lr)=>(!Ur||"sp"===t)&&an(t,e,n),cn=un("bm"),ln=un("m"),hn=un("bu"),fn=un("u"),dn=un("bum"),pn=un("um"),vn=un("sp"),gn=un("rtg"),mn=un("rtc");function yn(t,e=Lr){an("ec",t,e)}let bn=!0;function wn(t){const e=Tn(t),n=t.proxy,r=t.ctx;bn=!1,e.beforeCreate&&_n(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:u,inject:c,created:h,beforeMount:d,mounted:p,beforeUpdate:v,updated:g,activated:m,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:I,unmounted:T,render:A,renderTracked:S,renderTriggered:C,errorCaptured:x,serverPrefetch:N,expose:R,inheritAttrs:P,components:D,directives:O,filters:L}=e;if(c&&function(t,e,n=f){_(t)&&(t=kn(t));for(const n in t){const r=t[n];k(r)?e[n]="default"in r?ze(r.from||n,r.default,!0):ze(r.from||n):e[n]=ze(r)}}(c,r,null),s)for(const t in s){const e=s[t];E(e)&&(r[t]=e.bind(n))}if(i){const e=i.call(n,n);k(e)&&(t.data=Ht(e))}if(bn=!0,o)for(const t in o){const e=o[t],i=Kr({get:E(e)?e.bind(n,n):E(e.get)?e.get.bind(n,n):f,set:!E(e)&&E(e.set)?e.set.bind(n):f});Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:()=>i.value,set:t=>i.value=t})}if(a)for(const t in a)In(a[t],r,n,t);if(u){const t=E(u)?u.call(n):u;Reflect.ownKeys(t).forEach((e=>{He(e,t[e])}))}function M(t,e){_(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(h&&_n(h,t,"c"),M(cn,d),M(ln,p),M(hn,v),M(fn,g),M(nn,m),M(rn,y),M(yn,x),M(mn,S),M(gn,C),M(dn,w),M(pn,T),M(vn,N),_(R))if(R.length){const e=t.exposed||(t.exposed=oe({}));R.forEach((t=>{e[t]=ue(n,t)}))}else t.exposed||(t.exposed=l);A&&t.render===f&&(t.render=A),null!=P&&(t.inheritAttrs=P),D&&(t.components=D),O&&(t.directives=O)}function _n(t,e,n){he(_(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function In(t,e,n,r){const i=r.includes(".")?Xe(n,r):()=>n[r];if(A(t)){const n=e[t];E(n)&&Qe(i,n)}else if(E(t))Qe(i,t.bind(n));else if(k(t))if(_(t))t.forEach((t=>In(t,e,n,r)));else{const r=E(t.handler)?t.handler.bind(n):e[t.handler];E(r)&&Qe(i,r,t)}}function Tn(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let u;return a?u=a:i.length||n||r?(u={},i.length&&i.forEach((t=>En(u,t,s,!0))),En(u,e,s)):u=e,o.set(e,u),u}function En(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&En(t,o,n,!0),i&&i.forEach((e=>En(t,e,n,!0)));for(const i in e)if(r&&"expose"===i);else{const r=An[i]||n&&n[i];t[i]=r?r(t[i],e[i]):e[i]}return t}const An={data:Sn,props:xn,emits:xn,methods:xn,computed:xn,beforeCreate:Cn,created:Cn,beforeMount:Cn,mounted:Cn,beforeUpdate:Cn,updated:Cn,beforeDestroy:Cn,destroyed:Cn,activated:Cn,deactivated:Cn,errorCaptured:Cn,serverPrefetch:Cn,components:xn,directives:xn,watch:xn,provide:Sn,inject:function(t,e){return xn(kn(t),kn(e))}};function Sn(t,e){return e?t?function(){return m(E(t)?t.call(this,this):t,E(e)?e.call(this,this):e)}:e:t}function kn(t){if(_(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Cn(t,e){return t?[...new Set([].concat(t,e))]:e}function xn(t,e){return t?m(m(Object.create(null),t),e):e}function Nn(t,e,n,r=!1){const i={},o={};K(o,gr,1),t.propsDefaults=Object.create(null),Rn(t,e,i,o);for(const e in t.propsOptions[0])e in i||(i[e]=void 0);n?t.props=r?i:Gt(i,!1,mt,Ut,Vt):t.type.props?t.props=i:t.props=o,t.attrs=o}function Rn(t,e,n,r){const[i,o]=t.propsOptions;let s,a=!1;if(e)for(let u in e){if(D(u))continue;const c=e[u];let l;i&&w(i,l=M(u))?o&&o.includes(l)?(s||(s={}))[l]=c:n[l]=c:Me(t.emitsOptions,u)||c!==r[u]&&(r[u]=c,a=!0)}if(o){const e=Xt(n),r=s||l;for(let s=0;s<o.length;s++){const a=o[s];n[a]=Pn(i,e,a,r[a],t,!w(r,a))}}return a}function Pn(t,e,n,r,i,o){const s=t[n];if(null!=s){const t=w(s,"default");if(t&&void 0===r){const t=s.default;if(s.type!==Function&&E(t)){const{propsDefaults:o}=i;n in o?r=o[n]:(Mr(i),r=o[n]=t.call(null,e),Mr(null))}else r=t}s[0]&&(o&&!t?r=!1:!s[1]||""!==r&&r!==U(n)||(r=!0))}return r}function Dn(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let u=!1;if(!E(t)){const r=t=>{u=!0;const[n,r]=Dn(t,e,!0);m(s,n),r&&a.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!o&&!u)return r.set(t,h),h;if(_(o))for(let t=0;t<o.length;t++){const e=M(o[t]);On(e)&&(s[e]=l)}else if(o)for(const t in o){const e=M(t);if(On(e)){const n=o[t],r=s[e]=_(n)||E(n)?{type:n}:n;if(r){const t=Fn(Boolean,r.type),n=Fn(String,r.type);r[0]=t>-1,r[1]=n<0||t<n,(t>-1||w(r,"default"))&&a.push(e)}}}const c=[s,a];return r.set(t,c),c}function On(t){return"$"!==t[0]}function Ln(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Mn(t,e){return Ln(t)===Ln(e)}function Fn(t,e){return _(e)?e.findIndex((e=>Mn(e,t))):E(e)&&Mn(e,t)?0:-1}const Un=t=>"_"===t[0]||"$stable"===t,jn=t=>_(t)?t.map(Tr):[Tr(t)],qn=(t,e,n)=>{const r=qe((t=>jn(e(t))),n);return r._c=!1,r},Vn=(t,e,n)=>{const r=t._ctx;for(const n in t){if(Un(n))continue;const i=t[n];if(E(i))e[n]=qn(0,i,r);else if(null!=i){const t=jn(i);e[n]=()=>t}}},Bn=(t,e)=>{const n=jn(e);t.slots.default=()=>n};function Kn(t,e){if(null===Fe)return t;const n=Fe.proxy,r=t.dirs||(t.dirs=[]);for(let t=0;t<e.length;t++){let[i,o,s,a=l]=e[t];E(i)&&(i={mounted:i,updated:i}),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a})}return t}function Wn(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let u=a.dir[r];u&&(nt(),he(u,n,8,[t.el,a,t,e]),rt())}}function Hn(){return{app:null,config:{isNativeTag:d,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zn=0;function Gn(t,e){return function(n,r=null){null==r||k(r)||(r=null);const i=Hn(),o=new Set;let s=!1;const a=i.app={_uid:zn++,_component:n,_props:r,_container:null,_context:i,version:Hr,get config(){return i.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&E(t.install)?(o.add(t),t.install(a,...e)):E(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(i.mixins.includes(t)||i.mixins.push(t),a),component:(t,e)=>e?(i.components[t]=e,a):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,a):i.directives[t],mount(o,u,c){if(!s){const l=br(n,r);return l.appContext=i,u&&e?e(l,o):t(l,o,c),s=!0,a._container=o,o.__vue_app__=a,l.component.proxy}},unmount(){s&&(t(null,a._container),delete a._container.__vue_app__)},provide:(t,e)=>(i.provides[t]=e,a)};return a}}const Qn={scheduler:ke,allowRecurse:!0},Yn=function(t,e){e&&e.pendingBranch?_(t)?e.effects.push(...t):e.effects.push(t):xe(t,_e,we,Ie)},$n=(t,e,n,r,i=!1)=>{if(_(t))return void t.forEach(((t,o)=>$n(t,e&&(_(e)?e[o]:e),n,r,i)));if(tn(r)&&!i)return;const o=4&r.shapeFlag?r.component.exposed||r.component.proxy:r.el,s=i?null:o,{i:a,r:u}=t,c=e&&e.r,h=a.refs===l?a.refs={}:a.refs,f=a.setupState;if(null!=c&&c!==u&&(A(c)?(h[c]=null,w(f,c)&&(f[c]=null)):Zt(c)&&(c.value=null)),A(u)){const t=()=>{h[u]=s,w(f,u)&&(f[u]=s)};s?(t.id=-1,Yn(t,n)):t()}else if(Zt(u)){const t=()=>{u.value=s};s?(t.id=-1,Yn(t,n)):t()}else E(u)&&le(u,a,12,[s,h])};function Xn(t){return function(t,e){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:s,createText:a,createComment:u,setText:c,setElementText:d,parentNode:p,nextSibling:v,setScopeId:g=f,cloneNode:y,insertStaticContent:b}=t,_=(t,e,n,r=null,i=null,o=null,s=!1,a=null,u=!1)=>{t&&!vr(t,e)&&(r=st(t),J(t,i,o,!0),t=null),-2===e.patchFlag&&(u=!1,e.dynamicChildren=null);const{type:c,ref:l,shapeFlag:h}=e;switch(c){case or:I(t,e,n,r);break;case sr:T(t,e,n,r);break;case ar:null==t&&E(e,n,r,s);break;case ir:F(t,e,n,r,i,o,s,a,u);break;default:1&h?k(t,e,n,r,i,o,s,a,u):6&h?j(t,e,n,r,i,o,s,a,u):(64&h||128&h)&&c.process(t,e,n,r,i,o,s,a,u,ut)}null!=l&&i&&$n(l,t&&t.ref,o,e||t,!e)},I=(t,e,r,i)=>{if(null==t)n(e.el=a(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&c(n,e.children)}},T=(t,e,r,i)=>{null==t?n(e.el=u(e.children||""),r,i):e.el=t.el},E=(t,e,n,r)=>{[t.el,t.anchor]=b(t.children,e,n,r)},A=({el:t,anchor:e},r,i)=>{let o;for(;t&&t!==e;)o=v(t),n(t,r,i),t=o;n(e,r,i)},S=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=v(t),r(t),t=n;r(e)},k=(t,e,n,r,i,o,s,a,u)=>{s=s||"svg"===e.type,null==t?x(e,n,r,i,o,s,a,u):P(t,e,i,o,s,a,u)},x=(t,e,r,o,a,u,c,l)=>{let h,f;const{type:p,props:v,shapeFlag:g,transition:m,patchFlag:b,dirs:w}=t;if(t.el&&void 0!==y&&-1===b)h=t.el=y(t.el);else{if(h=t.el=s(t.type,u,v&&v.is,v),8&g?d(h,t.children):16&g&&R(t.children,h,null,o,a,u&&"foreignObject"!==p,c,l||!!t.dynamicChildren),w&&Wn(t,null,o,"created"),v){for(const e in v)D(e)||i(h,e,null,v[e],u,t.children,o,a,it);(f=v.onVnodeBeforeMount)&&Jn(f,o,t)}N(h,t,t.scopeId,c,o)}w&&Wn(t,null,o,"beforeMount");const _=(!a||a&&!a.pendingBranch)&&m&&!m.persisted;_&&m.beforeEnter(h),n(h,e,r),((f=v&&v.onVnodeMounted)||_||w)&&Yn((()=>{f&&Jn(f,o,t),_&&m.enter(h),w&&Wn(t,null,o,"mounted")}),a)},N=(t,e,n,r,i)=>{if(n&&g(t,n),r)for(let e=0;e<r.length;e++)g(t,r[e]);if(i){if(e===i.subTree){const e=i.vnode;N(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},R=(t,e,n,r,i,o,s,a,u=0)=>{for(let c=u;c<t.length;c++){const u=t[c]=a?Er(t[c]):Tr(t[c]);_(null,u,e,n,r,i,o,s,a)}},P=(t,e,n,r,s,a,u)=>{const c=e.el=t.el;let{patchFlag:h,dynamicChildren:f,dirs:p}=e;h|=16&t.patchFlag;const v=t.props||l,g=e.props||l;let m;if((m=g.onVnodeBeforeUpdate)&&Jn(m,n,e,t),p&&Wn(e,t,n,"beforeUpdate"),h>0){if(16&h)L(c,e,v,g,n,r,s);else if(2&h&&v.class!==g.class&&i(c,"class",null,g.class,s),4&h&&i(c,"style",v.style,g.style,s),8&h){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const u=a[e],l=v[u],h=g[u];(h!==l||o&&o(c,u))&&i(c,u,l,h,s,t.children,n,r,it)}}1&h&&t.children!==e.children&&d(c,e.children)}else u||null!=f||L(c,e,v,g,n,r,s);const y=s&&"foreignObject"!==e.type;f?O(t.dynamicChildren,f,c,n,r,y,a):u||z(t,e,c,null,n,r,y,a,!1),((m=g.onVnodeUpdated)||p)&&Yn((()=>{m&&Jn(m,n,e,t),p&&Wn(e,t,n,"updated")}),r)},O=(t,e,n,r,i,o,s)=>{for(let a=0;a<e.length;a++){const u=t[a],c=e[a],l=u.el&&(u.type===ir||!vr(u,c)||6&u.shapeFlag||64&u.shapeFlag)?p(u.el):n;_(u,c,l,null,r,i,o,s,!0)}},L=(t,e,n,r,s,a,u)=>{if(n!==r){for(const c in r){if(D(c))continue;const l=r[c],h=n[c];(l!==h||o&&o(t,c))&&i(t,c,h,l,u,e.children,s,a,it)}if(n!==l)for(const o in n)D(o)||o in r||i(t,o,n[o],null,u,e.children,s,a,it)}},F=(t,e,r,i,o,s,u,c,l)=>{const h=e.el=t?t.el:a(""),f=e.anchor=t?t.anchor:a("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:v}=e;p&&(l=!0),v&&(c=c?c.concat(v):v),null==t?(n(h,r,i),n(f,r,i),R(e.children,r,f,o,s,u,c,l)):d>0&&64&d&&p&&t.dynamicChildren?(O(t.dynamicChildren,p,r,o,s,u,c),(null!=e.key||o&&e===o.subTree)&&Zn(t,e,!0)):z(t,e,r,f,o,s,u,c,l)},j=(t,e,n,r,i,o,s,a,u)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,u):q(e,n,r,i,o,s,u):V(t,e,u)},q=(t,e,n,r,i,o,s)=>{const a=t.component=function(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Dr,o={uid:Or++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Dn(r,i),emitsOptions:Le(r,i),emit:null,emitted:null,propsDefaults:l,inheritAttrs:r.inheritAttrs,ctx:l,data:l,props:l,attrs:l,slots:l,refs:l,setupState:l,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Oe.bind(null,o),o}(t,r,i);if(en(t)&&(a.ctx.renderer=ut),function(t,e=!1){Ur=e;const{props:n,children:r}=t.vnode,i=Fr(t);Nn(t,n,i,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=Xt(e),K(e,"_",n)):Vn(e,t.slots={})}else t.slots={},e&&Bn(t,e);K(t.slots,gr,1)})(t,r);const o=i?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Rr);const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=oe(e)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}(t):null;Lr=t,nt();const i=le(r,t,0,[t.props,n]);if(rt(),Lr=null,C(i)){if(e)return i.then((e=>{jr(t,e)})).catch((e=>{fe(e,t,0)}));t.asyncDep=i}else jr(t,i)}else qr(t)}(t,e):void 0;Ur=!1}(a),a.asyncDep){if(i&&i.registerDep(a,W),!t.el){const t=a.subTree=br(sr);T(null,t,e,n)}}else W(a,t,e,n,i,o,s)},V=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||We(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?We(r,s,c):!!s;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!Me(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void H(r,e,n);r.next=e,function(t){const e=ve.indexOf(t);e>ge&&ve.splice(e,1)}(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},W=(t,e,n,r,i,o,s)=>{t.update=$((function(){if(t.isMounted){let e,{next:n,bu:r,u:a,parent:u,vnode:c}=t,l=n;n?(n.el=c.el,H(t,n,s)):n=c,r&&B(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Jn(e,u,n,c);const h=Ve(t),f=t.subTree;t.subTree=h,_(f,h,p(f.el),st(f),t,i,o),n.el=h.el,null===l&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,h.el),a&&Yn(a,i),(e=n.props&&n.props.onVnodeUpdated)&&Yn((()=>Jn(e,u,n,c)),i)}else{let s;const{el:a,props:u}=e,{bm:c,m:l,parent:h}=t;if(c&&B(c),(s=u&&u.onVnodeBeforeMount)&&Jn(s,h,e),a&&lt){const n=()=>{t.subTree=Ve(t),lt(a,t.subTree,t,i,null)};tn(e)?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{const s=t.subTree=Ve(t);_(null,s,n,r,t,i,o),e.el=s.el}if(l&&Yn(l,i),s=u&&u.onVnodeMounted){const t=e;Yn((()=>Jn(s,h,t)),i)}256&e.shapeFlag&&t.a&&Yn(t.a,i),t.isMounted=!0,e=n=r=null}}),Qn)},H=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=Xt(i),[u]=t.propsOptions;let c=!1;if(!(r||s>0)||16&s){let r;Rn(t,e,i,o)&&(c=!0);for(const o in a)e&&(w(e,o)||(r=U(o))!==o&&w(e,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=Pn(u,a,o,void 0,t,!0)):delete i[o]);if(o!==a)for(const t in o)e&&w(e,t)||(delete o[t],c=!0)}else if(8&s){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];const l=e[s];if(u)if(w(o,s))l!==o[s]&&(o[s]=l,c=!0);else{const e=M(s);i[e]=Pn(u,a,e,l,t,!1)}else l!==o[s]&&(o[s]=l,c=!0)}}c&&ot(t,"set","$attrs")}(t,e.props,r,n),((t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=l;if(32&r.shapeFlag){const t=e._;t?n&&1===t?o=!1:(m(i,e),n||1!==t||delete i._):(o=!e.$stable,Vn(e,i)),s=e}else e&&(Bn(t,e),s={default:1});if(o)for(const t in i)Un(t)||t in s||delete i[t]})(t,e.children,n),nt(),Ne(void 0,t.update),rt()},z=(t,e,n,r,i,o,s,a,u=!1)=>{const c=t&&t.children,l=t?t.shapeFlag:0,h=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void Q(c,h,n,r,i,o,s,a,u);if(256&f)return void G(c,h,n,r,i,o,s,a,u)}8&p?(16&l&&it(c,i,o),h!==c&&d(n,h)):16&l?16&p?Q(c,h,n,r,i,o,s,a,u):it(c,i,o,!0):(8&l&&d(n,""),16&p&&R(h,n,r,i,o,s,a,u))},G=(t,e,n,r,i,o,s,a,u)=>{e=e||h;const c=(t=t||h).length,l=e.length,f=Math.min(c,l);let d;for(d=0;d<f;d++){const r=e[d]=u?Er(e[d]):Tr(e[d]);_(t[d],r,n,null,i,o,s,a,u)}c>l?it(t,i,o,!0,!1,f):R(e,n,r,i,o,s,a,u,f)},Q=(t,e,n,r,i,o,s,a,u)=>{let c=0;const l=e.length;let f=t.length-1,d=l-1;for(;c<=f&&c<=d;){const r=t[c],l=e[c]=u?Er(e[c]):Tr(e[c]);if(!vr(r,l))break;_(r,l,n,null,i,o,s,a,u),c++}for(;c<=f&&c<=d;){const r=t[f],c=e[d]=u?Er(e[d]):Tr(e[d]);if(!vr(r,c))break;_(r,c,n,null,i,o,s,a,u),f--,d--}if(c>f){if(c<=d){const t=d+1,h=t<l?e[t].el:r;for(;c<=d;)_(null,e[c]=u?Er(e[c]):Tr(e[c]),n,h,i,o,s,a,u),c++}}else if(c>d)for(;c<=f;)J(t[c],i,o,!0),c++;else{const p=c,v=c,g=new Map;for(c=v;c<=d;c++){const t=e[c]=u?Er(e[c]):Tr(e[c]);null!=t.key&&g.set(t.key,c)}let m,y=0;const b=d-v+1;let w=!1,I=0;const T=new Array(b);for(c=0;c<b;c++)T[c]=0;for(c=p;c<=f;c++){const r=t[c];if(y>=b){J(r,i,o,!0);continue}let l;if(null!=r.key)l=g.get(r.key);else for(m=v;m<=d;m++)if(0===T[m-v]&&vr(r,e[m])){l=m;break}void 0===l?J(r,i,o,!0):(T[l-v]=c+1,l>=I?I=l:w=!0,_(r,e[l],n,null,i,o,s,a,u),y++)}const E=w?function(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=(o+s)/2|0,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=e[s];return n}(T):h;for(m=E.length-1,c=b-1;c>=0;c--){const t=v+c,h=e[t],f=t+1<l?e[t+1].el:r;0===T[c]?_(null,h,n,f,i,o,s,a,u):w&&(m<0||c!==E[m]?Y(h,n,f,2):m--)}}},Y=(t,e,r,i,o=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:l}=t;if(6&l)return void Y(t.component.subTree,e,r,i);if(128&l)return void t.suspense.move(e,r,i);if(64&l)return void a.move(t,e,r,ut);if(a===ir){n(s,e,r);for(let t=0;t<c.length;t++)Y(c[t],e,r,i);return void n(t.anchor,e,r)}if(a===ar)return void A(t,e,r);if(2!==i&&1&l&&u)if(0===i)u.beforeEnter(s),n(s,e,r),Yn((()=>u.enter(s)),o);else{const{leave:t,delayLeave:i,afterLeave:o}=u,a=()=>n(s,e,r),c=()=>{t(s,(()=>{a(),o&&o()}))};i?i(s,a,c):c()}else n(s,e,r)},J=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:f}=t;if(null!=a&&$n(a,null,n,t,!0),256&l)return void e.ctx.deactivate(t);const d=1&l&&f;let p;if((p=s&&s.onVnodeBeforeUnmount)&&Jn(p,e,t),6&l)et(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);d&&Wn(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,ut,r):c&&(o!==ir||h>0&&64&h)?it(c,e,n,!1,!0):(o===ir&&(128&h||256&h)||!i&&16&l)&&it(u,e,n),r&&Z(t)}((p=s&&s.onVnodeUnmounted)||d)&&Yn((()=>{p&&Jn(p,e,t),d&&Wn(t,null,e,"unmounted")}),n)},Z=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===ir)return void tt(n,i);if(e===ar)return void S(t);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:r}=o,i=()=>e(n,s);r?r(t.el,s,i):i()}else s()},tt=(t,e)=>{let n;for(;t!==e;)n=v(t),r(t),t=n;r(e)},et=(t,e,n)=>{const{bum:r,effects:i,update:o,subTree:s,um:a}=t;if(r&&B(r),i)for(let t=0;t<i.length;t++)X(i[t]);o&&(X(o),J(s,t,e,n)),a&&Yn(a,e),Yn((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},it=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)J(t[s],e,n,r,i)},st=t=>6&t.shapeFlag?st(t.component.subTree):128&t.shapeFlag?t.suspense.next():v(t.anchor||t.el),at=(t,e,n)=>{null==t?e._vnode&&J(e._vnode,null,null,!0):_(e._vnode||null,t,e,null,null,null,n),Re(),e._vnode=t},ut={p:_,um:J,m:Y,r:Z,mt:q,mc:R,pc:z,pbc:O,n:st,o:t};let ct,lt;e&&([ct,lt]=e(ut));return{render:at,hydrate:ct,createApp:Gn(at,ct)}}(t)}function Jn(t,e,n,r=null){he(t,e,7,[n,r])}function Zn(t,e,n=!1){const r=t.children,i=e.children;if(_(r)&&_(i))for(let t=0;t<r.length;t++){const e=r[t];let o=i[t];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o=i[t]=Er(i[t]),o.el=e.el),n||Zn(e,o))}}function tr(t,e){return nr("components",t,!0,e)||t}const er=Symbol();function nr(t,e,n=!0,r=!1){const i=Fe||Lr;if(i){const n=i.type;if("components"===t){const t=Br(n);if(t&&(t===e||t===M(e)||t===j(M(e))))return n}const o=rr(i[t]||n[t],e)||rr(i.appContext[t],e);return!o&&r?n:o}}function rr(t,e){return t&&(t[e]||t[M(e)]||t[j(M(e))])}const ir=Symbol(void 0),or=Symbol(void 0),sr=Symbol(void 0),ar=Symbol(void 0),ur=[];let cr=null;function lr(t=!1){ur.push(cr=t?null:[])}let hr=1;function fr(t){hr+=t}function dr(t,e,n,r,i){const o=br(t,e,n,r,i,!0);return o.dynamicChildren=hr>0?cr||h:null,ur.pop(),cr=ur[ur.length-1]||null,hr>0&&cr&&cr.push(o),o}function pr(t){return!!t&&!0===t.__v_isVNode}function vr(t,e){return t.type===e.type&&t.key===e.key}const gr="__vInternal",mr=({key:t})=>null!=t?t:null,yr=({ref:t})=>null!=t?A(t)||Zt(t)||E(t)?{i:Fe,r:t}:t:null,br=function(t,e=null,n=null,i=0,o=null,s=!1){t&&t!==er||(t=sr);if(pr(t)){const r=wr(t,e,!0);return n&&Ar(r,n),r}u=t,E(u)&&"__vccOpts"in u&&(t=t.__vccOpts);var u;if(e){($t(e)||gr in e)&&(e=m({},e));let{class:t,style:n}=e;t&&!A(t)&&(e.class=a(t)),k(n)&&($t(n)&&!_(n)&&(n=m({},n)),e.style=r(n))}const c=A(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:k(t)?4:E(t)?2:0,l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mr(e),ref:e&&yr(e),scopeId:Ue,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};Ar(l,n),128&c&&t.normalize(l);hr>0&&!s&&cr&&(i>0||6&c)&&32!==i&&cr.push(l);return l};function wr(t,e,n=!1){const{props:i,ref:o,patchFlag:s,children:u}=t,c=e?function(...t){const e=m({},t[0]);for(let n=1;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=a([e.class,i.class]));else if("style"===t)e.style=r([e.style,i.style]);else if(v(t)){const n=e[t],r=i[t];n!==r&&(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=i[t])}return e}(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&mr(c),ref:e&&e.ref?n&&o?_(o)?o.concat(yr(e)):[o,yr(e)]:yr(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ir?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&wr(t.ssContent),ssFallback:t.ssFallback&&wr(t.ssFallback),el:t.el,anchor:t.anchor}}function _r(t=" ",e=0){return br(or,null,t,e)}function Ir(t,e){const n=br(ar,null,t);return n.staticCount=e,n}function Tr(t){return null==t||"boolean"==typeof t?br(sr):_(t)?br(ir,null,t.slice()):"object"==typeof t?Er(t):br(or,null,String(t))}function Er(t){return null===t.el?t:wr(t)}function Ar(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(_(e))n=16;else if("object"==typeof e){if(1&r||64&r){const n=e.default;return void(n&&(n._c&&(n._d=!1),Ar(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||gr in e?3===r&&Fe&&(1===Fe.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=Fe}}else E(e)?(e={default:e,_ctx:Fe},n=32):(e=String(e),64&r?(n=16,e=[_r(e)]):n=8);t.children=e,t.shapeFlag|=n}function Sr(t,e){let n;if(_(t)||A(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if("number"==typeof t){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(k(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=e(t[o],o,i)}}else n=[];return n}function kr(t,e,n={},r,i){let o=t[e];o&&o._c&&(o._d=!1),lr();const s=o&&Cr(o(n)),a=dr(ir,{key:n.key||`_${e}`},s||(r?r():[]),s&&1===t._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Cr(t){return t.some((t=>!pr(t)||t.type!==sr&&!(t.type===ir&&!Cr(t.children))))?t:null}const xr=t=>t?Fr(t)?t.exposed?t.exposed:t.proxy:xr(t.parent):null,Nr=m(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xr(t.parent),$root:t=>xr(t.root),$emit:t=>t.emit,$options:t=>Tn(t),$forceUpdate:t=>()=>ke(t.update),$nextTick:t=>Se.bind(t.proxy),$watch:t=>$e.bind(t)}),Rr={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=t;if("__v_skip"===e)return!0;let c;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==l&&w(r,e))return s[e]=0,r[e];if(i!==l&&w(i,e))return s[e]=1,i[e];if((c=t.propsOptions[0])&&w(c,e))return s[e]=2,o[e];if(n!==l&&w(n,e))return s[e]=3,n[e];bn&&(s[e]=4)}}const h=Nr[e];let f,d;return h?("$attrs"===e&&it(t,0,e),h(t)):(f=a.__cssModules)&&(f=f[e])?f:n!==l&&w(n,e)?(s[e]=3,n[e]):(d=u.config.globalProperties,w(d,e)?d[e]:void 0)},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==l&&w(i,e))i[e]=n;else if(r!==l&&w(r,e))r[e]=n;else if(w(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return void 0!==n[s]||t!==l&&w(t,s)||e!==l&&w(e,s)||(a=o[0])&&w(a,s)||w(r,s)||w(Nr,s)||w(i.config.globalProperties,s)}},Pr=m({},Rr,{get(t,e){if(e!==Symbol.unscopables)return Rr.get(t,e,t)},has:(t,n)=>"_"!==n[0]&&!e(n)}),Dr=Hn();let Or=0;let Lr=null;const Mr=t=>{Lr=t};function Fr(t){return 4&t.vnode.shapeFlag}let Ur=!1;function jr(t,e,n){E(e)?t.render=e:k(e)&&(t.setupState=oe(e)),qr(t)}function qr(t,e,n){const r=t.type;t.render||(t.render=r.render||f,t.render._rc&&(t.withProxy=new Proxy(t.ctx,Pr))),Lr=t,nt(),wn(t),rt(),Lr=null}function Vr(t,e=Lr){e&&(e.effects||(e.effects=[])).push(t)}function Br(t){return E(t)&&t.displayName||t.name}function Kr(t){const e=function(t){let e,n;return E(t)?(e=t,n=f):(e=t.get,n=t.set),new ce(e,n,E(t)||!t.set)}(t);return Vr(e.effect),e}function Wr(t,e,n){const r=arguments.length;return 2===r?k(e)&&!_(e)?pr(e)?br(t,null,[e]):br(t,e):br(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&pr(n)&&(n=[n]),br(t,e,n))}const Hr="3.1.1",zr="http://www.w3.org/2000/svg",Gr="undefined"!=typeof document?document:null;let Qr,Yr;const $r={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Gr.createElementNS(zr,t):Gr.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>Gr.createTextNode(t),createComment:t=>Gr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=r?Yr||(Yr=Gr.createElementNS(zr,"svg")):Qr||(Qr=Gr.createElement("div"));i.innerHTML=t;const o=i.firstChild;let s=o,a=s;for(;s;)a=s,$r.insert(s,e,n),s=i.firstChild;return[o,a]}};const Xr=/\s*!important$/;function Jr(t,e,n){if(_(n))n.forEach((n=>Jr(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=ti[e];if(n)return n;let r=M(e);if("filter"!==r&&r in t)return ti[e]=r;r=j(r);for(let n=0;n<Zr.length;n++){const i=Zr[n]+r;if(i in t)return ti[e]=i}return e}(t,e);Xr.test(n)?t.setProperty(U(r),n.replace(Xr,""),"important"):t[r]=n}}const Zr=["Webkit","Moz","ms"],ti={};const ei="http://www.w3.org/1999/xlink";let ni=Date.now,ri=!1;if("undefined"!=typeof window){ni()>document.createEvent("Event").timeStamp&&(ni=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);ri=!!(t&&Number(t[1])<=53)}let ii=0;const oi=Promise.resolve(),si=()=>{ii=0};function ai(t,e,n,r){t.addEventListener(e,n,r)}function ui(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=function(t){let e;if(ci.test(t)){let n;for(e={};n=t.match(ci);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[U(t.slice(2)),e]}(e);if(r){ai(t,n,o[e]=function(t,e){const n=t=>{const r=t.timeStamp||ni();(ri||r>=n.attached-1)&&he(function(t,e){if(_(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>ii||(oi.then(si),ii=ni()))(),n}(r,i),a)}else s&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,s,a),o[e]=void 0)}}const ci=/(?:Once|Passive|Capture)$/;const li=/^on[a-z]/;const hi=t=>{const e=t.props["onUpdate:modelValue"];return _(e)?t=>B(e,t):e};function fi(t){t.target.composing=!0}function di(t){const e=t.target;e.composing&&(e.composing=!1,function(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}(e,"input"))}const pi={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=hi(i);const o=r||"number"===t.type;ai(t,e?"change":"input",(e=>{if(e.target.composing)return;let r=t.value;n?r=r.trim():o&&(r=W(r)),t._assign(r)})),n&&ai(t,"change",(()=>{t.value=t.value.trim()})),e||(ai(t,"compositionstart",fi),ai(t,"compositionend",di),ai(t,"change",di))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{trim:n,number:r}},i){if(t._assign=hi(i),t.composing)return;if(document.activeElement===t){if(n&&t.value.trim()===e)return;if((r||"number"===t.type)&&W(t.value)===e)return}const o=null==e?"":e;t.value!==o&&(t.value=o)}},vi=["ctrl","shift","alt","meta"],gi={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>vi.some((n=>t[`${n}Key`]&&!e.includes(n)))},mi=(t,e)=>(n,...r)=>{for(let t=0;t<e.length;t++){const r=gi[e[t]];if(r&&r(n,e))return}return t(n,...r)},yi={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):bi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),bi(t,!0),r.enter(t)):r.leave(t,(()=>{bi(t,!1)})):bi(t,e))},beforeUnmount(t,{value:e}){bi(t,e)}};function bi(t,e){t.style.display=e?t._vod:"none"}const wi=m({patchProp:(t,e,r,i,o=!1,s,a,u,c)=>{switch(e){case"class":!function(t,e,n){if(null==e&&(e=""),n)t.setAttribute("class",e);else{const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),t.className=e}}(t,i,o);break;case"style":!function(t,e,n){const r=t.style;if(n)if(A(n)){if(e!==n){const e=r.display;r.cssText=n,"_vod"in t&&(r.display=e)}}else{for(const t in n)Jr(r,t,n[t]);if(e&&!A(e))for(const t in e)null==n[t]&&Jr(r,t,"")}else t.removeAttribute("style")}(t,r,i);break;default:v(e)?g(e)||ui(t,e,0,i,a):function(t,e,n,r){if(r)return"innerHTML"===e||!!(e in t&&li.test(e)&&E(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(li.test(e)&&A(n))return!1;return e in t}(t,e,i,o)?function(t,e,n,r,i,o,s){if("innerHTML"===e||"textContent"===e)return r&&s(r,i,o),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName){t._value=n;const r=null==n?"":n;return t.value!==r&&(t.value=r),void(null==n&&t.removeAttribute(e))}if(""===n||null==n){const r=typeof t[e];if(""===n&&"boolean"===r)return void(t[e]=!0);if(null==n&&"string"===r)return t[e]="",void t.removeAttribute(e);if("number"===r)return t[e]=0,void t.removeAttribute(e)}try{t[e]=n}catch(t){}}(t,e,i,s,a,u,c):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),function(t,e,r,i,o){if(i&&e.startsWith("xlink:"))null==r?t.removeAttributeNS(ei,e.slice(6,e.length)):t.setAttributeNS(ei,e,r);else{const i=n(e);null==r||i&&!1===r?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}(t,e,i,o))}},forcePatchProp:(t,e)=>"value"===e},$r);let _i;
/*!
  * vue-router v4.0.8
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Ti=t=>Ii?Symbol(t):"_vr_"+t,Ei=Ti("rvlm"),Ai=Ti("rvd"),Si=Ti("r"),ki=Ti("rl"),Ci=Ti("rvl"),xi="undefined"!=typeof window;const Ni=Object.assign;function Ri(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}let Pi=()=>{};const Di=/\/$/;function Oi(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("?"),u=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),o=e.slice(a+1,u>-1?u:e.length),i=t(o)),u>-1&&(r=r||e.slice(0,u),s=e.slice(u,e.length)),r=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}(null!=r?r:e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function Li(t,e){return!e||t.toLowerCase().indexOf(e.toLowerCase())?t:t.slice(e.length)||"/"}function Mi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Fi(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(!Ui(t[n],e[n]))return!1;return!0}function Ui(t,e){return Array.isArray(t)?ji(t,e):Array.isArray(e)?ji(e,t):t===e}function ji(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var qi,Vi,Bi,Ki;function Wi(t){if(!t)if(xi){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(Di,"")}(Vi=qi||(qi={})).pop="pop",Vi.push="push",(Ki=Bi||(Bi={})).back="back",Ki.forward="forward",Ki.unknown="";const Hi=/^[^#]+#/;function zi(t,e){return t.replace(Hi,"#")+e}const Gi=()=>({left:window.pageXOffset,top:window.pageYOffset});function Qi(t){let e;if("el"in t){let n=t.el;const r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function Yi(t,e){return(history.state?history.state.position-e:-1)+t}const $i=new Map;function Xi(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let e=i.includes(t.slice(o))?t.slice(o).length:1,n=i.slice(e);return"/"!==n[0]&&(n="/"+n),Li(n,"")}return Li(n,t)+r+i}function Ji(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Gi():null}}function Zi(t){const{history:e,location:n}=window;let r={value:Xi(t,n)},i={value:e.state};function o(r,o,s){const a=t.indexOf("#"),u=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+r:location.protocol+"//"+location.host+t+r;try{e[s?"replaceState":"pushState"](o,"",u),i.value=o}catch(t){console.error(t),n[s?"replace":"assign"](u)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(t,n){const s=Ni({},i.value,e.state,{forward:t,scroll:Gi()});o(s.current,s,!0),o(t,Ni({},Ji(r.value,t,null),{position:s.position+1},n),!1),r.value=t},replace:function(t,n){o(t,Ni({},e.state,Ji(i.value.back,t,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=t}}}function to(t){return"string"==typeof t||"symbol"==typeof t}const eo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},no=Ti("nf");var ro,io;function oo(t,e){return Ni(new Error,{type:t,[no]:!0},e)}function so(t,e){return t instanceof Error&&no in t&&(null==e||!!(t.type&e))}(io=ro||(ro={}))[io.aborted=4]="aborted",io[io.cancelled=8]="cancelled",io[io.duplicated=16]="duplicated";const ao={sensitive:!1,strict:!1,start:!0,end:!0},uo=/[.+*?^${}()[\]/\\]/g;function co(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function lo(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const t=co(r[n],i[n]);if(t)return t;n++}return i.length-r.length}const ho={type:0,value:""},fo=/[a-zA-Z0-9_]/;function po(t,e,n){const r=function(t,e){const n=Ni({},ao,e);let r=[],i=n.start?"^":"";const o=[];for(const e of t){const t=e.length?[]:[90];n.strict&&!e.length&&(i+="/");for(let r=0;r<e.length;r++){const s=e[r];let a=40+(n.sensitive?.25:0);if(0===s.type)r||(i+="/"),i+=s.value.replace(uo,"\\$&"),a+=40;else if(1===s.type){const{value:t,repeatable:n,optional:u,regexp:c}=s;o.push({name:t,repeatable:n,optional:u});const l=c||"[^/]+?";if("[^/]+?"!==l){a+=10;try{new RegExp(`(${l})`)}catch(e){throw new Error(`Invalid custom RegExp for param "${t}" (${l}): `+e.message)}}let h=n?`((?:${l})(?:/(?:${l}))*)`:`(${l})`;r||(h=u&&e.length<2?`(?:/${h})`:"/"+h),u&&(h+="?"),i+=h,a+=20,u&&(a+=-8),n&&(a+=-20),".*"===l&&(a+=-50)}t.push(a)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");return{re:s,score:r,keys:o,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let t=1;t<e.length;t++){const r=e[t]||"",i=o[t-1];n[i.name]=r&&i.repeatable?r.split("/"):r}return n},stringify:function(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,u=o in e?e[o]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(t){if(!t)return[[]];if("/"===t)return[[ho]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,u=0,c="",l="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;u<t.length;)if(a=t[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===a?n=2:fo.test(a)?f():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,l="";break;default:e("Unknown state")}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),s(),i}(t.path),n),i=Ni(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function vo(t,e){const n=[],r=new Map;function i(t,n,r){let a=!r,u=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:go(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}(t);u.aliasOf=r&&r.record;const c=bo(e,t),l=[u];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(Ni({},u,{components:r?r.record.components:u.components,path:t,aliasOf:r?r.record:u}))}let h,f;for(const e of l){let{path:l}=e;if(n&&"/"!==l[0]){let t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&r+l)}if(h=po(e,n,c),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),a&&t.name&&!mo(h)&&o(t.name)),"children"in u){let t=u.children;for(let e=0;e<t.length;e++)i(t[e],h,r&&r.children[e])}r=r||h,s(h)}return f?()=>{o(f)}:Pi}function o(t){if(to(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{let e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function s(t){let e=0;for(;e<n.length&&lo(t,n[e])>=0;)e++;n.splice(e,0,t),t.record.name&&!mo(t)&&r.set(t.record.name,t)}return e=bo({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>i(t))),{addRoute:i,resolve:function(t,e){let i,o,s,a={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw oo(1,{location:t});s=i.record.name,a=Ni(function(t,e){let n={};for(let r of e)r in t&&(n[r]=t[r]);return n}(e.params,i.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),o=i.stringify(a)}else if("path"in t)o=t.path,i=n.find((t=>t.re.test(o))),i&&(a=i.parse(o),s=i.record.name);else{if(i=e.name?r.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw oo(1,{location:t,currentLocation:e});s=i.record.name,a=Ni({},e.params,t.params),o=i.stringify(a)}const u=[];let c=i;for(;c;)u.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:u,meta:yo(u)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(t){return r.get(t)}}}function go(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(let r in t.components)e[r]="boolean"==typeof n?n:n[r];return e}function mo(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function yo(t){return t.reduce(((t,e)=>Ni(t,e.meta)),{})}function bo(t,e){let n={};for(let r in t)n[r]=r in e?e[r]:t[r];return n}const wo=/#/g,_o=/&/g,Io=/\//g,To=/=/g,Eo=/\?/g,Ao=/\+/g,So=/%5B/g,ko=/%5D/g,Co=/%5E/g,xo=/%60/g,No=/%7B/g,Ro=/%7C/g,Po=/%7D/g,Do=/%20/g;function Oo(t){return encodeURI(""+t).replace(Ro,"|").replace(So,"[").replace(ko,"]")}function Lo(t){return Oo(t).replace(Ao,"%2B").replace(Do,"+").replace(wo,"%23").replace(_o,"%26").replace(xo,"`").replace(No,"{").replace(Po,"}").replace(Co,"^")}function Mo(t){return function(t){return Oo(t).replace(wo,"%23").replace(Eo,"%3F")}(t).replace(Io,"%2F")}function Fo(t){try{return decodeURIComponent(""+t)}catch(t){}return""+t}function Uo(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let t=0;t<n.length;++t){const r=n[t].replace(Ao," ");let i=r.indexOf("="),o=Fo(i<0?r:r.slice(0,i));if(Object.prototype.hasOwnProperty(o))continue;let s=i<0?null:Fo(r.slice(i+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function jo(t){let e="";for(let n in t){const r=t[n];if(n=Lo(n).replace(To,"%3D"),null==r){void 0!==r&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(r)?r.map((t=>t&&Lo(t))):[r&&Lo(r)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function qo(t){const e={};for(let n in t){let r=t[n];void 0!==r&&(e[n]=Array.isArray(r)?r.map((t=>null==t?null:""+t)):null==r?r:""+r)}return e}function Vo(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function Bo(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const u=t=>{var u;!1===t?a(oo(4,{from:n,to:e})):t instanceof Error?a(t):"string"==typeof(u=t)||u&&"object"==typeof u?a(oo(2,{from:e,to:t})):(o&&r.enterCallbacks[i]===o&&"function"==typeof t&&o.push(t),s())},c=t.call(r&&r.instances[i],e,n,u);let l=Promise.resolve(c);t.length<3&&(l=l.then(u)),l.catch((t=>a(t)))}))}function Ko(t,e,n,r){const i=[];for(const s of t)for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if("object"==typeof(o=a)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(a.__vccOpts||a)[e];o&&i.push(Bo(o,n,r,s,t))}else{let o=a();o=o.catch(console.error),i.push((()=>o.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const o=(a=i).__esModule||Ii&&"Module"===a[Symbol.toStringTag]?i.default:i;var a;s.components[t]=o;const u=(o.__vccOpts||o)[e];return u&&Bo(u,n,r,s,t)()}))))}}var o;return i}function Wo(t){const e=ze(Si),n=ze(ki),r=Kr((()=>e.resolve(re(t.to)))),i=Kr((()=>{let{matched:t}=r.value,{length:e}=t;const i=t[e-1];let o=n.matched;if(!i||!o.length)return-1;let s=o.findIndex(Mi.bind(null,i));if(s>-1)return s;let a=zo(t[e-2]);return e>1&&zo(i)===a&&o[o.length-1].path!==a?o.findIndex(Mi.bind(null,t[e-2])):s})),o=Kr((()=>i.value>-1&&function(t,e){for(let n in e){let r=e[n],i=t[n];if("string"==typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((t,e)=>t!==i[e])))return!1}return!0}(n.params,r.value.params))),s=Kr((()=>i.value>-1&&i.value===n.matched.length-1&&Fi(n.params,r.value.params)));return{route:r,href:Kr((()=>r.value.href)),isActive:o,isExactActive:s,navigate:function(n={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)?e[re(t.replace)?"replace":"push"](re(t.to)):Promise.resolve()}}}const Ho=Ze({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(t,{slots:e}){const n=Ht(Wo(t)),{options:r}=ze(Si),i=Kr((()=>({[Go(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Go(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=e.default&&e.default(n);return t.custom?r:Wr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function zo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Go=(t,e,n)=>null!=t?t:null!=e?e:n;function Qo(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const Yo=Ze({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=ze(Ci),i=Kr((()=>t.route||r.value)),o=ze(Ai,0),s=Kr((()=>i.value.matched[o]));He(Ai,o+1),He(Ei,s),He(Ci,i);const a=te();return Qe((()=>[a.value,s.value,t.name]),(([t,e,n],[r,i,o])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&Mi(e,i)&&r||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=i.value,o=s.value,u=o&&o.components[t.name],c=t.name;if(!u)return Qo(n.default,{Component:u,route:r});const l=o.props[t.name],h=l?!0===l?r.params:"function"==typeof l?l(r):l:null,f=Wr(u,Ni({},h,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(o.instances[c]=null)},ref:a}));return Qo(n.default,{Component:f,route:r})||f}}});function $o(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function Xo(){return ze(Si)}var Jo=Ze({setup(){const{currentRoute:t}=Xo();return{layout:Kr((()=>`${t.value.meta.layout||"default"}-layout`))}}});Jo.render=function(t,e,n,r,i,o){const s=tr("router-view");return lr(),dr((a=t.layout,A(a)?nr("components",a,!1)||a:a||er),null,{default:qe((()=>[br(s)])),_:1});var a};var Zo=Ze({setup(){const t={name:"",email:"123@123",title:"",title2:"Tag",status:"",role:"  "};return{users:te([...Array(1).keys()].map((()=>t)))}}}),ts="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw8QDxASDw8VFRUQEBAQFRAVDxgSFRUPFRUWFhUVFRUYHSggGB0lGxUXITEhJSkrLi4uFx8zODMtNygtMCsBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAbAAEBAAMBAQEAAAAAAAAAAAAAAQIGBwUEA//EAD8QAAIBAgEGCAoJBQAAAAAAAAABAgMRBAUGBxIhMRM1QVFhc4GyFDM0UnF0hJGxsyIyQnKTocPw8RYjU8HR/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AOwgAARO5GyoCgAAAAABAKCWCYFAAAAAAAAJF3JcqAoAAAAAAQCgxsZIAAABi2VoiQBIyAAAAAAABEUjQGTd9r+O8xQRQAAAAAAYtlktgS5QCRQAAAAAAASLKRoCvnfYgggAAAAAAAAAAAAAAAAAAAAA8fKuc+Cw0nGrWWut9OKc5L72qvo9tgPYBr+Cz0yfVaXD6jexcJBwV/vPYu1mwJ3/AHyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABq2f8Al6WFoRhSdqldyipLfGmra0l07Ul6W+Q1fNPMl4qmq+IqShCd3CMba81yybd0k/Q7/H9dK1OXhGHk/quhJL7ym3L8pRN9yDWhPCYaVP6roU0rclopNdjTXYBqGWdHUNRywlSevFXVOo01LoUklqv037N58ujfLtSNXwOq3qyUuDUt8KkU3KG3cmk9nI10nSDkuT5Rq5cUqP1XjKk1blinJykuhpN9oHWgAAAAAAAAAAAAAAAAAAAIwKCWCYFAAAAAAAAJF3I2SpUjCLlNqMYpycm7JRW9tvcB4+duQVjsPqJpVIPXpye5Stti+hr/AE+Q51kzLmOyVOVGcNl7ujUTtfzqclz86umbridIGAhJqLqTt9qNP6PZrNP8j5cTn5k2rHVq0Kk15s6NOa9zkBruVs+sXiY8FSgqaqfRahedSV/sp8l+hX6TY8wM1p4a+IxEbVJR1YU+WEHvcuaT5uRenZ+WEz2yVR8ThZU7+Zh6cO7I+qOkTAt7Y1l08HH/AFIDbwfLk3KNHE01UoVFOL2XW9PmkntT6GfSBQS38BMCgAAAAAAAETuRsqAoAAERSNAVu+/+QRFAAAAAABjcskEucBFGh6VcfOMKFCLtGo51J9Oo4qKfRdt9iN9Ob6V1/ewvV1e9ED7M3MxcLUw1KrXc5SqwjUtGerGMZK6Stv2NXZ6f9AZP8yp+Mz2M3PIsJ6tQ+XE9EDVv6Ayf5lT8ZmFbR7gHFqPCRbWyXCa1nz2aszbAByjMavUw2U+AvdTlVoTS3OVPWakl6Y+6TOrRZyfIvHvtmK/VOsNAV877FcIIAAAAAAAwbuZSQSAJFAAAAAAAAAAAAAAAAAAHNtLHjcL1dXvROknNtLHjcL1dXvRA3jNzyLCerUPlxPRPOzc8iwnq1D5cT0QAAA5LkTj32zFfqnWjkuROPfbMV+qdaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABzbSx43C9XV70TpJ4ucWbVDHcG6rnF072lBpNxdrxd0+ZAaVl/OHFYalk6nh6uovAMPVdop60mnG0rrdaG7pZ0vD1NaEJPfKMZW6Wkzl2kyjGniaEIK0aeCpwjHmjGdVL8kb/AJSyg8NgHWUVJ06FNqL3OTUYq/Rdgesc+q5yYtZZVFVP7XhEaHBaqtquybva97u97/ke7mRnBVx1Kq60YqVKajeCaTjJXWxt2ex8pplfj726HxiBhkTj32zFfqnWjwcNmnhqeMeLjr67lOag5LUVSd1KSVr8r2X5T3gAAAAAAAAAAAAAAAAAAAEi7+8jZYgUAAAAAAIBQTVCA5dpW8speqx+ZVNuzr4oq9RR71M1HSt5ZS9Vj8yqbdnXxRV6ij3qYHj6J/FYrrKXdkeHX4+9uh8YnuaJ/FYrrKXdkeHX4+9uh8YgdYAAAkWRsqAoAAAAAATeBQSwTAoAAGDlcyaCXOASKAAAAAAACIpGgMm+fsRCJFA5bpW8speqx+ZVNuzr4oq9RR71M1HSt5ZS9Vj8yqbdnXxRV6ij3qYHj6J/FYrrKXdkeHX4+9uh8YnuaJ/FYrrKXdkeHX4+9uh8YgdYbMLmUkEgCRQAAAAAAASLKRoCvp/aAAAAAAAAAAAAAAAAAAAAAcv0qwfhdF22PDJJ8jaqVLpdK1l70fBlHPbEV8NLDzp0lGUIwckpa1otNb5W+zzHXKtGE1acYyS22lFS29p+XgNH/DT/AA4/8A4/m7nTWwMakaUKcuElGT11J2aTWzVkuczyNi5YnKtCrJLWq4mE3GN7bGm7Xu7JJvsOu+A0f8NP8OP/AAzpYanF3jTjF7rqCTt6UgP1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgFBHEICgAAAAAAYAkWRsqAoAAAAAATeBQRxCYFAAAAAACNgJPmKjC38mYAAACIoYC/P7gRIoAAAAAAMLmTQSAJFAAAAAAABEUjQF9IAAAAAAAI2YoyauUCJFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//Z";const es=br("h3",{class:"text-gray-700 text-3xl font-medium"}," ",-1),ns=br("div",{class:"mt-4"},[br("div",{class:"flex flex-wrap -mx-6"},[br("div",{class:"w-full px-6 sm:w-1/2 xl:w-1/3"},[br("div",{class:"flex items-center px-5 py-6 shadow-sm rounded-md bg-white"},[br("div",{class:"p-3 rounded-full bg-indigo-600 bg-opacity-75"},[br("svg",{class:"h-8 w-8 text-white",viewBox:"0 0 28 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[br("path",{fill:"currentColor"}),br("path",{fill:"currentColor"}),br("path",{fill:"currentColor"}),br("path",{fill:"currentColor"}),br("path",{fill:"currentColor"}),br("path",{fill:"currentColor"})])]),br("div",{class:"mx-5"},[br("h4",{class:"text-2xl font-semibold text-gray-700"},"4"),br("div",{class:"text-gray-500"}," ")])])]),br("div",{class:"w-full mt-6 px-6 sm:w-1/2 xl:w-1/3 sm:mt-0"},[br("div",{class:"flex items-center px-5 py-6 shadow-sm rounded-md bg-white"},[br("div",{class:"p-3 rounded-full bg-orange-600 bg-opacity-75"},[br("svg",{class:"h-8 w-8 text-white",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[br("path",{fill:"currentColor"}),br("path",{fill:"currentColor"}),br("path",{fill:"currentColor"})])]),br("div",{class:"mx-5"},[br("h4",{class:"text-2xl font-semibold text-gray-700"},"11"),br("div",{class:"text-gray-500"}," ")])])]),br("div",{class:"w-full mt-6 px-6 sm:w-1/2 xl:w-1/3 xl:mt-0"},[br("div",{class:"flex items-center px-5 py-6 shadow-sm rounded-md bg-white"},[br("div",{class:"p-3 rounded-full bg-pink-600 bg-opacity-75"},[br("svg",{class:"h-8 w-8 text-white",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[br("path",{fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linejoin":"round"}),br("path",{stroke:"currentColor","stroke-width":"2"})])]),br("div",{class:"mx-5"},[br("h4",{class:"text-2xl font-semibold text-gray-700"},"1"),br("div",{class:"text-gray-500"}," ")])])])])],-1),rs=br("div",{class:"mt-8"},null,-1),is={class:"flex flex-col mt-8"},os={class:"-my-2 py-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},ss={class:"align-middle inline-block min-w-full shadow overflow-hidden sm:rounded-lg border-b border-gray-200"},as={class:"min-w-full"},us=br("thead",null,[br("tr",null,[br("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"  "),br("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"  "),br("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"  "),br("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"}," --- "),br("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50"})])],-1),cs={class:"bg-white"},ls={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},hs={class:"flex items-center"},fs=br("div",{class:"flex-shrink-0 h-10 w-10"},[br("img",{class:"h-10 w-10 rounded-full",src:ts,alt:""})],-1),ds={class:"ml-4"},ps={class:"text-sm leading-5 font-medium text-gray-900"},vs={class:"text-sm leading-5 text-gray-500"},gs={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},ms={class:"text-sm leading-5 text-gray-900"},ys={class:"text-sm leading-5 text-gray-500"},bs={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},ws={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-green-800"},_s={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200 text-sm leading-5 text-gray-500"},Is=br("td",{class:"px-6 py-4 whitespace-nowrap text-right border-b border-gray-200 text-sm leading-5 font-medium"},[br("a",{href:"#",class:"text-indigo-600 hover:text-indigo-900"},"")],-1);Zo.render=function(t,e,n,r,i,o){return lr(),dr("div",null,[es,ns,rs,br("div",is,[br("div",os,[br("div",ss,[br("table",as,[us,br("tbody",cs,[(lr(!0),dr(ir,null,Sr(t.users,((t,e)=>(lr(),dr("tr",{key:e},[br("td",ls,[br("div",hs,[fs,br("div",ds,[br("div",ps,u(t.name),1),br("div",vs,u(t.email),1)])])]),br("td",gs,[br("div",ms,u(t.title),1),br("div",ys,u(t.title2),1)]),br("td",bs,[br("span",ws,u(t.status),1)]),br("td",_s,u(t.role),1),Is])))),128))])])])])])])};var Ts=Ze({setup(){const t=te({username:"",email:"",password:"",confirm:""});return{user:t,register:()=>{const e=JSON.parse(JSON.stringify(t.value));console.log("Registered: ",e)}}}});const Es=br("h3",{class:"text-gray-700 text-3xl font-semibold"}," ",-1),As=br("div",{class:"mt-4"},[br("h4",{class:"text-gray-600"},"ID"),br("div",{class:"mt-4"},[br("div",{class:"max-w-sm w-full bg-white shadow-md rounded-md overflow-hidden border"},[br("form",null,[br("div",{class:"flex justify-between items-center px-5 py-3 text-gray-700 border-b"},[br("h3",{class:"text-sm"},"BEACON"),br("button",null,[br("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[br("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])])]),br("div",{class:"px-5 py-6 bg-gray-200 text-gray-700 border-b"},[br("label",{class:"text-xs"},"B-ID"),br("div",{class:"mt-2 relative rounded-md shadow-sm"},[br("span",{class:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-600"},[br("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[br("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})])]),br("input",{type:"text",class:"w-full px-12 py-2 appearance-none rounded-md focus:border-indigo-600"})])]),br("div",{class:"flex justify-between items-center px-5 py-3"},[br("button",{class:"px-3 py-1 text-gray-700 text-sm rounded-md bg-gray-200 hover:bg-gray-300 focus:outline-none"},"  "),br("button",{class:"px-3 py-1 bg-indigo-600 text-white rounded-md text-sm hover:bg-indigo-500 focus:outline-none"},"  ")])])])])],-1),Ss={class:"mt-8"},ks=br("h4",{class:"text-gray-600"}," ",-1),Cs={class:"mt-4"},xs={class:"p-6 bg-white rounded-md shadow-md"},Ns=br("h2",{class:"text-lg text-gray-700 font-semibold capitalize"},"  ",-1),Rs={class:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-4"},Ps=br("label",{class:"text-gray-700",for:"username"},"B - ID",-1),Ds=br("label",{class:"text-gray-700",for:"emailAddress"},"Email",-1),Os=br("label",{class:"text-gray-700",for:"password"},"Password",-1),Ls=br("label",{class:"text-gray-700",for:"passwordConfirmation"},"Password Success",-1),Ms=br("div",{class:"flex justify-end mt-4"},[br("button",{class:"px-4 py-2 bg-gray-800 text-gray-200 rounded-md hover:bg-gray-700 focus:outline-none focus:bg-gray-700"},"  ")],-1);Ts.render=function(t,e,n,r,i,o){return lr(),dr("div",null,[Es,As,br("div",Ss,[ks,br("div",Cs,[br("div",xs,[Ns,br("form",{onSubmit:e[5]||(e[5]=mi(((...e)=>t.register&&t.register(...e)),["prevent"]))},[br("div",Rs,[br("div",null,[Ps,Kn(br("input",{class:"w-full mt-2 rounded-md focus:border-indigo-600",type:"text","onUpdate:modelValue":e[1]||(e[1]=e=>t.user.username=e)},null,512),[[pi,t.user.username]])]),br("div",null,[Ds,Kn(br("input",{class:"w-full mt-2 rounded-md focus:border-indigo-600",type:"email","onUpdate:modelValue":e[2]||(e[2]=e=>t.user.email=e)},null,512),[[pi,t.user.email]])]),br("div",null,[Os,Kn(br("input",{class:"w-full mt-2 rounded-md focus:border-indigo-600",type:"password","onUpdate:modelValue":e[3]||(e[3]=e=>t.user.password=e)},null,512),[[pi,t.user.password]])]),br("div",null,[Ls,Kn(br("input",{class:"w-full mt-2 rounded-md focus:border-indigo-600",type:"password","onUpdate:modelValue":e[4]||(e[4]=e=>t.user.confirm=e)},null,512),[[pi,t.user.confirm]])])]),Ms],32)])])])])};var Fs=Ze({setup(){const{simpleTableData:t,paginatedTableData:e,wideTableData:n}={simpleTableData:te([{city:"",totalOrders:"36 , 26"},{city:"--",totalOrders:"--"},{city:"--",totalOrders:"--"},{city:"--",totalOrders:"--"}]),paginatedTableData:te([{picture:"/src/admin.jpeg",name:"",role:"",created:"",status:"",statusColor:"green"}]),wideTableData:te([...Array(1).keys()].map((()=>({name:"",email:"sss@naver.com",title:"",title2:"Tag",status:"Check",role:"<- "}))))};return{simpleTableData:t,paginatedTableData:e,wideTableData:n}}});const Us=br("h3",{class:"text-gray-700 text-3xl font-medium"},"Tables",-1),js={class:"mt-4"},qs=br("h4",{class:"text-gray-600"},"DB -> () ",-1),Vs={class:"mt-6"},Bs={class:"bg-white shadow rounded-md overflow-hidden my-6"},Ks={class:"text-left w-full border-collapse"},Ws=br("thead",{class:"border-b"},[br("tr",null,[br("th",{class:"py-3 px-5 bg-indigo-800 font-medium uppercase text-sm text-gray-100"},"  "),br("th",{class:"py-3 px-5 bg-indigo-800 font-medium uppercase text-sm text-gray-100"}," ( , -) ")])],-1),Hs={class:"py-4 px-6 border-b text-gray-700 text-lg"},zs={class:"py-4 px-6 border-b text-gray-500"},Gs={class:"mt-8"},Qs=br("h4",{class:"text-gray-600"},"DB -  ",-1),Ys={class:"mt-6"},$s=br("h2",{class:"text-xl font-semibold text-gray-700 leading-tight"},"",-1),Xs=br("div",{class:"mt-3 flex flex-col sm:flex-row"},[br("div",{class:"flex"},[br("div",{class:"relative"},[br("select",{class:"appearance-none h-full rounded-l border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"},[br("option",null,"5"),br("option",null,"10"),br("option",null,"20")]),br("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[br("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"})])]),br("div",{class:"relative"},[br("select",{class:"appearance-none h-full rounded-r border-t sm:rounded-r-none sm:border-r-0 border-r border-b block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500"},[br("option",null,"All"),br("option",null,""),br("option",null,"")]),br("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[br("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"})])])]),br("div",{class:"block relative mt-2 sm:mt-0"},[br("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2"},[br("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},[br("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"})])]),br("input",{placeholder:"Search",class:"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"})])],-1),Js={class:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},Zs={class:"inline-block min-w-full shadow rounded-lg overflow-hidden"},ta={class:"min-w-full leading-normal"},ea=br("thead",null,[br("tr",null,[br("th",{class:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," User "),br("th",{class:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Email "),br("th",{class:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Password "),br("th",{class:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Status ")])],-1),na={class:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},ra={class:"flex items-center"},ia={class:"flex-shrink-0 w-10 h-10"},oa={class:"ml-3"},sa={class:"text-gray-900 whitespace-nowrap"},aa={class:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},ua={class:"text-gray-900 whitespace-nowrap"},ca={class:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},la={class:"text-gray-900 whitespace-nowrap"},ha={class:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},fa={class:"relative"},da=Ir('<div class="px-5 py-5 bg-white border-t flex flex-col xs:flex-row items-center xs:justify-between"><span class="text-xs xs:text-sm text-gray-900">1 / 4</span><div class="inline-flex mt-2 xs:mt-0"><button class="text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-l"> Prev </button><button class="text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-r"> Next </button></div></div>',1),pa={class:"mt-8"},va=br("h4",{class:"text-gray-600"},"DB -  ",-1),ga={class:"flex flex-col mt-6"},ma={class:"-my-2 py-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},ya={class:"align-middle inline-block min-w-full shadow overflow-hidden sm:rounded-lg border-b border-gray-200"},ba={class:"min-w-full"},wa=br("thead",null,[br("tr",null,[br("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-100 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"  "),br("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-100 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"  "),br("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-100 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"  "),br("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-100 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"}," --- "),br("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-100"})])],-1),_a={class:"bg-white"},Ia={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},Ta={class:"flex items-center"},Ea=br("div",{class:"flex-shrink-0 h-10 w-10"},[br("img",{class:"h-10 w-10 rounded-full",src:ts,alt:""})],-1),Aa={class:"ml-4"},Sa={class:"text-sm leading-5 font-medium text-gray-900"},ka={class:"text-sm leading-5 text-gray-500"},Ca={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},xa={class:"text-sm leading-5 text-gray-900"},Na={class:"text-sm leading-5 text-gray-500"},Ra={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},Pa={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},Da={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200 text-sm leading-5 text-gray-500"},Oa=br("td",{class:"px-6 py-4 whitespace-nowrap text-right border-b border-gray-200 text-sm leading-5 font-medium"},[br("a",{href:"#",class:"text-indigo-600 hover:text-indigo-900"},"Edit")],-1);Fs.render=function(t,e,n,r,i,o){return lr(),dr("div",null,[Us,br("div",js,[qs,br("div",Vs,[br("div",Bs,[br("table",Ks,[Ws,br("tbody",null,[(lr(!0),dr(ir,null,Sr(t.simpleTableData,((t,e)=>(lr(),dr("tr",{key:e,class:"hover:bg-gray-200"},[br("td",Hs,u(t.city),1),br("td",zs,u(t.totalOrders),1)])))),128))])])])])]),br("div",Gs,[Qs,br("div",Ys,[$s,Xs,br("div",Js,[br("div",Zs,[br("table",ta,[ea,br("tbody",null,[(lr(!0),dr(ir,null,Sr(t.paginatedTableData,((t,e)=>(lr(),dr("tr",{key:e},[br("td",na,[br("div",ra,[br("div",ia,[br("img",{class:"w-full h-full rounded-full",src:t.picture,alt:""},null,8,["src"])]),br("div",oa,[br("p",sa,u(t.name),1)])])]),br("td",aa,[br("p",ua,u(t.role),1)]),br("td",ca,[br("p",la,u(t.created),1)]),br("td",ha,[br("span",{class:`relative inline-block px-3 py-1 font-semibold text-${t.statusColor}-900 leading-tight`},[br("span",{"aria-hidden":"",class:`absolute inset-0 bg-${t.statusColor}-200 opacity-50 rounded-full`},null,2),br("span",fa,u(t.status),1)],2)])])))),128))])]),da])])])]),br("div",pa,[va,br("div",ga,[br("div",ma,[br("div",ya,[br("table",ba,[wa,br("tbody",_a,[(lr(!0),dr(ir,null,Sr(t.wideTableData,((t,e)=>(lr(),dr("tr",{key:e},[br("td",Ia,[br("div",Ta,[Ea,br("div",Aa,[br("div",Sa,u(t.name),1),br("div",ka,u(t.email),1)])])]),br("td",Ca,[br("div",xa,u(t.title),1),br("div",Na,u(t.title2),1)]),br("td",Ra,[br("span",Pa,u(t.status),1)]),br("td",Da,u(t.role),1),Oa])))),128))])])])])])])])};var La=Ze({setup:()=>({colors:te(["gray","red","orange","yellow","green","teal","blue","indigo","purple","pink"])})});const Ma=br("h3",{class:"text-gray-700 text-3xl font-medium"},"UI ",-1),Fa=br("div",{class:"mt-4"},[br("h4",{class:"text-gray-600"},"Alerts"),br("div",{class:"mt-4"},[br("div",{class:"rounded-md bg-white py-4 px-4 overflow-x-auto whitespace-nowrap"},[br("div",{class:"inline-flex max-w-sm w-full bg-white shadow-md rounded-lg overflow-hidden ml-3"},[br("div",{class:"flex justify-center items-center w-12 bg-green-500"},[br("svg",{class:"h-6 w-6 fill-current text-white",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[br("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"})])]),br("div",{class:"-mx-3 py-2 px-4"},[br("div",{class:"mx-3"},[br("span",{class:"text-green-500 font-semibold"},"Success"),br("p",{class:"text-gray-600 text-sm"}," Your account was registered! ")])])]),br("div",{class:"inline-flex max-w-sm w-full bg-white shadow-md rounded-lg overflow-hidden ml-3"},[br("div",{class:"flex justify-center items-center w-12 bg-blue-500"},[br("svg",{class:"h-6 w-6 fill-current text-white",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[br("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})])]),br("div",{class:"-mx-3 py-2 px-4"},[br("div",{class:"mx-3"},[br("span",{class:"text-blue-500 font-semibold"},"Info"),br("p",{class:"text-gray-600 text-sm"}," Channel archived by the owner. ")])])]),br("div",{class:"inline-flex max-w-sm w-full bg-white shadow-md rounded-lg overflow-hidden ml-3"},[br("div",{class:"flex justify-center items-center w-12 bg-yellow-500"},[br("svg",{class:"h-6 w-6 fill-current text-white",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[br("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})])]),br("div",{class:"-mx-3 py-2 px-4"},[br("div",{class:"mx-3"},[br("span",{class:"text-yellow-500 font-semibold"},"Warning"),br("p",{class:"text-gray-600 text-sm"},"Image size is too large.")])])]),br("div",{class:"inline-flex max-w-sm w-full bg-white shadow-md rounded-lg overflow-hidden ml-3"},[br("div",{class:"flex justify-center items-center w-12 bg-red-500"},[br("svg",{class:"h-6 w-6 fill-current text-white",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[br("path",{d:"M20 3.36667C10.8167 3.36667 3.3667 10.8167 3.3667 20C3.3667 29.1833 10.8167 36.6333 20 36.6333C29.1834 36.6333 36.6334 29.1833 36.6334 20C36.6334 10.8167 29.1834 3.36667 20 3.36667ZM19.1334 33.3333V22.9H13.3334L21.6667 6.66667V17.1H27.25L19.1334 33.3333Z"})])]),br("div",{class:"-mx-3 py-2 px-4"},[br("div",{class:"mx-3"},[br("span",{class:"text-red-500 font-semibold"},"Error"),br("p",{class:"text-gray-600 text-sm"},"Your email is already used!")])])])])])],-1),Ua={class:"mt-8"},ja=br("h4",{class:"text-gray-600"},"Radio Buttons",-1),qa={class:"mt-4"},Va={class:"flex rounded-md bg-white py-4 px-4 overflow-x-auto"},Ba=br("span",{class:"ml-2 text-gray-700"},"label",-1),Ka={class:"mt-8"},Wa=br("h4",{class:"text-gray-600"},"Checkboxes",-1),Ha={class:"mt-4"},za={class:"flex rounded-md bg-white py-4 px-4 overflow-x-auto"},Ga=br("span",{class:"ml-2 text-gray-700"},"label",-1),Qa={class:"mt-8"},Ya=br("h4",{class:"text-gray-600"},"Buttons",-1),$a={class:"mt-4"},Xa={class:"flex rounded-md bg-white py-4 px-4 overflow-x-auto"},Ja=Ir('<div class="mt-8"><h4 class="text-gray-600">Paginations</h4><div class="mt-4"><div class="flex rounded-md bg-white py-4 px-4 overflow-x-auto"><div class="flex rounded mr-4"><a href="#" class="py-2 px-3 leading-tight bg-white border border-gray-200 text-blue-700 border-r-0 ml-0 rounded-l hover:bg-indigo-500 hover:text-white"><span>Prev</span></a><a href="#" class="py-2 px-3 leading-tight bg-white border border-gray-200 text-blue-700 border-r-0 hover:bg-indigo-500 hover:text-white"><span>1</span></a><a href="#" class="py-2 px-3 leading-tight bg-white border border-gray-200 text-blue-700 border-r-0 hover:bg-indigo-500 hover:text-white"><span>2</span></a><a href="#" class="py-2 px-3 leading-tight bg-white border border-gray-200 text-blue-700 border-r-0 hover:bg-indigo-500 hover:text-white"><span>3</span></a><a href="#" class="py-2 px-3 leading-tight bg-white border border-gray-200 text-blue-700 rounded-r hover:bg-indigo-500 hover:text-white"><span>Next</span></a></div></div></div></div>',1);La.render=function(t,e,n,r,i,o){return lr(),dr("div",null,[Ma,Fa,br("div",Ua,[ja,br("div",qa,[br("div",Va,[(lr(!0),dr(ir,null,Sr(t.colors,((t,e)=>(lr(),dr("label",{class:`inline-flex items-center ${e&&"ml-3"}`,key:e},[br("input",{type:"radio",class:`form-radio h-5 w-5 text-${t}-600`,name:"radio"},null,2),Ba],2)))),128))])])]),br("div",Ka,[Wa,br("div",Ha,[br("div",za,[(lr(!0),dr(ir,null,Sr(t.colors,((t,e)=>(lr(),dr("label",{class:`inline-flex items-center ${e&&"ml-3"}`,key:e},[br("input",{type:"checkbox",class:`form-checkbox h-5 w-5 text-${t}-600`,checked:""},null,2),Ga],2)))),128))])])]),br("div",Qa,[Ya,br("div",$a,[br("div",Xa,[(lr(!0),dr(ir,null,Sr(t.colors,((t,e)=>(lr(),dr("button",{class:`px-6 py-3 bg-${t}-600 rounded-md text-white font-medium tracking-wide hover:bg-${t}-500 ${e&&"ml-3"}`,key:e}," Button ",2)))),128))])])]),Ja])};var Za=Ze({setup(){const t=Xo();return{login:function(){t.push("/dashboard")},SignUp:function(){t.push("/SignUp")},email:te("a@naver.com"),password:te("12345")}}});const tu={class:"flex justify-center items-center h-screen bg-gray-200 px-6"},eu={class:"p-6 max-w-sm w-full bg-white shadow-md rounded-md"},nu=br("div",{class:"flex justify-center items-center"},[br("span",{class:"text-gray-600 font-semibold text-2xl"},"")],-1),ru={class:"block"},iu=br("span",{class:"text-gray-700 text-sm"},"ID",-1),ou={class:"block mt-3"},su=br("span",{class:"text-gray-700 text-sm"},"Password",-1),au={class:"flex justify-between items-center mt-4"},uu=br("div",null,[br("label",{class:"inline-flex items-center"},[br("input",{type:"checkbox",class:"form-checkbox text-indigo-600"}),br("span",{class:"mx-2 text-gray-600 text-sm"},"save")])],-1),cu=_r("SignUp"),lu=br("div",{class:"mt-6"},[br("button",{type:"submit",class:"py-2 px-4 text-center bg-indigo-600 rounded-md w-full text-white text-sm hover:bg-indigo-500"}," Login ")],-1);Za.render=function(t,e,n,r,i,o){const s=tr("router-link");return lr(),dr("div",tu,[br("div",eu,[nu,br("form",{class:"mt-4",onSubmit:e[3]||(e[3]=mi(((...e)=>t.login&&t.login(...e)),["prevent"]))},[br("label",ru,[iu,Kn(br("input",{type:"email",class:"mt-1 block w-full rounded-md focus:border-indigo-600","onUpdate:modelValue":e[1]||(e[1]=e=>t.email=e)},null,512),[[pi,t.email]])]),br("label",ou,[su,Kn(br("input",{type:"password",class:"mt-1 block w-full rounded-md focus:border-indigo-600","onUpdate:modelValue":e[2]||(e[2]=e=>t.password=e)},null,512),[[pi,t.password]])]),br("div",au,[uu,br("div",null,[br("p",null,[br(s,{to:"/SignUp"},{default:qe((()=>[cu])),_:1})])])]),lu],32)])])};var hu=Ze({setup(){const t=Xo();return{login:function(){t.push("/")},Back:function(){t.push("/")},email:te(""),password:te("")}}});const fu={class:"flex justify-center items-center h-screen bg-gray-200 px-6"},du={class:"p-6 max-w-sm w-full bg-white shadow-md rounded-md"},pu=br("div",{class:"flex justify-center items-center"},[br("span",{class:"text-gray-600 font-semibold text-2xl"},"")],-1),vu={class:"block"},gu=br("span",{class:"text-gray-700 text-sm"},"ID",-1),mu={class:"block mt-3"},yu=br("span",{class:"text-gray-700 text-sm"},"Password",-1),bu=br("div",{class:"flex justify-between items-center mt-4"},[br("div",null,[br("a",{class:"block text-sm fontme text-indigo-700 hover:underline",href:"http://localhost:3000/"},"")])],-1),wu=br("div",{class:"mt-6"},[br("button",{type:"submit",class:"py-2 px-4 text-center bg-indigo-600 rounded-md w-full text-white text-sm hover:bg-indigo-500"},"  ")],-1);hu.render=function(t,e,n,r,i,o){return lr(),dr("div",fu,[br("div",du,[pu,br("form",{class:"mt-4",onSubmit:e[3]||(e[3]=mi(((...e)=>t.login&&t.login(...e)),["prevent"]))},[br("label",vu,[gu,Kn(br("input",{type:"email",class:"mt-1 block w-full rounded-md focus:border-indigo-600","onUpdate:modelValue":e[1]||(e[1]=e=>t.email=e)},null,512),[[pi,t.email]])]),br("label",mu,[yu,Kn(br("input",{type:"password",class:"mt-1 block w-full rounded-md focus:border-indigo-600","onUpdate:modelValue":e[2]||(e[2]=e=>t.password=e)},null,512),[[pi,t.password]])]),bu,wu],32)])])};var _u=Ze({setup:()=>({open:te(!1)})});const Iu=br("h3",{class:"text-gray-700 text-3xl font-medium"},"",-1),Tu=br("div",{class:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50"},null,-1),Eu={class:"modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto"},Au=br("div",{class:"modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50"},[br("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[br("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})]),br("span",{class:"text-sm"},"(Esc)")],-1),Su={class:"modal-content py-4 text-left px-6"},ku={class:"flex justify-between items-center pb-3"},Cu=br("p",{class:"text-2xl font-bold"},"?",-1),xu=br("svg",{class:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[br("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),Nu=br("p",null,"",-1),Ru={class:"flex justify-end pt-2"};_u.render=function(t,e,n,r,i,o){return lr(),dr("div",null,[Iu,br("button",{onClick:e[1]||(e[1]=e=>t.open=!0),class:"mt-3 px-6 py-3 bg-indigo-600 rounded-md text-white font-medium tracking-wide hover:bg-indigo-500"},"   "),br("div",{class:`modal ${!t.open&&"opacity-0 pointer-events-none"} z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center`},[Tu,br("div",Eu,[Au,br("div",Su,[br("div",ku,[Cu,br("div",{class:"modal-close cursor-pointer z-50",onClick:e[2]||(e[2]=e=>t.open=!1)},[xu])]),Nu,br("div",Ru,[br("button",{onClick:e[3]||(e[3]=e=>t.open=!1),class:"px-6 py-3 bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2"},"  "),br("button",{onClick:e[4]||(e[4]=e=>t.open=!1),class:"px-6 py-3 bg-indigo-600 rounded-md text-white font-medium tracking-wide hover:bg-indigo-500"},"  ")])])])],2)])};class Pu{constructor(t=null,e={}){if(this.apiKey=t,this.options=e,"undefined"==typeof window)throw new Error("google-maps is supported only in browser environment")}load(){return void 0!==this.api?Promise.resolve(this.api):void 0!==this.loader?this.loader:(window[Pu.CALLBACK_NAME]=()=>{if(this.api=window.google,void 0===this.resolve)throw new Error("Should not happen");this.resolve(this.api)},window.gm_authFailure=()=>{if(void 0===this.reject)throw new Error("Should not happen");this.reject(new Error("google-maps: authentication error"))},this.loader=new Promise(((t,e)=>{this.resolve=t,this.reject=e;const n=document.createElement("script");n.src=this.createUrl(),n.async=!0,n.onerror=t=>e(t),document.head.appendChild(n)})))}createUrl(){const t=[`callback=${Pu.CALLBACK_NAME}`];this.apiKey&&t.push(`key=${this.apiKey}`);for(let e in this.options)if(this.options.hasOwnProperty(e)){let n=this.options[e];"version"===e&&(e="v"),"libraries"===e&&(n=n.join(",")),t.push(`${e}=${n}`)}return`https://maps.googleapis.com/maps/api/js?${t.join("&")}`}}Pu.CALLBACK_NAME="_dk_google_maps_loader_cb";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Du=function(t,e){return(Du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ou(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Du(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Lu=function(){return(Lu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Mu(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Fu(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Uu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ju(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function qu(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vu=!1,Bu="${JSCORE_VERSION}",Ku=function(t,e){if(!t)throw Wu(e)},Wu=function(t){return new Error("Firebase Database ("+Bu+") INTERNAL ASSERT FAILED: "+t)},Hu=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},zu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,d=63&c;u||(d=64,s||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hu(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Gu=function(t){try{return zu.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qu(t){return Yu(void 0,t)}function Yu(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Yu(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $u=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Lu({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zu.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),zu.encodeString(JSON.stringify(o),!1),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Zu(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ju())}function tc(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function ec(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function nc(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rc(){return!0===Vu}function ic(){return"indexedDB"in self&&null!=indexedDB}function oc(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function sc(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ac=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,uc.prototype.create),o}return Ou(e,t),e}(Error),uc=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?cc(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new ac(i,a,r);return u},t}();function cc(t,e){return t.replace(lc,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var lc=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){return JSON.parse(t)}function fc(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dc=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=hc(Gu(o[0])||""),n=hc(Gu(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vc(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function gc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mc(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var yc=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):r<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function bc(t,e){var n=new wc(t,e);return n.subscribe.bind(n)}var wc=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=_c),void 0===r.error&&(r.error=_c),void 0===r.complete&&(r.complete=_c);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function _c(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ic=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Tc(t,e){return t+" failed: "+e+" argument "}function Ec(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Tc(t,e)+"must be a valid function.")}function Ac(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Tc(t,e)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sc=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function kc(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){return t&&t._delegate?t._delegate:t}var xc=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Nc=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new $u;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Lu({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(t){}try{for(var r=Uu(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=ju(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Mu(this,void 0,void 0,(function(){var t;return Fu(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(qu(qu([],ju(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),ju(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?"[DEFAULT]":r,o=t.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=Uu(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=ju(l.value,2),f=h[0],d=h[1];a===this.normalizeInstanceIdentifier(f)&&d.resolve(u)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,a),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=Uu(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rc,Pc=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Nc(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Dc(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oc,Lc,Mc=[];(Lc=Oc||(Oc={}))[Lc.DEBUG=0]="DEBUG",Lc[Lc.VERBOSE=1]="VERBOSE",Lc[Lc.INFO=2]="INFO",Lc[Lc.WARN=3]="WARN",Lc[Lc.ERROR=4]="ERROR",Lc[Lc.SILENT=5]="SILENT";var Fc,Uc={debug:Oc.DEBUG,verbose:Oc.VERBOSE,info:Oc.INFO,warn:Oc.WARN,error:Oc.ERROR,silent:Oc.SILENT},jc=Oc.INFO,qc=((Rc={})[Oc.DEBUG]="log",Rc[Oc.VERBOSE]="log",Rc[Oc.INFO]="info",Rc[Oc.WARN]="warn",Rc[Oc.ERROR]="error",Rc),Vc=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=qc[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Dc(["["+i+"]  "+t.name+":"],n))}},Bc=function(){function t(t){this.name=t,this._logLevel=jc,this._logHandler=Vc,this._userLogHandler=null,Mc.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Oc))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Uc[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Dc([this,Oc.DEBUG],t)),this._logHandler.apply(this,Dc([this,Oc.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Dc([this,Oc.VERBOSE],t)),this._logHandler.apply(this,Dc([this,Oc.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Dc([this,Oc.INFO],t)),this._logHandler.apply(this,Dc([this,Oc.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Dc([this,Oc.WARN],t)),this._logHandler.apply(this,Dc([this,Oc.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Dc([this,Oc.ERROR],t)),this._logHandler.apply(this,Dc([this,Oc.ERROR],t))},t}();function Kc(t){Mc.forEach((function(e){e.setLogLevel(t)}))}var Wc,Hc=((Fc={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Fc["bad-app-name"]="Illegal App name: '{$appName}",Fc["duplicate-app"]="Firebase App named '{$appName}' already exists",Fc["app-deleted"]="Firebase App named '{$appName}' already deleted",Fc["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Fc["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Fc),zc=new uc("app","Firebase",Hc),Gc="@firebase/app",Qc=((Wc={})[Gc]="fire-core",Wc["@firebase/analytics"]="fire-analytics",Wc["@firebase/app-check"]="fire-app-check",Wc["@firebase/auth"]="fire-auth",Wc["@firebase/database"]="fire-rtdb",Wc["@firebase/functions"]="fire-fn",Wc["@firebase/installations"]="fire-iid",Wc["@firebase/messaging"]="fire-fcm",Wc["@firebase/performance"]="fire-perf",Wc["@firebase/remote-config"]="fire-rc",Wc["@firebase/storage"]="fire-gcs",Wc["@firebase/firestore"]="fire-fst",Wc["fire-js"]="fire-js",Wc["firebase-wrapper"]="fire-js-all",Wc),Yc=new Bc("@firebase/app"),$c=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Qu(t),this.container=new Pc(e.name),this._addComponent(new xc("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Yc.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw zc.create("app-deleted",{appName:this.name_})},t}();$c.prototype.name&&$c.prototype.options||$c.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xc(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw zc.create("bad-app-name",{appName:String(s)});if(pc(e,s))throw zc.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Qc[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Yc.warn(u.join(" "))}o(new xc(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:Kc,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw zc.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Uc[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Oc[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=Mc;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!pc(e,t=t||"[DEFAULT]"))throw zc.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return Yc.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw zc.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Yu(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jc=function t(){var e=Xc($c);return e.INTERNAL=Lu(Lu({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Yu(e,t)},createSubscribe:bc,ErrorFactory:uc,deepExtend:Yu}),e}(),Zc=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Yc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var tl=self.firebase.SDK_VERSION;tl&&tl.indexOf("LITE")>=0&&Yc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var el=Jc.initializeApp;Jc.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return tc()&&Yc.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),el.apply(void 0,t)};var nl,rl,il=Jc;(nl=il).INTERNAL.registerComponent(new xc("platform-logger",(function(t){return new Zc(t)}),"PRIVATE")),nl.registerVersion(Gc,"0.6.22",rl),nl.registerVersion("fire-js",""),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Qa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function _(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){return t}function T(t,e,n){this.code=S+t,this.message=e||k[t]||"",this.a=n||null}function E(t){var e=t&&t.code;return e?new T(e.substring(S.length),t.message,t.serverResponse):null}_(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var A,S="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},C={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(t){for(var e in C)if(C[e].id===t)return{firebaseEndpoint:(t=C[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function D(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function O(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}A=x("__EID__")?"__EID__":void 0,_(R,Error),R.prototype.name="CustomError",_(P,R),P.prototype.name="AssertionError",O.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new O((function(){return new j}),(function(t){t.reset()}));function U(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function j(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},V=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e){return 0<=q(t,e)}function z(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function G(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ut=at.userAgent;if(ut){$=ut;break t}}$=""}function ct(t){return ot($,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===wt&&e||"",this.b=bt}function mt(t){return t instanceof gt&&t.constructor===gt&&t.b===bt?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.sa=!0,gt.prototype.ra=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,bt={},wt={};function _t(){if(void 0===yt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(t){s.console&&s.console.error(t.message)}yt=t}else yt=t}return yt}function It(t,e){this.a=e===kt?t:""}function Tt(t){return t instanceof It&&t.constructor===It?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=mt(t);if(!St.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=_t();return new It(t=e?e.createScriptURL(t):t,kt)}(t=n.replace(At,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?mt(t):encodeURIComponent(String(t))})))}It.prototype.sa=!0,It.prototype.ra=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,St=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={};function Ct(t,e){this.a=e===Lt?t:""}function xt(t){return t instanceof Ct&&t.constructor===Ct?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Rt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Dt(t){if(t instanceof Ct)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t))t=new Ct(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Rt);t=e&&Nt.test(e[1])?new Ct(t,Lt):null}return t}function Ot(t){return t instanceof Ct?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Ct(t,Lt))}var Lt={},Mt=new Ct("about:invalid#zClosurez",Lt);function Ft(t,e,n){this.a=n===Ut?t:""}Ft.prototype.sa=!0,Ft.prototype.ra=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function jt(t,e,n,r){return t=t instanceof Ct?t:Ot(t),e=e||s,n=n instanceof gt?mt(n):n||"",e.open(xt(t),n,r,void 0)}function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Vt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Bt[" "]=l;var Kt,Wt,Ht=ct("Opera"),zt=ct("Trident")||ct("MSIE"),Gt=ct("Edge"),Qt=Gt||zt,Yt=ct("Gecko")&&!(ot($.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),$t=ot($.toLowerCase(),"webkit")&&!ct("Edge");function Xt(){var t=s.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(Wt=$,Yt?/rv:([^\);]+)(\)|;)/.exec(Wt):Gt?/Edge\/([\d\.]+)/.exec(Wt):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):$t?/WebKit\/(\S+)/.exec(Wt):Ht?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),zt){var te=Xt();if(null!=te&&te>parseFloat(Jt)){Kt=String(te);break t}}Kt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=X(String(Kt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&zt){var ie=Xt();ee=ie||(parseInt(Kt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var se=!zt||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}V(s?Y(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){s.setTimeout((function(){throw t}),0)}function ve(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(ye)}}else le=function(){var t=ye;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),ge||(le(),ge=!0),me.add(t,e)}var ge=!1,me=new M;function ye(){for(var t;t=U();){try{t.a.call(t.b)}catch(t){pe(t)}L(F,t)}ge=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){De(n,_e,t)}),(function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}De(n,Ie,t)}))}catch(t){De(this,Ie,t)}}var we=0,_e=2,Ie=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new O((function(){return new Te}),(function(t){t.reset()}));function Ae(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof be)return t;var e=new be(l);return De(e,_e,t),e}function ke(t){return new be((function(e,n){n(t)}))}function Ce(t,e,n){Oe(t,e,n,null)||ve(w(e,t))}function xe(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ce(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Ne(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?Ne(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Fe(n,i,Ie,e)))}t.c=null}else De(t,Ie,e)}function Re(t,e){t.b||t.a!=_e&&t.a!=Ie||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Ae(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Re(t,i),i.a}function De(t,e,n){t.a==we&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Oe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ie||n instanceof qe||function(t,e){t.g=!0,ve((function(){t.g&&je.call(null,e)}))}(t,n)))}function Oe(t,e,n,r){if(t instanceof be)return Re(t,Ae(e||l,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Le(t){t.h||(t.h=!0,ve(t.gc,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(t){je.call(null,t)}L(Ee,e)}function Ue(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Pe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Ae(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new qe(t);ve((function(){Ne(this,e)}),this)}},t.$c=function(t){this.a=we,De(this,_e,t)},t.ad=function(t){this.a=we,De(this,Ie,t)},t.gc=function(){for(var t;t=Me(this);)Fe(this,t,this.a,this.i);this.h=!1};var je=pe;function qe(t){R.call(this,t)}function Ve(){this.xa=this.xa,this.pa=this.pa}_(qe,R),qe.prototype.name="cancel";function Be(t){!t.xa&&(t.xa=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++g)}(t)}Ve.prototype.xa=!1,Ve.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ke=Object.freeze||function(t){return t},We=!zt||9<=Number(oe),He=zt&&!re("9"),ze=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(t){}return t}();function Ge(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(Ge.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Yt){t:{try{Bt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ye[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ge.prototype.preventDefault=function(){this.defaultPrevented=!0},_(Qe,Ge);var Ye=Ke({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Qe.prototype.g=function(){return this.a};var $e="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Xe,this.va=this.Pa=!1}function Ze(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&z(t.a[n],e)&&(Ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}tn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=nn(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new Je(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),on={};function sn(t,e,n,r,i){if(r&&r.once)un(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=mn(n),t&&t[$e]?bn(t,e,n,p(r)?!!r.capture:!!r,i):an(t,e,n,!1,r,i)}function an(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=vn(t);if(a||(t[rn]=a=new tn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=pn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=mn(n),t&&t[$e]?wn(t,e,n,p(r)?!!r.capture:!!r,i):an(t,e,n,!0,r,i)}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=mn(n),t&&t[$e]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=nn(o=t.a[e],n,r,i))&&(Ze(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,r,i)),(n=-1<t?e[t]:null)&&ln(n))}function ln(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[$e])en(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Ze(t)}}}function hn(t){return t in on?on[t]:on[t]="on"+t}function fn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&ln(t),n.call(r,e)}function pn(t,e){if(t.va)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=fn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=fn(r[i],t,!1,e),n=n&&o}return n}return dn(t,new Qe(e,this))}function vn(t){return(t=t[rn])instanceof tn?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return d(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function yn(){Ve.call(this),this.v=new tn(this),this.ac=this,this.gb=null}function bn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function _n(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&en(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Tn(t){var e=null;return new be((function(n,r){-1==(e=In((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function En(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Cn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Cn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(yn,Ve),yn.prototype[$e]=!0,yn.prototype.addEventListener=function(t,e,n,r){sn(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){cn(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Ge(t,n);else if(t instanceof Ge)t.target=t.target||n;else{var i=t;pt(t=new Ge(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=_n(s,r,!0,t)&&i}if(i=_n(s=t.b=n,r,!0,t)&&i,i=_n(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=_n(s=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Da=function(){if(yn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ze(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Sn.prototype).W=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return kn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Cn(this.b,t)?this.b[t]:e},t.set=function(t,e){Cn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Nn?(this.i=void 0!==e?e:t.i,Rn(this,t.c),this.l=t.l,this.a=t.a,Pn(this,t.g),this.f=t.f,Dn(this,Jn(t.b)),this.h=t.h):t&&(n=String(t).match(xn))?(this.i=!!e,Rn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Pn(this,n[4]),this.f=Un(n[5]||"",!0),Dn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new zn(null,this.i))}function Rn(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Dn(t,e,n){e instanceof zn?(t.b=e,function(t,e){e&&!t.f&&(Gn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Xn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,Wn)),t.b=new zn(e,t.i))}function On(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Mn(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function Fn(t,e,n,r){var i=new Nn(null,void 0);return t&&Rn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(jn(e,Vn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?Kn:Bn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Hn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.c;n?Rn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Pn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Dn(e,Jn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Vn=/[#\/\?@]/g,Bn=/[#\?:]/g,Kn=/[#\?]/g,Wn=/[#\?@]/g,Hn=/#/g;function zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Gn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new zn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Xn(n,i,o):n.add(i,o)}return n}function Yn(t,e){Gn(t),e=Zn(t,e),Cn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function $n(t,e){return Gn(t),e=Zn(t,e),Cn(t.a.b,e)}function Xn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),Y(n)),t.b+=n.length)}function Jn(t){var e=new zn;return e.c=t.c,t.a&&(e.a=new Sn(t.a),e.b=t.b),e}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tr(t){var e=[];return nr(new er,t,e),e.join("")}function er(){}function nr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),nr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),or(r,n),n.push(":"),nr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":or(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=zn.prototype).add=function(t,e){Gn(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Gn(this),this.a.forEach((function(n,r){V(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Gn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Gn(this);var e=[];if("string"==typeof t)$n(this,t)&&(e=Q(e,this.a.get(Zn(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Gn(this),this.c=null,$n(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function sr(){var t=Sr();return zt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ar(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||s.window;var n="about:blank";t&&(n=xt(Dt(t)||Mt)),e.location.href=n}function cr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<cr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function lr(t){return!!((t=(t||Sr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||s.window;try{t.close()}catch(t){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Sr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),Tr(Sr())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ct?n:Dt(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=de(document,"A"),"HTMLAnchorElement"),e=e instanceof Ct?e:Ot(e),s.href=xt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=jt("",r,n,s),t=xt(e),s&&(Qt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">',t=new Ft(t=(r=_t())?r.createHTML(t):t,null,Ut),r=s.document)&&(r.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(D("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=jt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new be((function(e){"complete"==s.document.readyState?e():(t=function(){e()},un(window,"load",t))})).o((function(e){throw cn(window,"load",t),e}))}function gr(t){return t=t||Sr(),!("file:"!==Rr()&&"ionic:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function yr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function br(){return il.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":il.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function wr(){var t=br();return"ReactNative"===t||"Node"===t}var _r="Firefox",Ir="Chrome";function Tr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?_r:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ir:"Safari"}var Er={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=Tr(i=Sr()):"Worker"===r&&(r=Tr(i=Sr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Sr(){return s.navigator&&s.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Cr(){try{var t=s.localStorage,e=Mr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!s.indexedDB}catch(t){return yr()&&!!s.indexedDB}return!1}function xr(){return(Nr()||"chrome-extension:"===Rr()||gr())&&!wr()&&Cr()&&!yr()}function Nr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return s.location&&s.location.protocol||null}function Pr(t){return!lr(t=t||Sr())&&Tr(t)!=_r}function Dr(t){return void 0===t?null:tr(t)}function Or(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Mr(t){return t||Math.floor(1e9*Math.random()).toString()}function Fr(t){return"Safari"!=Tr(t=t||Sr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function jr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Sr(),e=br(),this.b=lr(t)||"ReactNative"===e}function qr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Br(){return!(!kr("fireauth.oauthhelper",s)&&!kr("fireauth.iframe",s))}jr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Nr()&&"chrome-extension:"!==Rr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Wr={};function Hr(t){Wr[t]||(Wr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var zr={};Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==zr.abcd}catch(Wt){Kr=!1}function Gr(t,e,n){Kr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Gr(t,n,e[n])}function Yr(t){var e={};return Qr(e,t),e}function $r(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Gr(e,n,$r(t[n]));return e}function Xr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Gr(this,"uid",t[ei]),Gr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Gr(this,"enrollmentTime",n),Gr(this,"factorId",e)}function Jr(t){try{var e=new ri(t)}catch(t){e=null}return e}Xr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Xr.call(this,t),Gr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[li],i=t[hi];if(t=Jr(t[ci]),!i||i!=si&&i!=ai&&!n||i==ai&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[di]=n||null,e[vi]=n||null,e[fi]=r):(e[di]=r||null,e[vi]=r||null,e[fi]=n||null),e[pi]=t||null,Gr(this,mi,i),Gr(this,gi,$r(e))}_(ri,Xr),ri.prototype.w=function(){var t=ri.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",li="newEmail",hi="requestType",fi="email",di="fromEmail",pi="multiFactorInfo",vi="previousEmail",gi="data",mi="operation";function yi(t){var e=Ln(t=Mn(t),bi)||null,n=Ln(t,wi)||null,r=Ln(t,Ti)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new T("argument-error",bi+", "+wi+"and "+Ti+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,_i)||null,languageCode:Ln(t,Ii)||null,tenantId:Ln(t,Ei)||null})}var bi="apiKey",wi="oobCode",_i="continueUrl",Ii="languageCode",Ti="mode",Ei="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:si,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Si(t){try{return new yi(t)}catch(t){return null}}function ki(t){var e=t[Pi];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"==typeof n){e=n[Li];var r=n[Di];if(n=n[Oi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Di+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Oi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Ri])&&"object"==typeof e){if("string"==typeof(e=e[Mi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(e=t[Ni])&&"boolean"!=typeof e)throw new T("argument-error",Ni+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[xi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",xi+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",xi="dynamicLinkDomain",Ni="handleCodeInApp",Ri="iOS",Pi="url",Di="installApp",Oi="minimumVersion",Li="packageName",Mi="bundleId";function Fi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function ji(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function qi(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Vi(t){try{return new qi(t)}catch(t){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=ji(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(t){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Wi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Wi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Wi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Ki},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function zi(t){for(var e in Hi)if(Hi[e].fa==t)return Hi[e];return null}function Gi(t){var e={};e["facebook.com"]=Ji,e["google.com"]=to,e["github.com"]=Zi,e["twitter.com"]=eo;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Xi(t);if(void 0!==t[Qi])return new $i(t)}catch(t){}return null}var Qi="idToken",Yi="providerId";function $i(t){var e=t[Yi];if(!e&&t[Qi]){var n=Vi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Gr(this,"providerId",e),Gr(this,"isNewUser",n)}function Xi(t){$i.call(this,t),Gr(this,"profile",$r((t=Lr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if(Xi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Xi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",this.profile&&this.profile.login||null)}function to(t){if(Xi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Xi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",t.screenName||null)}function no(t){var e=Mn(t),n=Ln(e,"link"),r=Ln(Mn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Mn(e),"link")||e||r||n||t}function ro(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:oo}_(Xi,$i),_(Ji,Xi),_(Zi,Xi),_(to,Xi),_(eo,Xi);var io="enroll",oo="signin";function so(){}function ao(t,e){return t.then((function(t){if(t[$s]){var n=Vi(t[$s]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==S+"user-not-found"?new T("user-mismatch"):t}))}function uo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Gr(this,"providerId",t),Gr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(t){}return null}function ho(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Gr(this,"idToken",e.idToken),e.accessToken&&Gr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Gr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Gr(this,"accessToken",e.oauthToken),Gr(this,"secret",e.oauthTokenSecret)}Gr(this,"providerId",t),Gr(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function po(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ho(t.providerId,e,t.signInMethod)}catch(t){}}return null}function vo(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(zi(t)||{}).Ja||null,this.ob=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function mo(t){vo.call(this,t,Wi),this.a=[]}function yo(){mo.call(this,"facebook.com")}function bo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){mo.call(this,"github.com")}function _o(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Io(){mo.call(this,"google.com"),this.Ca("profile")}function To(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new Io).credential({idToken:n,accessToken:e})}function Eo(){vo.call(this,"twitter.com",Ki)}function Ao(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ho("twitter.com",n,"twitter.com")}function So(t,e,n){this.a=t,this.f=e,Gr(this,"providerId","password"),Gr(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new So(t.email,t.password,t.signInMethod):null}function Co(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=No(e)))throw new T("argument-error","Invalid email link!");return new So(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function No(t){return(t=Si(t=no(t)))&&t.operation===si?t:null}function Ro(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,Gr(this,"providerId","phone"),this.fa="phone",Gr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ro(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Oo(t){try{this.a=t||il.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Ro({eb:t,cb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return To(o,n);case"facebook.com":return bo(n);case"github.com":return _o(n);case"twitter.com":return Ao(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new uo(e,s):new ho(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Fo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&E(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}ro.prototype.Ha=function(){return this.a?Se(this.a):Se(this.b)},ro.prototype.w=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},uo.prototype.ka=function(t){return ya(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,ba(t,n)},uo.prototype.c=function(t,e){return ao(wa(t,co(this)),e)},uo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ho.prototype.ka=function(t){return ya(t,fo(this))},ho.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,ba(t,n)},ho.prototype.c=function(t,e){return ao(wa(t,fo(this)),e)},ho.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Ib=ft(t),this},_(go,vo),_(mo,vo),mo.prototype.Ca=function(t){return H(this.a,t)||this.a.push(t),this},mo.prototype.Qb=function(){return Y(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new ho(this.providerId,n,this.providerId)},_(yo,mo),Gr(yo,"PROVIDER_ID","facebook.com"),Gr(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(wo,mo),Gr(wo,"PROVIDER_ID","github.com"),Gr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),_(Io,mo),Gr(Io,"PROVIDER_ID","google.com"),Gr(Io,"GOOGLE_SIGN_IN_METHOD","google.com"),_(Eo,vo),Gr(Eo,"PROVIDER_ID","twitter.com"),Gr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),So.prototype.ka=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?eu(t,Ca,{email:this.a,oobCode:this.f}):eu(t,$a,{email:this.a,password:this.f})},So.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?eu(t,xa,{idToken:e,email:this.a,oobCode:this.f}):eu(t,Ba,{idToken:e,email:this.a,password:this.f})},So.prototype.c=function(t,e){return ao(this.ka(t),e)},So.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(Co,{PROVIDER_ID:"password"}),Qr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(t){return t.fb(Do(this))},Ro.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,eu(t,Ja,n)},Ro.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",ao(t=eu(t,Za,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Oo.prototype.fb=function(t,e){var n=this.a.a;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==io?i.Ha().then((function(t){return function(t,e){return eu(t,Wa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==oo?i.Ha().then((function(e){return function(t,e){return eu(t,Ha,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return eu(t,qa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Qr(Oo,{PROVIDER_ID:"phone"}),Qr(Oo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Bo=null;function Ko(t){var e="unauthorized-domain",n=void 0,r=Mn(t);t=r.a,"chrome-extension"==(r=r.c)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Wo(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&Gr(this,"email",t.Jb),t.ea&&Gr(this,"phoneNumber",t.ea),t.credential&&Gr(this,"credential",t.credential),t.Zb&&Gr(this,"tenantId",t.Zb)}function Ho(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:Mo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Wo(e,n,t.message)}return null}function zo(){}function Go(t){return t.c||(t.c=t.b())}function Qo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function $o(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function ts(t){this.f=t,this.b=this.c=this.a=null}function es(t,e){this.name=t,this.value=e}_(Ko,T),_(Wo,T),Wo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Wo.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,_(Qo,zo),Qo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},Vo=new Qo,_($o,zo),$o.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},$o.prototype.b=function(){return{}},(t=Xo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,r,i){delete this.a},es.prototype.toString=function(){return this.name};var ns=new es("SEVERE",1e3),rs=new es("WARNING",900),is=new es("CONFIG",700),os=new es("FINE",500);function ss(t){return t.c?t.c:t.a?ss(t.a):(D("Root logger has no level set."),null)}ts.prototype.log=function(t,e,n){if(t.value>=ss(this).value)for(d(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var as={},us=null;function cs(t){var e;if(us||(us=new ts(""),as[""]=us,us.c=is),!(e=as[t])){e=new ts(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=cs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,as[t]=e}return e}function ls(t,e){t&&t.log(os,e,void 0)}function hs(t){this.f=t}function fs(t){yn.call(this),this.u=t,this.h=void 0,this.readyState=ds,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=cs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(hs,zo),hs.prototype.a=function(){return new fs(this.f)},hs.prototype.b=function(t){return function(){return t}}({}),_(fs,yn);var ds=0;function ps(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function vs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,gs(t)}function gs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ms(t){yn.call(this),this.headers=new Sn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ys,this.u=this.S=!1}(t=fs.prototype).open=function(t,e){if(this.readyState!=ds)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,gs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,vs(this)),this.readyState=ds},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,gs(this)),this.a&&(this.readyState=3,gs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ps(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?vs(this):gs(this),3==this.readyState&&ps(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,vs(this))},t.sc=function(t){this.a&&(this.response=t,vs(this))},t.Ua=function(t){var e=this.i;e&&e.log(rs,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&vs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(rs,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(rs,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),_(ms,yn);var ys="";ms.prototype.b=cs("goog.net.XhrIo");var bs=/^https?$/i,ws=["POST","PUT"];function _s(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Vo.a(),t.C=t.D?Go(t.D):Go(Vo),t.a.onreadystatechange=b(t.Vb,t);try{ls(t.b,Ns(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return ls(t.b,Ns(t,"Error opening Xhr: "+e.message)),void Ts(t,e)}e=r||"";var o=new Sn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)V(t,e,void 0);else for(var n=An(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Is,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!H(ws,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ks(t),0<t.g&&(t.u=function(t){return zt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ls(t.b,Ns(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=In(t.Ma,t.g,t)),ls(t.b,Ns(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ls(t.b,Ns(t,"Send error: "+e.message)),Ts(t,e)}}function Is(t){return"content-type"==t.toLowerCase()}function Ts(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Es(t),Ss(t)}function Es(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function As(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Cs(t)&&2==xs(t))ls(t.b,Ns(t,"Local request error detected and ignored"));else if(t.i&&4==Cs(t))In(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Cs(t)){ls(t.b,Ns(t,"Request complete")),t.c=!1;try{var e,n=xs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(xn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!bs.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Cs(t)?t.a.statusText:""}catch(e){ls(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+xs(t)+"]",Es(t)}}finally{Ss(t)}}}function Ss(t,e){if(t.a){ks(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ns,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function ks(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Cs(t){return t.a?t.a.readyState:0}function xs(t){try{return 2<Cs(t)?t.a.status:-1}catch(t){return-1}}function Ns(t,e){return e+" ["+t.R+" "+t.l+" "+xs(t)+"]"}function Rs(t){var e=Bs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ps(t,e,n){t.a=!0,t.c=n,t.f=!e,Ms(t)}function Ds(t){if(t.a){if(!t.v)throw new Fs(t);t.v=!1}}function Os(t,e,n,r){t.g.push([e,n,r]),t.a&&Ms(t)}function Ls(t){return W(t.g,(function(t){return d(t[1])}))}function Ms(t){if(t.h&&t.a&&Ls(t)){var e=t.h,n=qs[e];n&&(s.clearTimeout(n.a),delete qs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(N(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ls(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Rs?(Os(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new js(e),qs[e.a]=e,t.h=e.a)}function Fs(){R.call(this)}function Us(){R.call(this)}function js(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=ms.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ls(this.b,Ns(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ls(this.b,Ns(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ss(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ss(this,!0)),ms.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?As(this):this.Jc())},t.Jc=function(){As(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ns,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ls(this.b,"Can not get response: "+t.message),null}},Rs.prototype.cancel=function(t){if(this.a)this.c instanceof Rs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Us(this),Ds(this),Ps(this,!1,t))}},Rs.prototype.m=function(t,e){this.i=!1,Ps(this,t,e)},Rs.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Os(this,r,(function(t){t instanceof Us?o.cancel():i(t)})),o.then(t,e,n)},Rs.prototype.$goog_Thenable=!0,_(Fs,R),Fs.prototype.message="Deferred has already fired",Fs.prototype.name="AlreadyCalledError",_(Us,R),Us.prototype.message="Deferred was canceled",Us.prototype.name="CanceledError",js.prototype.c=function(){throw delete qs[this.a],this.b};var qs={};function Vs(t){var e,n=document,r=Tt(t).toString(),i=de(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Rs(o);return e=window.setTimeout((function(){Ks(i,!0);var t=new zs(Hs,"Timeout reached for loading script "+r);Ds(a),Ps(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ks(i,!1,e),Ds(a),Ps(a,!0,null))},i.onerror=function(){Ks(i,!0,e);var t=new zs(Ws,"Error while loading script "+r);Ds(a),Ps(a,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Bs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ks(t,!0,this.Ma)}}function Ks(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ws=0,Hs=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Gs(t){this.f=t}function Qs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Xs,this.g=ft(t.secureTokenHeaders||Js),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Zs,this.a=ft(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=s.XMLHttpRequest||n&&il.INTERNAL.node&&il.INTERNAL.node.XMLHttpRequest)&&!yr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yr()?this.f=new hs(self):wr()?this.f=new Gs(n):this.f=new $o,this.b=null}_(zs,R),_(Gs,zo),Gs.prototype.a=function(){return new this.f},Gs.prototype.b=function(){return{}};var Ys,$s="idToken",Xs=new jr(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},Zs=new jr(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Mn(t),e=Mn(e.url),t.f=t.a+t.f,Rn(t,e.c),t.a=e.a,Pn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,a){(function(){var t=Sr();return!((t=Tr(t)!=Ir?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||zt&&oe&&!(9<oe))})()||yr()?t=b(t.u,t):(Ys||(Ys=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Os(t,null,e,void 0)}(Vs(Et(sa,{onload:aa})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}Qs.prototype.T=function(){return this.b},Qs.prototype.u=function(t,e,n,r,i,o){if(yr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ms(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}bn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ls(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),wn(a,"ready",(function(){u&&clearTimeout(u),Be(this)})),wn(a,"timeout",(function(){u&&clearTimeout(u),Be(this),e&&e(null)})),_s(a,t,n,r,i)};var sa=new gt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t,e,n,r,i,o,s){var a=Mn(e+n);On(a,"key",t.c),s&&On(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&On(a,c,i[c]);return new be((function(e,n){oa(t,a.toString(),(function(t){t?t.error?n(ru(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:tr(Or(i)),t.a,t.v.get())}))}function ca(t){if("string"!=typeof(t=t.email)||!pr.test(t))throw new T("invalid-email")}function la(t){"email"in t&&ca(t)}function ha(t){if(!t[$s]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function fa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Qs.prototype.s=function(t,e,n,r,i){var o=this;Ys.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Qs.prototype.zb=function(){return eu(this,Ka,{})},Qs.prototype.Bb=function(t,e){return eu(this,Va,{idToken:t,email:e})},Qs.prototype.Cb=function(t,e){return eu(this,Ba,{idToken:t,password:e})};var da={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function pa(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function va(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&($n(t=new zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ma(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ho(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ho(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ho(t)):t.errorMessage&&(e=nu(t.errorMessage)),e)throw e;ha(t)}function ya(t,e){return e.returnIdpCredential=!0,eu(t,za,e)}function ba(t,e){return e.returnIdpCredential=!0,eu(t,Qa,e)}function wa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,eu(t,Ga,e)}function _a(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Qs.prototype).Db=function(t,e){var n={idToken:t},r=[];return lt(da,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),eu(this,Va,n)},t.vb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),eu(this,Ma,t)},t.wb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),eu(this,Da,t)},t.ub=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),eu(this,Oa,t)},t.Eb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),eu(this,La,t)},t.fb=function(t){return eu(this,Xa,t)},t.nb=function(t,e){return eu(this,ja,{oobCode:t,newPassword:e})},t.Ra=function(t){return eu(this,Ta,{oobCode:t})},t.jb=function(t){return eu(this,Ia,{oobCode:t})};var Ia={endpoint:"setAccountInfo",A:_a,Z:"email",B:!0},Ta={endpoint:"resetPassword",A:_a,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Ea={endpoint:"signupNewUser",A:function(t){if(ca(t),!t.password)throw new T("weak-password")},G:ha,V:!0,B:!0},Aa={endpoint:"createAuthUri",B:!0},Sa={endpoint:"deleteAccount",N:["idToken"]},ka={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ca={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ca,G:ha,V:!0,B:!0},xa={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ca,G:ha,V:!0},Na={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:pa,G:ha,B:!0,Na:!0},Ra={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:pa,G:ha,B:!0,Na:!0},Pa={endpoint:"getAccountInfo"},Da={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ca(t)},Z:"email",B:!0},Oa={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ca(t)},Z:"email",B:!0},Fa={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ua={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},ja={endpoint:"resetPassword",A:_a,Z:"email",B:!0},qa={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Va={endpoint:"setAccountInfo",N:["idToken"],A:la,V:!0},Ba={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(la(t),!t.password)throw new T("weak-password")},G:ha,V:!0},Ka={endpoint:"signupNewUser",G:ha,V:!0,B:!0},Wa={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ha={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},za={endpoint:"verifyAssertion",A:va,Ya:ga,G:ma,V:!0,B:!0},Ga={endpoint:"verifyAssertion",A:va,Ya:ga,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw nu(t.errorMessage);ha(t)},V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:function(t){if(va(t),!t.idToken)throw new T("internal-error")},Ya:ga,G:ma,V:!0},Ya={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:ha,V:!0,B:!0},$a={endpoint:"verifyPassword",A:function(t){if(ca(t),!t.password)throw new T("wrong-password")},G:ha,V:!0,B:!0},Xa={endpoint:"verifyPhoneNumber",A:fa,G:ha,B:!0},Ja={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");fa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ho(t);ha(t)}},Za={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:fa,G:ha,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[$s]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function eu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return ke(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Se(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ua(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function nu(t){return ru({error:{errors:[{message:t}],code:400,message:t}})}function ru(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Dr(t)),new T("internal-error",e)}function iu(t){this.b=t,this.a=null,this.rb=function(t){return(uu||(uu=new be((function(t,e){function n(){Ur(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:su.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Se(Vs(r=Et(ou,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw uu=null,t})))).then((function(){return new be((function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),au.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var ou=new gt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new jr(3e4,6e4),au=new jr(5e3,15e3),uu=null;function cu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Fn((t=Mn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,On(this.a,"apiKey",this.h),On(this.a,"appName",this.i),this.b=null,this.c=[]}function lu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function hu(t){try{return il.app(t).auth().Ga()}catch(t){return[]}}function fu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function du(t){var e=ar();return function(t){return eu(t,Fa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Mn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Mn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:dr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ko(ar())}))}function pu(t){return t.m||(t.m=vr().then((function(){if(!t.u){var e=t.c,n=t.i,r=hu(t.b),i=new cu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Y(r||[]),t.u=i.toString()}t.v=new iu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.m}function vu(t){return t.l||(t.C=t.c?Ar(t.c,hu(t.b)):null,t.l=new Qs(t.g,x(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new lu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.yb(l).toString()}function mu(t){if(this.a=t||il.INTERNAL.reactNative&&il.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yu(t){this.b=t,this.a={},this.f=b(this.c,this)}cu.prototype.toString=function(){return this.f?On(this.a,"v",this.f):Yn(this.a.b,"v"),this.b?On(this.a,"eid",this.b):Yn(this.a.b,"eid"),this.c.length?On(this.a,"fw",this.c.join(",")):Yn(this.a.b,"fw"),this.a.toString()},lu.prototype.yb=function(t){return this.h=t,this},lu.prototype.toString=function(){if(this.v){var t=Mn(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(On(t,"apiKey",this.s),On(t,"appName",this.c),On(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=il.app(this.c).auth().la()}catch(t){n=null}for(var r in e.ob=n,On(t,"providerId",this.a.providerId),e=Or((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ht(e)||On(t,"customParameters",Dr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&On(t,"scopes",n.join(","))),this.l?On(t,"redirectUrl",this.l):Yn(t.b,"redirectUrl"),this.g?On(t,"eventId",this.g):Yn(t.b,"eventId"),this.i?On(t,"v",this.i):Yn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ln(t,s)&&On(t,s,this.b[s]);return this.h?On(t,"tid",this.h):Yn(t.b,"tid"),this.f?On(t,"eid",this.f):Yn(t.b,"eid"),(s=hu(this.c)).length&&On(t,"fw",s.join(",")),t.toString()},(t=fu.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return pu(t).then((function(){return function(t,e){return t.rb.then((function(){return new be((function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&hr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){Tn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Tn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Sr();return!Pr(t)&&!Fr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return ke(new T("popup-blocked"));if(s&&!Pr())return this.ma().o((function(e){hr(t),i(e)})),r(),Se();this.a||(this.a=du(vu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw hr(t),i(e),e}));return r(),e})).then((function(){(Fo(n),s)||ur(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=du(vu(this)));var i=this;return this.a.then((function(){Fo(e),ur(gu(i.s,i.g,i.b,t,e,ar(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return pu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){G(this.h,(function(e){return e==t}))},(t=mu.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Lr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Dr(e)))},t.U=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bu,wu=[];function _u(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Iu(t){this.a=t}function Tu(t){this.c=t,this.b=!1,this.a=[]}function Eu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return ke(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Au(t,c),e})).o((function(e){throw Au(t,c),e}))}function Au(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),G(t.a,(function(t){return t==e}))}}function Su(){if(!Nu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;yr()&&self?(this.v=function(){var t=yr()?self:null;if(V(wu,(function(n){n.b==t&&(e=n)})),!e){var e=new yu(t);wu.push(e)}return e}(),_u(this.v,"keyChanged",(function(e,n){return Lu(t).then((function(e){return 0<e.length&&V(t.a,(function(t){t(e)})),{keyProcessed:H(e,n.key)}}))})),_u(this.v,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new Tu(new Iu(e)),Eu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&H(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function ku(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return ku(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Cu(t){return t.i||(t.i=ku(t)),t.i}function xu(t,e){var n=0;return new be((function r(i,o){Cu(t).then(e).then(i).o((function(e){if(!(3<++n))return Cu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Nu(){try{return!!s.indexedDB}catch(t){return!1}}function Ru(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Du(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Ou(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Eu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function Lu(t){return Cu(t).then((function(t){var e=Ru(Pu(t,!1));return e.getAll?Du(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=cr(t.c,n),t.c=n}return r}))}function Mu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Fu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Nu()){var t=Mr(),r="__sak"+t;return bu||(bu=new Su),(n=bu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){V(e.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function ju(){if(!function(){var t="Node"==br();if(!(t=qu()||t&&il.INTERNAL.node&&il.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=qu()||il.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var t=s.localStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Vu(){this.type="nullStorage"}function Bu(){if(!function(){var t="Node"==br();if(!(t=Ku()||t&&il.INTERNAL.node&&il.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ku()||il.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ku(){try{var t=s.sessionStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Wu(){var t={};t.Browser=Gu,t.Node=Qu,t.ReactNative=Yu,t.Worker=$u,this.a=t[br()]}yu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];V(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),xe(i).then((function(r){var i=[];V(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),V(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Iu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tu.prototype.close=function(){for(;0<this.a.length;)Au(this,this.a[0]);this.b=!0},(t=Su.prototype).set=function(t,e){var n=this,r=!1;return xu(this,(function(e){return Du((e=Ru(Pu(e,!0))).get(t))})).then((function(i){return xu(n,(function(o){if(o=Ru(Pu(o,!0)),i)return i.value=e,Du(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Du(o.add(s))}))})).then((function(){return n.c[t]=e,Ou(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return xu(this,(function(e){return Du(Ru(Pu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return xu(this,(function(r){return n=!0,e.b++,Du(Ru(Pu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Ou(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Lu(t).then((function(e){0<e.length&&V(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Mu(t),e()}(this),this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t})),0==this.a.length&&Mu(this)},(t=Fu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t}))},(t=Uu.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.U=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(t){var e=this;return Se().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&sn(s.window,"storage",t)},t.ia=function(t){s.window&&cn(s.window,"storage",t)},(t=Vu.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.U=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return Se().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Hu,zu,Gu={F:ju,bb:Bu},Qu={F:ju,bb:Bu},Yu={F:mu,bb:Vu},$u={F:ju,bb:Vu},Xu={rd:"local",NONE:"none",td:"session"};function Ju(){var t=!(Fr(Sr())||!mr()),e=Pr(),n=Cr();this.m=t,this.h=e,this.l=n,this.a={},Hu||(Hu=new Wu),t=Hu;try{this.g=!sr()&&Br()||!s.indexedDB?new t.a.F:new Fu(yr()?new Uu:new t.a.F)}catch(t){this.g=new Uu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Uu}this.v=new Uu,this.f=b(this.Yb,this),this.b={}}function Zu(){return zu||(zu=new Ju),zu}function tc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function ec(t,e){return"firebase:"+t.name+(e?":"+e:"")}function nc(t,e,n){return n=ec(e,n),"local"==e.F&&(t.b[n]=null),tc(t,e.F).U(n)}function rc(t){t.c&&(clearInterval(t.c),t.c=null)}function ic(t){this.a=t,this.b=Zu()}(t=Ju.prototype).get=function(t,e){return tc(this,t.F).get(ec(t,e))},t.set=function(t,e,n){var r=ec(t,n),i=this,o=tc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ec(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(tc(this,"local").ca(this.f),this.h||(sr()||!Br())&&s.indexedDB||!this.l||function(t){rc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ec(t,e),this.a[t]&&(G(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(tc(this,"local").ia(this.f),rc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?tc(this,"local").ia(this.f):rc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},zt&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else V(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&V(this.a[t],(function(t){t()}))};var oc,sc={name:"authEvent",F:"local"};function ac(){this.a=Zu()}function uc(t,e){this.b=cc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===oc&&(oc=s.Int32Array?new Int32Array(gc):gc),this.reset()}_(uc,(function(){this.b=-1}));for(var cc=64,lc=cc-1,hc=[],fc=0;fc<lc;fc++)hc[fc]=0;var dc=Q(128,hc);function pc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|oc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function vc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(pc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(pc(t),i=0)}}t.c=i,t.g+=n}uc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Y(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mc(){uc.call(this,8,yc)}_(mc,uc);var yc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ac,this.g=new ic(this.h),this.f=null,this.b=[],this.a=this.c=null}function wc(t){return new T("invalid-cordova-configuration",t)}function _c(t){var e=new mc;vc(e,t),t=[];var n=8*e.g;56>e.c?vc(e,dc,56-e.c):vc(e,dc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(pc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ic(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.ma().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ec(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=no(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Ln(o=Mn(i),"firebaseError")||null))?E(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ic(t,i)}))}var n=new Uo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Tn(500).then((function(){return Ec(t).then((function(){r||Ic(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Bo||(Bo=new qo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ec(t){var e=null;return function(t){return t.b.get(sc,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,nc((n=t.g).b,sc,n.a)})).then((function(){return e}))}function Ac(t){this.a=t,this.b=Zu()}(t=bc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?vr().then((function(){return new be((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):ke(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",s))throw wc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",s))throw wc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",s))throw wc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",s))throw wc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Se()},t.Mb=function(){return ke(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return ke(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Se().then((function(){return Fo(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new T("no-auth-event"),null,i),u=kr("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",s),l={};if(Sr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Sr().toLowerCase().match(/android/))return ke(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=_c(o),l.sessionId=o;var h=gu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(sc,a.w(),e)})).then((function(){var e=kr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Sr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Tn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},l=function(){qr()&&c()},o.addEventListener("resume",c,!1),Sr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Ec(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){G(this.b,(function(e){return e==t}))};var Sc={name:"pendingRedirect",F:"session"};function kc(t){return nc(t.b,Sc,t.a)}function Cc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Kc,this.C=new Qc,this.g=new Ac(Vc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,A,this.J)}function xc(t,e,n,r,i){var o=il.SDK_VERSION||null;return gr()?new bc(t,e,n,o,r,i):new fu(t,e,n,o,r,i)}function Nc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Rc(t){t.a.Xb()&&Nc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)})),t.a.Tb()||Wc(t.b)}function Pc(t,e){H(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Sc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?kc(t.g).then((function(){Nc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)}))})):Rc(t)})).o((function(){Rc(t)}))}function Dc(t,e){G(t.h,(function(t){return t==e}))}Cc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Cc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Wc(this.b),e};var Oc=new jr(2e3,1e4),Lc=new jr(3e4,6e4);function Mc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Fc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(Sc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Fc(e))throw new T("operation-not-supported-in-this-environment");return o=e,kc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new be((function(){})):kc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function jc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Oc.get())}Cc.prototype.qa=function(){return this.b.qa()};var qc={};function Vc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Bc(t,e,n,r){var i=Vc(e,n,r);return qc[i]||(qc[i]=new Cc(t,e,n,r)),qc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(t){t.g||(t.g=!0,Gc(t,!1,null,null))}function Hc(t){t.g&&!t.i&&Gc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Gc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Qc(){}function Yc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function $c(t,e){this.a=e,Gr(this,"verificationId",t)}function Xc(t,e,n,r){return new Oo(t).fb(e,n).then((function(t){return new $c(t,r)}))}function Jc(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:Vr(1e3*e.exp),authTime:Vr(1e3*e.auth_time),issuedAtTime:Vr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Zc(t,e,n){var r=e&&e[el];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new ro(null,r),this.b=[];var i=this;V(e[tl]||[],(function(t){(t=Jr(t))&&i.b.push(t)})),Gr(this,"auth",this.a),Gr(this,"session",this.c),Gr(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Gc(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Gc(t,a,e,null)})).o((function(e){Gc(t,a,null,e)}))}(this,t,e):ke(new T("invalid-auth-event")):(Gc(this,!1,null,null),Se())}else ke(new T("invalid-auth-event"))},Kc.prototype.qa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Tn(Lc.get()).then((function(){t.b||(t.g=!0,Gc(t,!0,null,e))}))}(t))}))},Qc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):ke(new T("invalid-auth-event"))}else ke(new T("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var tl="mfaInfo",el="mfaPendingCredential";function nl(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new Zc(t,e,n),Gr(this,"resolver",this.b)}function rl(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new nl(e,t.serverResponse,n,t.message)}catch(t){}return null}function ol(){}function sl(t){Gr(this,"factorId",t.fa),this.a=t}function al(t){if(sl.call(this,t),this.a.fa!=Oo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(t,e){for(var n in Ge.call(this,t),e)this[n]=e[n]}function cl(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&V(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),ll(this,n)}function ll(t,e){t.b=e,Gr(t,"enrolledFactors",e)}function hl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(t,e){t.stop(),t.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return qr()||!t?Se():new be((function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){fl(t,!0)})).o((function(e){t.i(e)&&fl(t,!1)}))}function dl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function pl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function vl(t,e){t.b=Vi(e[$s]||""),t.a=e.refreshToken,pl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function gl(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ru(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,pl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function ml(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:Vr(e||null),creationTime:Vr(t||null)})}function yl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=il.SDK_VERSION?Ar(il.SDK_VERSION):null;this.a=new Qs(this.l,x(A),r),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new dl(this.a),kl(this,e[$s]),vl(this.b,e),Gr(this,"refreshToken",this.b.a),Nl(this,n||{}),yn.call(this),this.R=!1,this.s&&xr()&&(this.i=Bc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new hl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){na(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Il(i,t.f)},this.ba=null,this.O=new cl(this,n),Gr(this,"multiFactor",this.O)}function wl(t,e){t.ja&&cn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&sn(e,"languageCodeChanged",t.Oa)}function _l(t,e){t.X&&cn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&sn(e,"emulatorConfigChanged",t.Aa)}function Il(t,e){t.$=e,ia(t.a,il.SDK_VERSION?Ar(il.SDK_VERSION,t.$):null)}function Tl(t,e){t.ba&&cn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&sn(e,"frameworkChanged",t.Ba)}function El(t){try{return il.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Al(t){t.D||t.u.b||(t.u.start(),cn(t,"tokenChanged",t.aa),sn(t,"tokenChanged",t.aa))}function Sl(t){cn(t,"tokenChanged",t.aa),t.u.stop()}function kl(t,e){t.za=e,Gr(t,"_lat",e)}function Cl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return xe(e).then((function(){return t}))}function xl(t){t.i&&!t.R&&(t.R=!0,Pc(t.i,t))}function Nl(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ml(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Rl(){}function Pl(t){return Se().then((function(){if(t.D)throw new T("app-deleted")}))}function Dl(t){return K(t.providerData,(function(t){return t.providerId}))}function Ol(t,e){e&&(Ll(t,e.providerId),t.providerData.push(e))}function Ll(t,e){G(t.providerData,(function(t){return t.providerId==e}))}function Ml(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Gr(t,e,n)}function Fl(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Gr(t,"metadata",function(t){return new ml(t.a,t.b)}(e.metadata)):Gr(t,"metadata",new ml),V(e.providerData,(function(e){Ol(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Gr(t,"refreshToken",t.b.a),ll(t.O,e.O.b))}function Ul(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return eu(t.a,Pa,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Ml(t,"isAnonymous",!1),e}))}))}function jl(t,e){e[$s]&&t.za!=e[$s]&&(vl(t.b,e),t.dispatchEvent(new ul("tokenChanged")),kl(t,e[$s]),Ml(t,"refreshToken",t.b.a))}function ql(t,e){return Ul(t).then((function(){if(H(Dl(t),e))return Cl(t).then((function(){throw new T("provider-already-linked")}))}))}function Vl(t,e,n){return Yr({user:t,credential:Mo(e),additionalUserInfo:e=Gi(e),operationType:n})}function Bl(t,e){return jl(t,e),t.reload().then((function(){return t}))}function Kl(t,e,n,r,i){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return ke(t.h);var o=zi(n.providerId),s=Mr(t.uid+":::"),a=null;(!Pr()||mr())&&t.s&&n.isOAuthProvider&&(a=gu(t.s,t.l,t.m,e,n,null,s,il.SDK_VERSION||null,null,null,t.tenantId));var u=fr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Hl(t),!i)return t.I().then((function(){}))})).then((function(){return Mc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new be((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=jc(t.i,t,e,u,s)}))})).then((function(t){return u&&hr(u),t?Yr(t):null})).o((function(t){throw u&&hr(u),t})),zl(t,r,i)}function Wl(t,e,n,r,i){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return ke(t.h);var o=null,s=Mr(t.uid+":::");return r=r().then((function(){if(Hl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Cl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yl,t.w(),e.a)),e})).then((function(){return Uc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return $l(t.ha);throw o})).then((function(){if(o)throw o})),zl(t,r,i)}function Hl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function zl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),ke(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ul("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){z(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rl(e.w(),El(t),b(t.jc,t))),n||e}))}function Gl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[$s]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bl(e,n,t);return t.providerData&&V(t.providerData,(function(t){t&&Ol(i,Yr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Ql(t){this.a=t,this.b=Zu()}Zc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[tl],delete n[el],pt(n,t),e.g(n)}))},_(nl,T),ol.prototype.sb=function(t,e,n){return e.type==io?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Do(t.a)}),eu(e,Na,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),eu(e,Ra,n)}))}(this,t,e)},_(sl,ol),_(al,sl),_(ul,Ge),(t=cl.prototype).yc=function(t){ll(this,function(t){var e=[];return V(t.mfaInfo||[],(function(t){(t=Jr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new ro(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return jl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return eu(r,tu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return ll(e,r),jl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},hl.prototype.start=function(){this.a=this.c,fl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?gl(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(bl,yn),bl.prototype.wa=function(t){this.ya=t,ea(this.a,t)},bl.prototype.la=function(){return this.ya},bl.prototype.Ga=function(){return Y(this.$)},bl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Gr(bl.prototype,"providerId","firebase"),(t=bl.prototype).reload=function(){var t=this;return zl(this,Pl(this).then((function(){return Ul(t).then((function(){return Cl(t)})).then(Rl)})))},t.oc=function(t){return this.I(t).then((function(t){return new Jc(t)}))},t.I=function(t){var e=this;return zl(this,Pl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(kl(e,t.accessToken),e.dispatchEvent(new ul("tokenChanged"))),Ml(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Nl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new yl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ol(this,e[n]);Ml(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{hd:t}))},t.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return zl(this,t.c(this.a,this.uid).then((function(t){return jl(e,t),n=Vl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return zl(this,ql(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Vl(e,t,"link"),Bl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return zl(this,ql(this,"phone").then((function(){return Xc(El(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return zl(this,Se().then((function(){return Xc(El(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return zl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return jl(e,t),e.reload()})))},t.ed=function(t){var e=this;return zl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return jl(e,t),e.reload()})))},t.Cb=function(t){var e=this;return zl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return jl(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Pl(this);var e=this;return zl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return jl(e,t),Ml(e,"displayName",t.displayName||null),Ml(e,"photoURL",t.photoUrl||null),V(e.providerData,(function(t){"password"===t.providerId&&(Gr(t,"displayName",e.displayName),Gr(t,"photoURL",e.photoURL))})),Cl(e)})).then(Rl))},t.cd=function(t){var e=this;return zl(this,Ul(this).then((function(n){return H(Dl(e),t)?function(t,e,n){return eu(t,ka,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return V(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),V(Dl(e),(function(t){n[t]||Ll(e,t)})),n[Oo.PROVIDER_ID]||Gr(e,"phoneNumber",null),Cl(e)})):Cl(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return zl(this,this.I().then((function(e){return eu(t.a,Sa,{idToken:e})})).then((function(){t.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");wl(t,null),_l(t,null),Tl(t,null),t.J=[],t.D=!0,Sl(t),Gr(t,"refreshToken",null),t.i&&Dc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return Kl(this,"linkViaPopup",t,(function(){return ql(e,t.providerId).then((function(){return Cl(e)}))}),!1)},t.Nc=function(t){return Kl(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Fc=function(t){var e=this;return Wl(this,"linkViaRedirect",t,(function(){return ql(e,t.providerId)}),!1)},t.Oc=function(t){return Wl(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zl(this,this.I().then((function(n){return ba(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Vl(i,t,"link"),Bl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zl(this,Se().then((function(){return ao(wa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Vl(i,t,"reauthenticate"),jl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return zl(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Fi(new ki(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return zl(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Fi(new ki(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return zl(this,t=ao(Se(t),n.uid).then((function(t){return e=Vl(n,t,"reauthenticate"),jl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),V(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.w()),t};var Yl={name:"redirectUser",F:"session"};function $l(t){return nc(t.b,Yl,t.a)}function Xl(t){this.a=t,this.b=Zu(),this.c=null,this.f=function(t){var e=th("local"),n=th("session"),r=th("none");return function(t,e,n){var r=ec(e,n),i=tc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Lr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Zl,t.a).then((function(t){return t?th(t):e}))}))}))})).then((function(e){return t.c=e,Jl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(th("local"),this.a,b(this.g,this))}function Jl(t,e){var n,r=[];for(n in Xu)Xu[n]!==e&&r.push(nc(t.b,th(Xu[n]),t.a));return r.push(nc(t.b,Zl,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ce(t[a],w(o,a),s);else e(i)}))}(r)}Xl.prototype.g=function(){var t=this,e=th("local");ih(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Jl(t,"local").then((function(){t.c=e}))}))}))};var Zl={name:"persistence",F:"session"};function th(t){return{name:"authUser",F:t}}function eh(t,e){return ih(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function nh(t){return ih(t,(function(){return nc(t.b,t.c,t.a)}))}function rh(t,e,n){return ih(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Gl(t||{})}))}))}function ih(t,e){return t.f=t.f.then(e,e),t.f}function oh(t){if(this.l=!1,Gr(this,"settings",new Yc),Gr(this,"app",t),!ph(this).options||!ph(this).options.apiKey)throw new T("invalid-api-key");t=il.SDK_VERSION?Ar(il.SDK_VERSION):null,this.a=new Qs(ph(this).options&&ph(this).options.apiKey,x(A),t),this.R=[],this.s=[],this.O=[],this.hb=il.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=il.INTERNAL.createSubscribe(b(this.Ac,this)),fh(this,null),this.i=new Xl(ph(this).options.apiKey+":"+ph(this).name),this.D=new Ql(ph(this).options.apiKey+":"+ph(this).name),this.$=yh(this,function(t){var e=ph(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Gl(t||{})}))}(t.D,ph(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),$l(t.D)}));return yh(t,e)}(t).then((function(){return rh(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return eh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:nh(t.i)}))):null})).then((function(e){fh(t,e||null)}));return yh(t,n)}(this)),this.h=yh(this,function(t){return t.$.then((function(){return lh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(th("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=ph(t).options.authDomain,n=ph(t).options.apiKey;e&&xr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Bc(e,n,ph(t).name,t.P),Pc(t.b,t),vh(t)&&xl(vh(t)),t.m){xl(t.m);var r=t.m;r.wa(t.la()),wl(r,t),Il(r=t.m,t.J),Tl(r,t),na((r=t.m).a,t.P),_l(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Mn(this.P.url);t=Yr({protocol:t.c,host:t.a,port:t.g,options:Yr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function sh(t){Ge.call(this,"languageCodeChanged"),this.h=t}function ah(t){Ge.call(this,"emulatorConfigChanged"),this.c=t}function uh(t){Ge.call(this,"frameworkChanged"),this.f=t}function ch(t){return t.Oa||ke(new T("auth-domain-config-required"))}function lh(t){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));var e=ch(t).then((function(){return t.b.qa()})).then((function(t){return t?Yr(t):null}));return yh(t,e)}function hh(t,e){var n={};return n.apiKey=ph(t).options.apiKey,n.authDomain=ph(t).options.authDomain,n.appName=ph(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new bl(t,e);return n&&(i.ha=n),r&&Il(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return vh(t)&&e.uid==vh(t).uid?(Fl(vh(t),e),t.da(e)):(fh(t,e),xl(e),t.da(e))})).then((function(){mh(t)}))}function fh(t,e){vh(t)&&(function(t,e){G(t.S,(function(t){return t==e}))}(vh(t),t.Ba),cn(vh(t),"tokenChanged",t.ya),cn(vh(t),"userDeleted",t.za),cn(vh(t),"userInvalidated",t.Aa),Sl(vh(t))),e&&(e.S.push(t.Ba),sn(e,"tokenChanged",t.ya),sn(e,"userDeleted",t.za),sn(e,"userInvalidated",t.Aa),0<t.u&&Al(e)),Gr(t,"currentUser",e),e&&(e.wa(t.la()),wl(e,t),Il(e,t.J),Tl(e,t),na(e.a,t.P),_l(e,t))}function dh(t,e){var n=null,r=null;return yh(t,e.then((function(e){return n=Mo(e),r=Gi(e),hh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rl(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Yr({user:vh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function ph(t){return t.app}function vh(t){return t.currentUser}function gh(t){return vh(t)&&vh(t)._lat||null}function mh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](gh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](gh(t))}}function yh(t,e){return t.R.push(e),e.oa((function(){z(t.R,e)})),e}function bh(){}function wh(){this.a={},this.b=1e12}Xl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Xu)if(Xu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Nu()&&"none"!==t)throw n;break;default:if(!Cr()&&"none"!==t)throw n}}(t),ih(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Jl(n,t)})).then((function(){if(n.c=th(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},_(oh,yn),_(sh,Ge),_(ah,Ge),_(uh,Ge),(t=oh.prototype).xb=function(t){return yh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new sh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&vr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,na(this.a,this.P),this.dispatchEvent(new ah(this.P))}},t.Gc=function(t){this.J.push(t),ia(this.a,il.SDK_VERSION?Ar(il.SDK_VERSION,this.J):null),this.dispatchEvent(new uh(this.J))},t.Ga=function(){return Y(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ph(this).options.apiKey,authDomain:ph(this).options.authDomain,appName:ph(this).name,currentUser:vh(this)&&vh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return dh(i,ya(i.a,o))}))},t.Xc=function(t){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));var e=this,n=zi(t.providerId),r=Mr(),i=null;(!Pr()||mr())&&ph(this).options.authDomain&&t.isOAuthProvider&&(i=gu(ph(this).options.authDomain,ph(this).options.apiKey,ph(this).name,"signInViaPopup",t,null,r,il.SDK_VERSION||null,null,null,this.T(),this.P));var o=fr(i,n&&n.ua,n&&n.ta);return yh(this,n=ch(this).then((function(n){return Mc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new be((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=jc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&hr(o),t?Yr(t):null})).o((function(t){throw o&&hr(o),t})))},t.Yc=function(t){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));var e=this;return yh(this,ch(this).then((function(){return function(t){return ih(t,(function(){return t.b.set(Zl,t.c.F,t.a)}))}(e.i)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return lh(this).then((function(e){return t.b&&Hc(t.b.b),e})).o((function(e){throw t.b&&Hc(t.b.b),e}))},t.dd=function(t){if(!t)return ke(new T("null-user"));if(this.S!=t.tenantId)return ke(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=ph(this).options.apiKey,n.authDomain=ph(this).options.authDomain,n.appName=ph(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[$s]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Il(e,r),Fl(e,t),e}(t,n,e.D,e.Ga());return yh(this,this.h.then((function(){if(ph(e).options.apiKey!=t.l)return r.reload()})).then((function(){return vh(e)&&t.uid==vh(e).uid?(Fl(vh(e),t),e.da(t)):(fh(e,r),xl(r),e.da(r))})).then((function(){mh(e)})))},t.Ab=function(){var t=this;return yh(this,this.h.then((function(){return t.b&&Hc(t.b.b),vh(t)?(fh(t,null),nh(t.i).then((function(){mh(t)}))):Se()})))},t.Zc=function(){var t=this;return rh(this.i,ph(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=vh(t)&&e){n=vh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Fl(vh(t),e),vh(t).I();(vh(t)||e)&&(fh(t,e),e&&(xl(e),e.ha=t.D),t.b&&Pc(t.b,t),mh(t))}}))},t.da=function(t){return eh(this.i,t)},t.mc=function(){mh(this),this.da(vh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return dh(e,Se(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(vh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),yh(t,t.h.then((function(){!t.l&&H(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(gh(t)))})))}(this,(function(){t.next(vh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(vh(r)):"function"==typeof t.next&&t.next(vh(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(vh(r)):"function"==typeof t.next&&t.next(vh(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return yh(this,this.h.then((function(){return vh(e)?vh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return dh(e,eu(e.a,Ya,{token:t}))})).then((function(t){var n=t.user;return Ml(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return dh(n,eu(n.a,$a,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return dh(n,eu(n.a,Ea,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return dh(e,t.ka(e.a))}))},t.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=vh(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return dh(t,t.a.zb()).then((function(e){var n=e.user;return Ml(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return vh(this)&&vh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&vh(this)&&Al(vh(this))},t.Pc=function(t){var e=this;V(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&vh(this)&&Sl(vh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),yh(this,this.h.then((function(){e.l||H(e.s,t)&&t(gh(e))})))},t.removeAuthTokenListener=function(t){G(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(th("local"),t.a,this.ja),this.b&&(Dc(this.b,this),Hc(this.b.b)),Promise.resolve()},t.hc=function(t){return yh(this,function(t,e){return eu(t,Aa,{identifier:e,continueUri:Nr()?ar():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!No(t)},t.wb=function(t,e){var n=this;return yh(this,Se().then((function(){var t=new ki(e);if(!t.c)throw new T("argument-error",Ni+" must be true when sending sign in link to email");return Fi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return yh(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return yh(this,this.a.Ra(t).then((function(t){return new ii(t)})))},t.jb=function(t){return yh(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return yh(this,Se().then((function(){return void 0===e||ht(e)?{}:Fi(new ki(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return yh(this,Xc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return yh(this,Se().then((function(){var r=e||ar(),i=xo(t,r);if(!(r=No(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},bh.prototype.render=function(){},bh.prototype.reset=function(){},bh.prototype.getResponse=function(){},bh.prototype.execute=function(){};var _h=null;function Ih(t,e){return(e=Th(e))&&t.a[e]||null}function Th(t){return(t=void 0===t?1e12:t)?t.toString():null}function Eh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function Ah(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Sh(){}function kh(){}wh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Eh(t,e),this.b++},wh.prototype.reset=function(t){var e=Ih(this,t);t=Th(t),e&&t&&(e.delete(),delete this.a[t])},wh.prototype.getResponse=function(t){return(t=Ih(this,t))?t.getResponse():null},wh.prototype.execute=function(t){(t=Ih(this,t))&&t.execute()},Eh.prototype.getResponse=function(){return Ah(this),this.b},Eh.prototype.execute=function(){Ah(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Eh.prototype.delete=function(){Ah(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.i)},Gr(Sh,"FACTOR_ID","phone"),kh.prototype.g=function(){return _h||(_h=new wh),Se(_h)},kh.prototype.c=function(){};var Ch=null;function xh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nh=new gt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rh=new jr(3e4,6e4);xh.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Rh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},Se(Vs(Et(Nh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},xh.prototype.c=function(){this.b--};var Ph=null;function Dh(t,e,n,r,i,o,a){if(Gr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Ch||(Ch=new kh),a=Ch):(Ph||(Ph=new xh),a=Ph),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Mh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Fh],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Oh];this.a[Oh]=function(t){if(Uh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Lh];this.a[Lh]=function(){if(Uh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=kr(l,s);"function"==typeof t&&t()}}}var Oh="callback",Lh="expired-callback",Mh="sitekey",Fh="size";function Uh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function jh(t,e){return t.h.push(e),e.oa((function(){z(t.h,e)})),e}function qh(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vh(t,e,n){var r=!1;try{this.b=n||il.app()}catch(t){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=il.SDK_VERSION?Ar(il.SDK_VERSION,o):null,Dh.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,x(A),r)}function Bh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Kh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Kh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Dh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=jh(this,Se().then((function(){if(Nr()&&!yr())return vr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,eu(t.s,Ua,{})})).then((function(e){t.a[Mh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){qh(this);var t=this;return jh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Vt(s.name),'"'),s.type){o.push(' type="',Vt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=de(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){qh(this);var t=this;return jh(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){G(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){qh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){qh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Vh,Dh);var Kh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Wh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Hh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function zh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Gh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Qh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Yh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function $h(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Xh(t){return p(t)&&"string"==typeof t.uid}function Jh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Zh(t,e){for(var n in e){var r=e[n].name;t[r]=nf(r,t[n],e[n].j)}}function tf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Bh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function ef(t,e,n,r){t[e]=nf(e,n,r)}function nf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Bh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Zh(oh.prototype,{jb:{name:"applyActionCode",j:[Wh("code")]},Ra:{name:"checkActionCode",j:[Wh("code")]},nb:{name:"confirmPasswordReset",j:[Wh("code"),Wh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Wh("email"),Wh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Wh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Wh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Jh(zh(),Gh(),"nextOrObserver"),Gh("opt_error",!0),Gh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Jh(zh(),Gh(),"nextOrObserver"),Gh("opt_error",!0),Gh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Wh("email"),Jh(zh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Wh("email"),zh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Wh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Yh()]},Tc:{name:"signInWithCustomToken",j:[Wh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Wh("email"),Wh("password")]},Vc:{name:"signInWithEmailLink",j:[Wh("email"),Wh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Jh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bl)}},Qh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Wh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Wh("url"),zh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Wh("code")]}}),tf(oh.prototype,{lc:{name:"languageCode",kb:Jh(Wh(),Qh(),"languageCode")},ti:{name:"tenantId",kb:Jh(Wh(),Qh(),"tenantId")}}),oh.Persistence=Xu,oh.Persistence.LOCAL="local",oh.Persistence.SESSION="session",oh.Persistence.NONE="none",Zh(bl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Hh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Hh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yh()]},qb:{name:"linkWithCredential",j:[Yh()]},Dc:{name:"linkWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yh()]},tb:{name:"reauthenticateWithCredential",j:[Yh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Jh(zh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Wh(null,!0)]},cd:{name:"unlink",j:[Wh("provider")]},Bb:{name:"updateEmail",j:[Wh("email")]},Cb:{name:"updatePassword",j:[Wh("password")]},ed:{name:"updatePhoneNumber",j:[Yh("phone")]},Db:{name:"updateProfile",j:[zh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Wh("email"),Jh(zh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]}}),Zh(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zh(bh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zh(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),tf(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Hh("appVerificationDisabledForTesting")}}),Zh($c.prototype,{confirm:{name:"confirm",j:[Wh("verificationCode")]}}),ef(so,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[po,ko,Po,lo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Jh(Wh(),zh(),"json")]),ef(Co,"credential",(function(t,e){return new So(t,e)}),[Wh("email"),Wh("password")]),Zh(So.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(yo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),ef(yo,"credential",bo,[Jh(Wh(),zh(),"token")]),ef(Co,"credentialWithLink",xo,[Wh("email"),Wh("emailLink")]),Zh(wo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),ef(wo,"credential",_o,[Jh(Wh(),zh(),"token")]),Zh(Io.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),ef(Io,"credential",To,[Jh(Wh(),Jh(zh(),Qh()),"idToken"),Jh(Wh(),Qh(),"accessToken",!0)]),Zh(Eo.prototype,{Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),ef(Eo,"credential",Ao,[Jh(Wh(),zh(),"token"),Wh("secret",!0)]),Zh(mo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},credential:{name:"credential",j:[Jh(Wh(),Jh(zh(),Qh()),"optionsOrIdToken"),Jh(Wh(),Qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),Zh(ho.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(uo.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(Oo,"credential",Lo,[Wh("verificationId"),Wh("verificationCode")]),Zh(Oo.prototype,{fb:{name:"verifyPhoneNumber",j:[Jh(Wh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?$h(t.session,io)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?$h(t.session,oo)&&Xh(t.multiFactorHint):t.session&&t.multiFactorUid?$h(t.session,oo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Zh(Ro.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(T.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(Wo.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(Ko.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(nl.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(Zc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Zh(cl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Wh("displayName",!0)]},bd:{name:"unenroll",j:[Jh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Xh},Wh(),"multiFactorInfoIdentifier")]}}),Zh(Vh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ef(yi,"parseLink",Si,[Wh("link")]),ef(Sh,"assertion",(function(t){return new al(t)}),[Yh("phone")]),function(){if(void 0===il||!il.INTERNAL||!il.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:oh,AuthCredential:so,Error:T};ef(t,"EmailAuthProvider",Co,[]),ef(t,"FacebookAuthProvider",yo,[]),ef(t,"GithubAuthProvider",wo,[]),ef(t,"GoogleAuthProvider",Io,[]),ef(t,"TwitterAuthProvider",Eo,[]),ef(t,"OAuthProvider",mo,[Wh("providerId")]),ef(t,"SAMLAuthProvider",go,[Wh("providerId")]),ef(t,"PhoneAuthProvider",Oo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof oh)}}]),ef(t,"RecaptchaVerifier",Vh,[Jh(Wh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),zh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof il.app.App)}}]),ef(t,"ActionCodeURL",yi,[]),ef(t,"PhoneMultiFactorGenerator",Sh,[]),il.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new oh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),il.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),il.registerVersion("@firebase/auth","0.16.6"),il.INTERNAL.extendNamespace({User:bl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ol="";function sl(t){ol=t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var al,ul=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),fc(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:hc(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),cl=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return pc(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),ll=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ul(e)}}catch(t){}return new cl},hl=ll("localStorage"),fl=ll("sessionStorage"),dl=new Bc("@firebase/database"),pl=(al=1,function(){return al++}),vl=function(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Ku(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new yc;n.update(e);var r=n.digest();return zu.encodeByteArray(r)},gl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=gl.apply(null,i):n+="object"==typeof i?fc(i):i,n+=" "}return n},ml=null,yl=!0,bl=function(t,e){Ku(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(dl.logLevel=Oc.VERBOSE,ml=dl.log.bind(dl),e&&fl.set("logging_enabled",!0)):"function"==typeof t?ml=t:(ml=null,fl.remove("logging_enabled"))},wl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===yl&&(yl=!1,null===ml&&!0===fl.get("logging_enabled")&&bl(!0)),ml){var n=gl.apply(null,t);ml(n)}},_l=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];wl.apply(void 0,qu([t],ju(e)))}},Il=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+gl.apply(void 0,qu([],ju(t)));dl.error(n)},Tl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+gl.apply(void 0,qu([],ju(t)));throw dl.error(n),new Error(n)},El=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+gl.apply(void 0,qu([],ju(t)));dl.warn(n)},Al=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Sl="[MIN_NAME]",kl="[MAX_NAME]",Cl=function(t,e){if(t===e)return 0;if(t===Sl||e===kl)return-1;if(e===Sl||t===kl)return 1;var n=Ml(t),r=Ml(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},xl=function(t,e){return t===e?0:t<e?-1:1},Nl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+fc(e))},Rl=function(t){if("object"!=typeof t||null===t)return fc(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=fc(e[i]),r+=":",r+=Rl(t[e[i]]);return r+="}"},Pl=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Ol=function(t){Ku(!Al(t),"Invalid JSON number");var e,n,r,i,o,s=1023;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),s))+s,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var Ll=new RegExp("^-?(0*)\\d{1,10}$"),Ml=function(t){if(Ll.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Fl=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw El("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Ul=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},jl=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){El('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),ql=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(wl("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',El(t)},t}(),Vl=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),Bl=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Kl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hl.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&hl.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function Wl(t,e,n){var r;if(Ku("string"==typeof e,"typeof type must == string"),Ku("object"==typeof n,"typeof params must == object"),"websocket"===e)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return Dl(n,(function(t,e){i.push(t+"="+e)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hl=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),pc(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Qu(this.counters_)},t}(),zl={},Gl={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){var e=t.toString();return zl[e]||(zl[e]=new Hl),zl[e]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Yl=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Fl((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),$l=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_l(t),this.stats_=Ql(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),Wl(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Yl(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Xl((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ju(t,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ju(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&Bl.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=fc(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n,r=(n=Hu(e),zu.encodeByteArray(n,!0)),i=Pl(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(t){var e=fc(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Xl=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=pl(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(t){wl("frame writing exception"),t.stack&&wl(t.stack),wl(t)}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||wl("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){wl("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),Jl=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!=typeof MozWebSocket?Jl=MozWebSocket:"undefined"!=typeof WebSocket&&(Jl=WebSocket);var Zl=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_l(this.connId),this.stats_=Ql(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&Bl.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),Wl(t,"websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hl.set("previous_websocket_failure",!0);try{if(rc());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Jl(this.connURL,[],r)}}catch(t){this.log_("Error instantiating WebSocket.");var i=t.message||t.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Jl&&!t.forceDisallow_},t.previouslyFailed=function(){return hl.isInMemoryStorage||!0===hl.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){hl.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=hc(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Ku(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=fc(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=Pl(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),th=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[$l,Zl]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Zl&&Zl.isAvailable(),o=i&&!Zl.previouslyFailed();if(e.webSocketOnly&&(i||El("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Zl];else{var s=this.transports_=[];try{for(var a=Uu(t.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var c=u.value;c&&c.isAvailable()&&s.push(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),eh=function(){function t(t,e,n,r,i,o,s,a,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_l("c:"+this.id+":"),this.transportManager_=new th(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ul((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=Nl("t",t),n=Nl("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=Nl("t",t),n=Nl("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=Nl("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?Il("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Il("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&El("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ul((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ul((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),nh=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),rh=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Ku(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=qu([],ju(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Ku(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),ih=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Zu()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Ou(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Ku("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(rh),oh=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(){return new oh("")}function ah(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function uh(t){return t.pieces_.length-t.pieceNum_}function ch(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new oh(t.pieces_,e)}function lh(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function hh(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function fh(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new oh(e,0)}function dh(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof oh)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new oh(n,0)}function ph(t){return t.pieceNum_>=t.pieces_.length}function vh(t,e){var n=ah(t),r=ah(e);if(null===n)return e;if(n===r)return vh(ch(t),ch(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gh(t,e){for(var n=hh(t,0),r=hh(e,0),i=0;i<n.length&&i<r.length;i++){var o=Cl(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function mh(t,e){if(uh(t)!==uh(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function yh(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(uh(t)>uh(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var bh=function(t,e){this.errorPrefix_=e,this.parts_=hh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Sc(this.parts_[n]);wh(this)};function wh(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+_h(t))}function _h(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ih,Th,Eh=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Ou(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Ku("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(rh),Ah=function(t){function e(n,r,i,o,s,a,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=s,l.authTokenProvider_=a,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=_l("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!rc())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Eh.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&ih.getInstance().on("online",l.onOnline_,l),l}return Ou(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(fc(i)),Ku(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new $u,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[o];void 0!==t&&i===t&&(delete e.outstandingGets_[o],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Ku(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ku(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&pc(t,"w")){var n=vc(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();El("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e;(t&&40===t.length||"object"==typeof(e=dc(t).claims)&&!0===e.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t,e=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(t=dc(n).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(t){var r=t.s,i=t.d||"error";e.authToken_===n&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ku(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+fc(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):Il("Unrecognized action received from server: "+fc(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Ku(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Mu(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,h,f,d,p,v=this;return Fu(this,(function(g){switch(g.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this.lastSessionId,s=!1,a=null,u=function(){a?a.close():(s=!0,r())},c=function(t){Ku(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(t)},this.realtime_={close:u,sendRequest:c},l=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)])];case 2:return h=ju.apply(void 0,[g.sent(),2]),f=h[0],d=h[1],s?wl("getToken() completed but was canceled"):(wl("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,a=new eh(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){El(t+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),o)),[3,4];case 3:return p=g.sent(),this.log_("Failed to get token: "+p),s||(this.repoInfo_.nodeAdmin&&El(p),u()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){wl("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){wl("Resuming connection for reason: "+t),delete this.interruptReasons_[t],gc(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return Rl(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new oh(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){wl("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){wl("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Uu(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,Uu(s.values())),u=a.next();!u.done;u=a.next()){var c=u.value;this.sendListen_(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+ol.replace(/\./g,"-")]=1,Zu()?t["framework.cordova"]=1:nc()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ih.getInstance().currentlyOnline();return gc(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(nh),Sh=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),kh=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Sh(Sl,t),r=new Sh(Sl,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Sh.MIN},t}(),Ch=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Ih},set:function(t){Ih=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return Cl(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Wu("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Sh.MIN},e.prototype.maxPost=function(){return new Sh(kl,Ih)},e.prototype.makePost=function(t,e){return Ku("string"==typeof t,"KeyIndex indexValue must always be a string."),new Sh(t,Ih)},e.prototype.toString=function(){return".key"},e}(kh),xh=new Ch,Nh=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Rh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Dh.EMPTY_NODE,this.right=null!=o?o:Dh.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Dh.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Dh.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ph=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Rh(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Dh=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rh.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Nh(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Nh(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Nh(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Nh(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ph,t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Oh(t,e){return Cl(t.name,e.name)}function Lh(t,e){return Cl(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mh,Fh,Uh,jh=function(t){return"number"==typeof t?"number:"+Ol(t):"string:"+t},qh=function(t){if(t.isLeafNode()){var e=t.val();Ku("string"==typeof e||"number"==typeof e||"object"==typeof e&&pc(e,".sv"),"Priority must be a string or number.")}else Ku(t===Th||t.isEmpty(),"priority of unexpected type.");Ku(t===Th||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Vh=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ku(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),qh(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Mh},set:function(t){Mh=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return ph(e)?this:".priority"===ah(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=ah(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Ku(".priority"!==r||1===uh(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ch(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+jh(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?Ol(this.value_):this.value_,this.lazyHash_=vl(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Ku(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return Ku(i>=0,"Unknown leaf type: "+n),Ku(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Bh,Kh,Wh=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?Cl(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Sh.MIN},e.prototype.maxPost=function(){return new Sh(kl,new Vh("[PRIORITY-POST]",Uh))},e.prototype.makePost=function(t,e){var n=Fh(t);return new Sh(e,new Vh("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(kh)),Hh=Math.log(2),zh=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Hh,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Gh=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Rh(s,o.node,Rh.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new Rh(s,o.node,Rh.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new Rh(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Rh.BLACK):(a(h,Rh.BLACK),a(h,Rh.RED))}return o}(new zh(t.length));return new Dh(r||e,o)},Qh={},Yh=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Ku(Qh&&Wh,"ChildrenNode.ts has not been loaded"),Bh=Bh||new t({".priority":Qh},{".priority":Wh})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=vc(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Dh?e:null},t.prototype.hasIndex=function(t){return pc(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Ku(e!==xh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,s=n.getIterator(Sh.Wrap),a=s.getNext();a;)o=o||e.isDefinedOn(a.node),i.push(a),a=s.getNext();r=o?Gh(i,e.getCompare()):Qh;var u=e.toString(),c=Lu({},this.indexSet_);c[u]=e;var l=Lu({},this.indexes_);return l[u]=r,new t(l,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(mc(this.indexes_,(function(t,i){var o=vc(r.indexSet_,i);if(Ku(o,"Missing index implementation for "+i),t===Qh){if(o.isDefinedOn(e.node)){for(var s=[],a=n.getIterator(Sh.Wrap),u=a.getNext();u;)u.name!==e.name&&s.push(u),u=a.getNext();return s.push(e),Gh(s,o.getCompare())}return Qh}var c=n.get(e.name),l=t;return c&&(l=l.remove(new Sh(e.name,c))),l.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(mc(this.indexes_,(function(t){if(t===Qh)return t;var r=n.get(e.name);return r?t.remove(new Sh(e.name,r)):t})),this.indexSet_)},t}(),$h=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&qh(this.priorityNode_),this.children_.isEmpty()&&Ku(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Kh||(Kh=new t(new Dh(Lh),null,Yh.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Kh},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Kh:e},t.prototype.getChild=function(t){var e=ah(t);return null===e?this:this.getImmediateChild(e).getChild(ch(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Ku(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Sh(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Kh:this.priorityNode_;return new t(i,s,o)},t.prototype.updateChild=function(t,e){var n=ah(t);if(null===n)return e;Ku(".priority"!==ah(t)||1===uh(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ch(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Wh,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+jh(this.getPriority().val())+":"),this.forEachChild(Wh,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":vl(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Sh(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Sh(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Sh(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Sh.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Sh.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Xh?-1:0},t.prototype.withIndex=function(e){if(e===xh||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===xh||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Wh),r=e.getIterator(Wh),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===xh?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Xh=new(function(t){function e(){return t.call(this,new Dh(Lh),$h.EMPTY_NODE,Yh.Default)||this}return Ou(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return $h.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}($h));Object.defineProperties(Sh,{MIN:{value:new Sh(Sl,$h.EMPTY_NODE)},MAX:{value:new Sh(kl,Xh)}}),Ch.__EMPTY_NODE=$h.EMPTY_NODE,Vh.__childrenNodeConstructor=$h,Th=Xh,function(t){Uh=t}(Xh);function Jh(t,e){if(void 0===e&&(e=null),null===t)return $h.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Ku(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Vh(t,Jh(e));if(t instanceof Array){var n=$h.EMPTY_NODE;return Dl(t,(function(e,r){if(pc(t,e)&&"."!==e.substring(0,1)){var i=Jh(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Jh(e))}var r=[],i=!1;if(Dl(t,(function(t,e){if("."!==t.substring(0,1)){var n=Jh(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Sh(t,n)))}})),0===r.length)return $h.EMPTY_NODE;var o=Gh(r,Oh,(function(t){return t.name}),Lh);if(i){var s=Gh(r,Wh.getCompare());return new $h(o,Jh(e),new Yh({".priority":s},{".priority":Wh}))}return new $h(o,Jh(e),Yh.Default)}!function(t){Fh=t}(Jh);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Zh,tf,ef=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Ku(!ph(e)&&".priority"!==ah(e),"Can't create PathIndex with empty path or .priority key"),n}return Ou(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?Cl(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Jh(t),r=$h.EMPTY_NODE.updateChild(this.indexPath_,n);return new Sh(e,r)},e.prototype.maxPost=function(){var t=$h.EMPTY_NODE.updateChild(this.indexPath_,Xh);return new Sh(kl,t)},e.prototype.toString=function(){return hh(this.indexPath_,0).join("/")},e}(kh),nf=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?Cl(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Sh.MIN},e.prototype.maxPost=function(){return Sh.MAX},e.prototype.makePost=function(t,e){var n=Jh(t);return new Sh(e,n)},e.prototype.toString=function(){return".value"},e}(kh)),rf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",of=(Zh=0,tf=[],function(t){var e,n=t===Zh;Zh=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=rf.charAt(t%64),t=Math.floor(t/64);Ku(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===tf[e];e--)tf[e]=0;tf[e]++}else for(e=0;e<12;e++)tf[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=rf.charAt(tf[e]);return Ku(20===i.length,"nextPushId: Length should be 20."),i}),sf=function(t){if("2147483647"===t)return"-";var e=Ml(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return kl;var o=n[i],s=rf.charAt(rf.indexOf(o)+1);return n[i]=s,n.slice(0,i+1).join("")},af=function(t){if("-2147483648"===t)return Sl;var e=Ml(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=rf.charAt(rf.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function uf(t){return{type:"value",snapshotNode:t}}function cf(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function lf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function hf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ff=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){Ku(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(lf(e,s)):Ku(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(cf(e,n)):o.trackChildChange(hf(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Wh,(function(t,r){e.hasChild(t)||n.trackChildChange(lf(t,r))})),e.isLeafNode()||e.forEachChild(Wh,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(hf(e,r,i))}else n.trackChildChange(cf(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?$h.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),df=function(){function t(e){this.indexedFilter_=new ff(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Sh(e,n))||(n=$h.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=$h.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority($h.EMPTY_NODE);var i=this;return e.forEachChild(Wh,(function(t,e){i.matches(new Sh(t,e))||(r=r.updateImmediateChild(t,$h.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),pf=function(){function t(t){this.rangedFilter_=new df(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Sh(e,n))||(n=$h.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=$h.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=$h.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority($h.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){s=i.getNext();!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,$h.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var a=t;Ku(a.numChildren()===this.limit_,"");var u=new Sh(e,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(a.hasChild(e)){for(var h=a.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:o(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(hf(e,n,h)),a.updateImmediateChild(e,n);null!=i&&i.trackChildChange(lf(e,h));var p=a.updateImmediateChild(e,$h.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(cf(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?t:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(lf(c.name,c.node)),i.trackChildChange(cf(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(c.name,$h.EMPTY_NODE)):t},t}(),vf=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wh}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Ku(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Ku(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sl},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Ku(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Ku(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:kl},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Ku(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Wh},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function mf(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function yf(t,e){var n=t.copy();return n.index_=e,n}function bf(t){var e,n={};return t.isDefault()||(t.index_===Wh?e="$priority":t.index_===nf?e="$value":t.index_===xh?e="$key":(Ku(t.index_ instanceof ef,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=fc(e),t.startSet_&&(n.startAt=fc(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+fc(t.indexStartName_))),t.endSet_&&(n.endAt=fc(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+fc(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function wf(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Wh&&(e.i=t.index_.toString()),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _f=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=_l("p:rest:"),o.listens_={},o}return Ou(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Ku(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var a=e.getListenId_(t,r),u={};this.listens_[a]=u;var c=bf(t._queryParams);this.restRequest_(s+".json",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),vc(o.listens_,a)===u)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=bf(t._queryParams),r=t._path.toString(),i=new $u;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=ju(i,2),s=o[0],a=o[1];s&&s.accessToken&&(e.auth=s.accessToken),a&&a.token&&(e.ac=a.token);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=hc(c.responseText)}catch(t){El("Failed to parse JSON response for "+u+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&El("Got unsuccessful REST response for "+u+" Status: "+c.status),n(c.status);n=null}},c.open("GET",u,!0),c.send()}))},e}(nh),If=function(){function t(){this.rootNode_=$h.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Tf(){return{value:null,children:new Map}}function Ef(t,e,n){if(ph(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=ah(e);t.children.has(r)||t.children.set(r,Tf()),Ef(t.children.get(r),e=ch(e),n)}}function Af(t,e){if(ph(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Wh,(function(e,n){Ef(t,new oh(e),n)})),Af(t,e)}if(t.children.size>0){var r=ah(e);if(e=ch(e),t.children.has(r))Af(t.children.get(r),e)&&t.children.delete(r);return 0===t.children.size}return!0}function Sf(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,(function(t,r){Sf(r,new oh(e.toString()+"/"+t),n)}))}var kf,Cf,xf=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Lu({},t);return this.last_&&Dl(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Nf=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new xf(t);var n=1e4+2e4*Math.random();Ul(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;Dl(e,(function(e,i){i>0&&pc(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Ul(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Cf=kf||(kf={}))[Cf.OVERWRITE=0]="OVERWRITE",Cf[Cf.MERGE=1]="MERGE",Cf[Cf.ACK_USER_WRITE=2]="ACK_USER_WRITE",Cf[Cf.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Pf,Df=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=kf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(ph(this.path)){if(null!=this.affectedTree.value)return Ku(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new oh(e));return new t(sh(),n,this.revert)}return Ku(ah(this.path)===e,"operationForChild called for unrelated child."),new t(ch(this.path),this.affectedTree,this.revert)},t}(),Of=function(){function t(t,e){this.source=t,this.path=e,this.type=kf.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return ph(this.path)?new t(this.source,sh()):new t(this.source,ch(this.path))},t}(),Lf=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=kf.OVERWRITE}return t.prototype.operationForChild=function(e){return ph(this.path)?new t(this.source,sh(),this.snap.getImmediateChild(e)):new t(this.source,ch(this.path),this.snap)},t}(),Mf=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=kf.MERGE}return t.prototype.operationForChild=function(e){if(ph(this.path)){var n=this.children.subtree(new oh(e));return n.isEmpty()?null:n.value?new Lf(this.source,sh(),n.value):new t(this.source,sh(),n)}return Ku(ah(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ch(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ff=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(ph(t))return this.isFullyInitialized()&&!this.filtered_;var e=ah(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Uf=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t,e,n,r,i,o){var s=r.filter((function(t){return t.type===n}));s.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Wu("Should only compare child_ events.");var r=new Sh(e.childName,e.snapshotNode),i=new Sh(n.childName,n.snapshotNode);return t.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e,n)})),s.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,o);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function qf(t,e){return{eventCache:t,serverCache:e}}function Vf(t,e,n,r){return qf(new Ff(e,n,r),t.serverCache)}function Bf(t,e,n,r){return qf(t.eventCache,new Ff(e,n,r))}function Kf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Wf(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hf=function(){function t(t,e){void 0===e&&(Pf||(Pf=new Dh(xl)),e=Pf),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return Dl(e,(function(t,e){n=n.set(new oh(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:sh(),value:this.value};if(ph(t))return null;var n=ah(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ch(t),e);return null!=i?{path:dh(new oh(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(ph(e))return this;var n=ah(e),r=this.children.get(n);return null!==r?r.subtree(ch(e)):new t(null)},t.prototype.set=function(e,n){if(ph(e))return new t(n,this.children);var r=ah(e),i=(this.children.get(r)||new t(null)).set(ch(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(ph(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ah(e),r=this.children.get(n);if(r){var i=r.remove(ch(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(ph(t))return this.value;var e=ah(t),n=this.children.get(e);return n?n.get(ch(t)):null},t.prototype.setTree=function(e,n){if(ph(e))return n;var r=ah(e),i=(this.children.get(r)||new t(null)).setTree(ch(e),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(sh(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(dh(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,sh(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(ph(t))return null;var i=ah(t),o=this.children.get(i);return o?o.findOnPath_(ch(t),dh(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,sh(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(ph(e))return this;this.value&&r(n,this.value);var i=ah(e),o=this.children.get(i);return o?o.foreachOnPath_(ch(e),dh(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(sh(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(dh(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),zf=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Hf(null))},t}();function Gf(t,e,n){if(ph(e))return new zf(new Hf(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=vh(i,e);return o=o.updateChild(s,n),new zf(t.writeTree_.set(i,o))}var a=new Hf(n),u=t.writeTree_.setTree(e,a);return new zf(u)}function Qf(t,e,n){var r=t;return Dl(n,(function(t,n){r=Gf(r,dh(e,t),n)})),r}function Yf(t,e){if(ph(e))return zf.empty();var n=t.writeTree_.setTree(e,new Hf(null));return new zf(n)}function $f(t,e){return null!=Xf(t,e)}function Xf(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(vh(n.path,e)):null}function Jf(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Wh,(function(t,n){e.push(new Sh(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Sh(t,n.value))})),e}function Zf(t,e){if(ph(e))return t;var n=Xf(t,e);return new zf(null!=n?new Hf(n):t.writeTree_.subtree(e))}function td(t){return t.writeTree_.isEmpty()}function ed(t,e){return nd(sh(),t.writeTree_,e)}function nd(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?(Ku(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=nd(dh(t,e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(dh(t,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(t,e){return gd(e,t)}function id(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));Ku(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,s=t.allWrites.length-1;i&&s>=0;){var a=t.allWrites[s];a.visible&&(s>=n&&od(a,r.path)?i=!1:yh(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return function(t){t.visibleWrites=ad(t.allWrites,sd,sh()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0;r.snap?t.visibleWrites=Yf(t.visibleWrites,r.path):Dl(r.children,(function(e){t.visibleWrites=Yf(t.visibleWrites,dh(r.path,e))}));return!0}return!1}function od(t,e){if(t.snap)return yh(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&yh(dh(t.path,n),e))return!0;return!1}function sd(t){return t.visible}function ad(t,e,n){for(var r=zf.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)yh(n,s)?r=Gf(r,a=vh(n,s),o.snap):yh(s,n)&&(a=vh(s,n),r=Gf(r,sh(),o.snap.getChild(a)));else{if(!o.children)throw Wu("WriteRecord should have .snap or .children");if(yh(n,s))r=Qf(r,a=vh(n,s),o.children);else if(yh(s,n))if(ph(a=vh(s,n)))r=Qf(r,sh(),o.children);else{var u=vc(o.children,ah(a));if(u){var c=u.getChild(ch(a));r=Gf(r,sh(),c)}}}}}return r}function ud(t,e,n,r,i){if(r||i){var o=Zf(t.visibleWrites,e);if(!i&&td(o))return n;if(i||null!=n||$f(o,sh())){return ed(ad(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(yh(t.path,e)||yh(e,t.path))}),e),n||$h.EMPTY_NODE)}return null}var s=Xf(t.visibleWrites,e);if(null!=s)return s;var a=Zf(t.visibleWrites,e);return td(a)?n:null!=n||$f(a,sh())?ed(a,n||$h.EMPTY_NODE):null}function cd(t,e,n,r){return ud(t.writeTree,t.treePath,e,n,r)}function ld(t,e){return function(t,e,n){var r=$h.EMPTY_NODE,i=Xf(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Wh,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=Zf(t.visibleWrites,e);return n.forEachChild(Wh,(function(t,e){var n=ed(Zf(o,new oh(t)),e);r=r.updateImmediateChild(t,n)})),Jf(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return Jf(Zf(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function hd(t,e,n,r){return function(t,e,n,r,i){Ku(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=dh(e,n);if($f(t.visibleWrites,o))return null;var s=Zf(t.visibleWrites,o);return td(s)?i.getChild(n):ed(s,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function fd(t,e){return function(t,e){return Xf(t.visibleWrites,e)}(t.writeTree,dh(t.treePath,e))}function dd(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,u=Zf(t.visibleWrites,e),c=Xf(u,sh());if(null!=c)a=c;else{if(null==n)return[];a=ed(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(t.writeTree,t.treePath,e,n,r,i,o)}function pd(t,e,n){return function(t,e,n,r){var i=dh(e,n),o=Xf(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ed(Zf(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function vd(t,e){return gd(dh(t.treePath,e),t.writeTree)}function gd(t,e){return{treePath:t,writeTree:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var md=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Ku("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Ku(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,hf(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,lf(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,cf(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Wu("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,hf(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),yd=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),bd=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ff(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pd(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wf(this.viewCache_),i=dd(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t,e,n,r,i){var o,s,a=new md;if(n.type===kf.OVERWRITE){var u=n;u.source.fromUser?o=Td(t,e,u.path,u.snap,r,i,a):(Ku(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.serverCache.isFiltered()&&!ph(u.path),o=Id(t,e,u.path,u.snap,r,i,s,a))}else if(n.type===kf.MERGE){var c=n;c.source.fromUser?o=function(t,e,n,r,i,o,s){var a=e;return r.foreach((function(r,u){var c=dh(n,r);Ed(e,ah(c))&&(a=Td(t,a,c,u,i,o,s))})),r.foreach((function(r,u){var c=dh(n,r);Ed(e,ah(c))||(a=Td(t,a,c,u,i,o,s))})),a}(t,e,c.path,c.children,r,i,a):(Ku(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered(),o=Sd(t,e,c.path,c.children,r,i,s,a))}else if(n.type===kf.ACK_USER_WRITE){var l=n;o=l.revert?function(t,e,n,r,i,o){var s;if(null!=fd(r,n))return e;var a=new bd(r,e,i),u=e.eventCache.getNode(),c=void 0;if(ph(n)||".priority"===ah(n)){var l=void 0;if(e.serverCache.isFullyInitialized())l=cd(r,Wf(e));else{var h=e.serverCache.getNode();Ku(h instanceof $h,"serverChildren would be complete if leaf node"),l=ld(r,h)}l=l,c=t.filter.updateFullNode(u,l,o)}else{var f=ah(n),d=pd(r,f,e.serverCache);null==d&&e.serverCache.isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?t.filter.updateChild(u,f,d,ch(n),a,o):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(u,f,$h.EMPTY_NODE,ch(n),a,o):u).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=cd(r,Wf(e))).isLeafNode()&&(c=t.filter.updateFullNode(c,s,o))}return s=e.serverCache.isFullyInitialized()||null!=fd(r,sh()),Vf(e,c,s,t.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e,l.path,r,i,a):function(t,e,n,r,i,o,s){if(null!=fd(i,n))return e;var a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(ph(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Id(t,e,n,u.getNode().getChild(n),i,o,a,s);if(ph(n)){var c=new Hf(null);return u.getNode().forEachChild(xh,(function(t,e){c=c.set(new oh(t),e)})),Sd(t,e,n,c,i,o,a,s)}return e}var l=new Hf(null);return r.foreach((function(t,e){var r=dh(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))})),Sd(t,e,n,l,i,o,a,s)}(t,e,l.path,l.affectedTree,r,i,a)}else{if(n.type!==kf.LISTEN_COMPLETE)throw Wu("Unknown operation type: "+n.type);o=function(t,e,n,r,i){var o=e.serverCache,s=Bf(e,o.getNode(),o.isFullyInitialized()||ph(n),o.isFiltered());return _d(t,s,n,r,yd,i)}(t,e,n.path,r,a)}var h=a.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Kf(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(uf(Kf(e)))}}(e,o,h),{viewCache:o,changes:h}}function _d(t,e,n,r,i,o){var s=e.eventCache;if(null!=fd(r,n))return e;var a=void 0,u=void 0;if(ph(n))if(Ku(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var c=Wf(e),l=ld(r,c instanceof $h?c:$h.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{var h=cd(r,Wf(e));a=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{var f=ah(n);if(".priority"===f){Ku(1===uh(n),"Can't have a priority with additional path components");var d=s.getNode(),p=hd(r,n,d,u=e.serverCache.getNode());a=null!=p?t.filter.updatePriority(d,p):s.getNode()}else{var v=ch(n),g=void 0;if(s.isCompleteForChild(f)){u=e.serverCache.getNode();var m=hd(r,n,s.getNode(),u);g=null!=m?s.getNode().getImmediateChild(f).updateChild(v,m):s.getNode().getImmediateChild(f)}else g=pd(r,f,e.serverCache);a=null!=g?t.filter.updateChild(s.getNode(),f,g,v,i,o):s.getNode()}}return Vf(e,a,s.isFullyInitialized()||ph(n),t.filter.filtersNodes())}function Id(t,e,n,r,i,o,s,a){var u,c=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(ph(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=ah(n);if(!c.isCompleteForPath(n)&&uh(n)>1)return e;var d=ch(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,yd,null)}var v=Bf(e,u,c.isFullyInitialized()||ph(n),l.filtersNodes());return _d(t,v,n,i,new bd(i,v,o),a)}function Td(t,e,n,r,i,o,s){var a,u,c=e.eventCache,l=new bd(i,e,o);if(ph(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=Vf(e,u,!0,t.filter.filtersNodes());else{var h=ah(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),a=Vf(e,u,c.isFullyInitialized(),c.isFiltered());else{var f=ch(n),d=c.getNode().getImmediateChild(h),p=void 0;if(ph(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===lh(f)&&v.getChild(fh(f)).isEmpty()?v:v.updateChild(f,r):$h.EMPTY_NODE}if(d.equals(p))a=e;else a=Vf(e,t.filter.updateChild(c.getNode(),h,p,f,l,s),c.isFullyInitialized(),t.filter.filtersNodes())}}return a}function Ed(t,e){return t.eventCache.isCompleteForChild(e)}function Ad(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function Sd(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=ph(n)?r:new Hf(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Ad(0,e.serverCache.getNode().getImmediateChild(n),r);c=Id(t,c,new oh(n),u,i,o,s,a)}})),u.children.inorderTraversal((function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Ad(0,e.serverCache.getNode().getImmediateChild(n),r);c=Id(t,c,new oh(n),h,i,o,s,a)}})),c}var kd,Cd=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new ff(r.getIndex()),o=(n=r).loadsAllData()?new ff(n.getIndex()):n.hasLimit()?new pf(n):new df(n);this.processor_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,u=i.updateFullNode($h.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode($h.EMPTY_NODE,a.getNode(),null),l=new Ff(u,s.isFullyInitialized(),i.filtersNodes()),h=new Ff(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=qf(h,l),this.eventGenerator_=new Uf(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function xd(t,e){var n=Wf(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ph(e)&&!n.getImmediateChild(ah(e)).isEmpty())?n.getChild(e):null}function Nd(t){return 0===t.eventRegistrations_.length}function Rd(t,e,n){var r=[];if(n){Ku(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)}))}if(e){for(var o=[],s=0;s<t.eventRegistrations_.length;++s){var a=t.eventRegistrations_[s];if(a.matches(e)){if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(s+1));break}}else o.push(a)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function Pd(t,e,n,r){e.type===kf.MERGE&&null!==e.source.queryId&&(Ku(Wf(t.viewCache_),"We should always have a full cache before handling merges"),Ku(Kf(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,s=t.viewCache_,a=wd(t.processor_,s,e,n,r);return i=t.processor_,o=a.viewCache,Ku(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Ku(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Ku(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,Dd(t,a.changes,a.viewCache.eventCache.getNode(),null)}function Dd(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))})),jf(t,i,"child_removed",e,r,n),jf(t,i,"child_added",e,r,n),jf(t,i,"child_moved",o,r,n),jf(t,i,"child_changed",e,r,n),jf(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Od,Ld=function(){this.views=new Map};function Md(t,e,n,r){var i,o,s=e.source.queryId;if(null!==s){var a=t.views.get(s);return Ku(null!=a,"SyncTree gave us an op for an invalid query."),Pd(a,e,n,r)}var u=[];try{for(var c=Uu(t.views.values()),l=c.next();!l.done;l=c.next()){a=l.value;u=u.concat(Pd(a,e,n,r))}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}function Fd(t,e,n,r,i){var o=e._queryIdentifier,s=t.views.get(o);if(!s){var a=cd(n,i?r:null),u=!1;a?u=!0:r instanceof $h?(a=ld(n,r),u=!1):(a=$h.EMPTY_NODE,u=!1);var c=qf(new Ff(a,u,!1),new Ff(r,i,!1));return new Cd(e,c)}return s}function Ud(t,e,n,r,i,o){var s=Fd(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Wh,(function(t,e){r.push(cf(t,e))})),n.isFullyInitialized()&&r.push(uf(n.getNode())),Dd(t,r,n.getNode(),e)}(s,n)}function jd(t,e,n,r){var i,o,s=e._queryIdentifier,a=[],u=[],c=Wd(t);if("default"===s)try{for(var l=Uu(t.views.entries()),h=l.next();!h.done;h=l.next()){var f=ju(h.value,2),d=f[0],p=f[1];u=u.concat(Rd(p,n,r)),Nd(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||a.push(p.query))}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(p=t.views.get(s))&&(u=u.concat(Rd(p,n,r)),Nd(p)&&(t.views.delete(s),p.query._queryParams.loadsAllData()||a.push(p.query)));return c&&!Wd(t)&&a.push(new(Ku(kd,"Reference.ts has not been loaded"),kd)(e._repo,e._path)),{removed:a,events:u}}function qd(t){var e,n,r=[];try{for(var i=Uu(t.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Vd(t,e){var n,r,i=null;try{for(var o=Uu(t.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i||xd(a,e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Bd(t,e){if(e._queryParams.loadsAllData())return Hd(t);var n=e._queryIdentifier;return t.views.get(n)}function Kd(t,e){return null!=Bd(t,e)}function Wd(t){return null!=Hd(t)}function Hd(t){var e,n;try{for(var r=Uu(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zd=1,Gd=function(t){this.listenProvider_=t,this.syncPointTree_=new Hf(null),this.pendingWriteTree_={visibleWrites:zf.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Qd(t,e,n,r,i){return function(t,e,n,r,i){Ku(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Gf(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?np(t,new Lf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Yd(t,e,n,r){!function(t,e,n,r){Ku(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Qf(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=Hf.fromObject(n);return np(t,new Mf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}function $d(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(id(t.pendingWriteTree_,e)){var i=new Hf(null);return null!=r.snap?i=i.set(sh(),!0):Dl(r.children,(function(t){i=i.set(new oh(t),!0)})),np(t,new Df(r.path,i,n))}return[]}function Xd(t,e,n){return np(t,new Lf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Jd(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),s=[];if(o&&("default"===e._queryIdentifier||Kd(o,e))){var a=jd(o,e,n,r);0===o.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=a.removed;s=a.events;var c=-1!==u.findIndex((function(t){return t._queryParams.loadsAllData()})),l=t.syncPointTree_.findOnPath(i,(function(t,e){return Wd(e)}));if(c&&!l){var h=t.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(t){return t.fold((function(t,e,n){if(e&&Wd(e))return[Hd(e)];var r=[];return e&&(r=qd(e)),Dl(n,(function(t,e){r=r.concat(e)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,g=op(t,p);t.listenProvider_.startListening(hp(v),sp(t,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){t.listenProvider_.stopListening(hp(e),null)}else u.forEach((function(e){var n=t.queryToTagMap.get(ap(e));t.listenProvider_.stopListening(hp(e),n)}));!function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=ap(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return s}function Zd(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=vh(t,r);i=i||Vd(e,n),o=o||Wd(e)}));var s,a=t.syncPointTree_.get(r);(a?(o=o||Wd(a),i=i||Vd(a,sh())):(a=new Ld,t.syncPointTree_=t.syncPointTree_.set(r,a)),null!=i)?s=!0:(s=!1,i=$h.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=Vd(e,sh());n&&(i=i.updateImmediateChild(t,n))})));var u=Kd(a,e);if(!u&&!e._queryParams.loadsAllData()){var c=ap(e);Ku(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=zd++;t.queryToTagMap.set(c,l),t.tagToQueryMap.set(l,c)}var h=Ud(a,e,n,rd(t.pendingWriteTree_,r),i,s);if(!u&&!o){var f=Bd(a,e);h=h.concat(function(t,e,n){var r=e._path,i=sp(t,e),o=op(t,n),s=t.listenProvider_.startListening(hp(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)Ku(!Wd(a.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold((function(t,e,n){if(!ph(t)&&e&&Wd(e))return[Hd(e).query];var r=[];return e&&(r=r.concat(qd(e).map((function(t){return t.query})))),Dl(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var l=u[c];t.listenProvider_.stopListening(hp(l),sp(t,l))}return s}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e,f))}return h}function tp(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=Vd(n,vh(t,e));if(r)return r}));return ud(r,e,i,n,!0)}function ep(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=vh(t,n);r=r||Vd(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Vd(i,sh()):(i=new Ld,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new Ff(r,!0,!1):null;return function(t){return Kf(t.viewCache_)}(Fd(i,e,rd(t.pendingWriteTree_,e._path),o?s.getNode():$h.EMPTY_NODE,o))}function np(t,e){return rp(e,t.syncPointTree_,null,rd(t.pendingWriteTree_,sh()))}function rp(t,e,n,r){if(ph(t.path))return ip(t,e,n,r);var i=e.get(sh());null==n&&null!=i&&(n=Vd(i,sh()));var o=[],s=ah(t.path),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=vd(r,s);o=o.concat(rp(a,u,c,l))}return i&&(o=o.concat(Md(i,t,r,n))),o}function ip(t,e,n,r){var i=e.get(sh());null==n&&null!=i&&(n=Vd(i,sh()));var o=[];return e.children.inorderTraversal((function(e,i){var s=n?n.getImmediateChild(e):null,a=vd(r,e),u=t.operationForChild(e);u&&(o=o.concat(ip(u,i,s,a)))})),i&&(o=o.concat(Md(i,t,r,n))),o}function op(t,e){var n=e.query,r=sp(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||$h.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=up(t,n);if(r){var i=cp(r),o=i.path,s=i.queryId,a=vh(o,e);return lp(t,o,new Of(Rf(s),a))}return[]}(t,n._path,r):function(t,e){return np(t,new Of({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Jd(t,n,null,i)}}}function sp(t,e){var n=ap(e);return t.queryToTagMap.get(n)}function ap(t){return t._path.toString()+"$"+t._queryIdentifier}function up(t,e){return t.tagToQueryMap.get(e)}function cp(t){var e=t.indexOf("$");return Ku(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new oh(t.substr(0,e))}}function lp(t,e,n){var r=t.syncPointTree_.get(e);return Ku(r,"Missing sync point for query tag that we're tracking"),Md(r,n,rd(t.pendingWriteTree_,e),null)}function hp(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Ku(Od,"Reference.ts has not been loaded"),Od)(t._repo,t._path):t}var fp=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),dp=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=dh(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return tp(this.syncTree_,this.path_)},t}(),pp=function(t,e,n){return t&&"object"==typeof t?(Ku(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?vp(t[".sv"],e,n):"object"==typeof t[".sv"]?gp(t[".sv"],e):void Ku(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},vp=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ku(!1,"Unexpected server value: "+t)}},gp=function(t,e,n){t.hasOwnProperty("increment")||Ku(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Ku(!1,"Unexpected increment value: "+r);var i=e.node();if(Ku(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},mp=function(t,e,n,r){return bp(e,new dp(n,t),r)},yp=function(t,e,n){return bp(t,new fp(e),n)};function bp(t,e,n){var r,i=t.getPriority().val(),o=pp(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=pp(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Vh(a,Jh(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Vh(o))),u.forEachChild(Wh,(function(t,i){var o=bp(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wp=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function _p(t,e){for(var n=e instanceof oh?e:new oh(e),r=t,i=ah(n);null!==i;){var o=vc(r.node.children,i)||{children:{},childCount:0};r=new wp(i,r,o),i=ah(n=ch(n))}return r}function Ip(t){return t.node.value}function Tp(t,e){t.node.value=e,Cp(t)}function Ep(t){return t.node.childCount>0}function Ap(t,e){Dl(t.node.children,(function(n,r){e(new wp(n,t,r))}))}function Sp(t,e,n,r){n&&!r&&e(t),Ap(t,(function(t){Sp(t,e,!0,r)})),n&&r&&e(t)}function kp(t){return new oh(null===t.parent?t.name:kp(t.parent)+"/"+t.name)}function Cp(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===Ip(t)&&!Ep(t)}(n),i=pc(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Cp(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Cp(t))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.parent,t.name,t)}var xp=/[\[\].#$\/\u0000-\u001F\u007F]/,Np=/[\[\].#$\u0000-\u001F\u007F]/,Rp=function(t){return"string"==typeof t&&0!==t.length&&!xp.test(t)},Pp=function(t){return"string"==typeof t&&0!==t.length&&!Np.test(t)},Dp=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Al(t)||t&&"object"==typeof t&&pc(t,".sv")},Op=function(t,e,n,r){r&&void 0===e||Lp(Tc(t,"value"),e,n)},Lp=function(t,e,n){var r=n instanceof oh?new bh(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+_h(r));if("function"==typeof e)throw new Error(t+"contains a function "+_h(r)+" with contents = "+e.toString());if(Al(e))throw new Error(t+"contains "+e.toString()+" "+_h(r));if("string"==typeof e&&e.length>10485760/3&&Sc(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+_h(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(Dl(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!Rp(e)))throw new Error(t+" contains an invalid key ("+e+") "+_h(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,a;a=e,(s=r).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(a),s.byteLength_+=Sc(a),wh(s),Lp(t,n,r),function(t){var e=t.parts_.pop();t.byteLength_-=Sc(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)})),i&&o)throw new Error(t+' contains ".value" child '+_h(r)+" in addition to actual children.")}},Mp=function(t,e,n,r){if(!r||void 0!==e){var i=Tc(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];Dl(e,(function(t,e){var r=new oh(t);if(Lp(i,e,dh(n,r)),".priority"===lh(r)&&!Dp(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=hh(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Rp(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(gh);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&yh(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(i,o)}},Fp=function(t,e,n){if(!n||void 0!==e){if(Al(e))throw new Error(Tc(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Dp(e))throw new Error(Tc(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Up=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Tc(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},jp=function(t,e,n,r){if(!(r&&void 0===n||Rp(n)))throw new Error(Tc(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},qp=function(t,e,n,r){if(!(r&&void 0===n||Pp(n)))throw new Error(Tc(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vp=function(t,e){if(".info"===ah(e))throw new Error(t+" failed = Can't modify data under /.info/")},Bp=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Rp(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Pp(t)}(n))throw new Error(Tc(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Kp=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Tc(t,e)+"must be a boolean.")},Wp=function(){this.eventLists_=[],this.recursionDepth_=0};function Hp(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||mh(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function zp(t,e,n){Hp(t,n),Qp(t,(function(t){return mh(t,e)}))}function Gp(t,e,n){Hp(t,n),Qp(t,(function(t){return yh(t,e)||yh(e,t)}))}function Qp(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i)e(i.path)?(Yp(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}n&&(t.eventLists_=[]),t.recursionDepth_--}function Yp(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();ml&&wl("event: "+n.toString()),Fl(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $p=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tf(),this.transactionQueueTree_=new wp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Xp(t,e,n){if(t.stats_=Ql(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new _f(t.repoInfo_,(function(e,n,r,i){tv(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return ev(t,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fc(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}t.persistentConnection_=new Ah(t.repoInfo_,e,(function(e,n,r,i){tv(t,e,n,r,i)}),(function(e){ev(t,e)}),(function(e){!function(t,e){Dl(e,(function(e,n){nv(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,i,o;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=(r=t.repoInfo_,i=function(){return new Nf(t.stats_,t.server_)},o=r.toString(),Gl[o]||(Gl[o]=i()),Gl[o]),t.infoData_=new If,t.infoSyncTree_=new Gd({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Xd(t.infoSyncTree_,e._path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),nv(t,"connected",!1),t.serverSyncTree_=new Gd({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Gp(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function Jp(t){var e=t.infoData_.getNode(new oh(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Zp(t){return(e=(e={timestamp:Jp(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function tv(t,e,n,r,i){t.dataUpdateCount++;var o=new oh(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(i)if(r){var a=mc(n,(function(t){return Jh(t)}));s=function(t,e,n,r){var i=up(t,r);if(i){var o=cp(i),s=o.path,a=o.queryId,u=vh(s,e),c=Hf.fromObject(n);return lp(t,s,new Mf(Rf(a),u,c))}return[]}(t.serverSyncTree_,o,a,i)}else{var u=Jh(n);s=function(t,e,n,r){var i=up(t,r);if(null!=i){var o=cp(i),s=o.path,a=o.queryId,u=vh(s,e);return lp(t,s,new Lf(Rf(a),u,n))}return[]}(t.serverSyncTree_,o,u,i)}else if(r){var c=mc(n,(function(t){return Jh(t)}));s=function(t,e,n){var r=Hf.fromObject(n);return np(t,new Mf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,c)}else{var l=Jh(n);s=Xd(t.serverSyncTree_,o,l)}var h=o;s.length>0&&(h=dv(t,o)),Gp(t.eventQueue_,h,s)}function ev(t,e){nv(t,"connected",e),!1===e&&function(t){cv(t,"onDisconnectEvents");var e=Zp(t),n=Tf();Sf(t.onDisconnect_,sh(),(function(r,i){var o=mp(r,i,t.serverSyncTree_,e);Ef(n,r,o)}));var r=[];Sf(n,sh(),(function(e,n){r=r.concat(Xd(t.serverSyncTree_,e,n));var i=yv(t,e);dv(t,i)})),t.onDisconnect_=Tf(),Gp(t.eventQueue_,sh(),r)}(t)}function nv(t,e,n){var r=new oh("/.info/"+e),i=Jh(n);t.infoData_.updateSnapshot(r,i);var o=Xd(t.infoSyncTree_,r,i);Gp(t.eventQueue_,r,o)}function rv(t){return t.nextWriteId_++}function iv(t,e,n,r,i){cv(t,"set",{path:e.toString(),value:n,priority:r});var o=Zp(t),s=Jh(n,r),a=tp(t.serverSyncTree_,e),u=yp(s,a,o),c=rv(t),l=Qd(t.serverSyncTree_,e,u,c,!0);Hp(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||El("set at "+e+" failed: "+n);var s=$d(t.serverSyncTree_,c,!o);Gp(t.eventQueue_,e,s),lv(t,i,n,r)}));var h=yv(t,e);dv(t,h),Gp(t.eventQueue_,h,[])}function ov(t,e,n){t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&Af(t.onDisconnect_,e),lv(t,n,r,i)}))}function sv(t,e,n,r){var i=Jh(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&Ef(t.onDisconnect_,e,i),lv(t,r,n,o)}))}function av(t,e,n){var r;r=".info"===ah(e._path)?Jd(t.infoSyncTree_,e,n):Jd(t.serverSyncTree_,e,n),zp(t.eventQueue_,e._path,r)}function uv(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function cv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),wl.apply(void 0,qu([r],ju(e)))}function lv(t,e,n,r){e&&Fl((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function hv(t,e,n){return tp(t.serverSyncTree_,e,n)||$h.EMPTY_NODE}function fv(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||mv(t,e),Ip(e)){var n=vv(t,e);Ku(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),i=hv(t,e,r),o=i,s=i.hash(),a=0;a<n.length;a++){var u=n[a];Ku(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=vh(e,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=e;t.server_.put(h.toString(),l,(function(r){cv(t,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat($d(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},a=0;a<n.length;a++)s(a);mv(t,_p(t.transactionQueueTree_,e)),fv(t,t.transactionQueueTree_),Gp(t.eventQueue_,e,i);for(a=0;a<o.length;a++)Fl(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else{El("transaction at "+h.toString()+" failed: "+r);for(a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r}dv(t,e)}}),s)}(t,kp(e),n)}else Ep(e)&&Ap(e,(function(e){fv(t,e)}))}function dv(t,e){var n=pv(t,e),r=kp(n);return function(t,e,n){if(0===e.length)return;for(var r=[],i=[],o=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),s=function(s){var a,u,c=e[s],l=vh(n,c.path),h=!1;if(Ku(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,a=c.abortReason,i=i.concat($d(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,a="maxretry",i=i.concat($d(t.serverSyncTree_,c.currentWriteId,!0));else{var f=hv(t,c.path,o);c.currentInputSnapshot=f;var d=e[s].update(f.val());if(void 0!==d){Lp("transaction failed: Data returned ",d,c.path);var p=Jh(d);"object"==typeof d&&null!=d&&pc(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,g=Zp(t),m=yp(p,f,g);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=m,c.currentWriteId=rv(t),o.splice(o.indexOf(v),1),i=(i=i.concat(Qd(t.serverSyncTree_,c.path,m,c.currentWriteId,c.applyLocally))).concat($d(t.serverSyncTree_,v,!0))}else h=!0,a="nodata",i=i.concat($d(t.serverSyncTree_,c.currentWriteId,!0))}Gp(t.eventQueue_,n,i),i=[],h&&(e[s].status=2,u=e[s].unwatcher,setTimeout(u,Math.floor(0)),e[s].onComplete&&("nodata"===a?r.push((function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)})):r.push((function(){return e[s].onComplete(new Error(a),!1,null)}))))},a=0;a<e.length;a++)s(a);mv(t,t.transactionQueueTree_);for(a=0;a<r.length;a++)Fl(r[a]);fv(t,t.transactionQueueTree_)}(t,vv(t,n),r),r}function pv(t,e){var n,r=t.transactionQueueTree_;for(n=ah(e);null!==n&&void 0===Ip(r);)r=_p(r,n),n=ah(e=ch(e));return r}function vv(t,e){var n=[];return gv(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function gv(t,e,n){var r=Ip(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Ap(e,(function(e){gv(t,e,n)}))}function mv(t,e){var n=Ip(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Tp(e,n.length>0?n:void 0)}Ap(e,(function(e){mv(t,e)}))}function yv(t,e){var n=kp(pv(t,e)),r=_p(t.transactionQueueTree_,e);return function(t,e,n){for(var r=n?t:t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){bv(t,e)})),bv(t,r),Sp(r,(function(e){bv(t,e)})),n}function bv(t,e){var n=Ip(e);if(n){for(var r=[],i=[],o=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Ku(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(Ku(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat($d(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Tp(e,void 0):n.length=o+1,Gp(t.eventQueue_,kp(e),i);for(s=0;s<r.length;s++)Fl(r[s])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wv=function(t,e){var n=_v(t),r=n.namespace;"firebase.com"===n.domain&&Tl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Tl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&El("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Kl(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new oh(n.pathString)}},_v=function(t){var e="",n="",r="",i="",o="",s=!0,a="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));var l=t.indexOf("/");-1===l&&(l=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(l,h)),l<h&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(l,h)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Uu(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var a=s.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):El("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,h)));(c=e.indexOf(":"))>=0?(s="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;var d=e.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Iv=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+fc(this.snapshot.exportVal())},t}(),Tv=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Ev=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Ku(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Av=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new $u;return ov(this._repo,this._path,t.wrapCallback((function(){}))),t.promise},t.prototype.remove=function(){Vp("OnDisconnect.remove",this._path);var t=new $u;return sv(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){Vp("OnDisconnect.set",this._path),Op("OnDisconnect.set",t,this._path,!1);var e=new $u;return sv(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){Vp("OnDisconnect.setWithPriority",this._path),Op("OnDisconnect.setWithPriority",t,this._path,!1),Fp("OnDisconnect.setWithPriority",e,!1);var n=new $u;return function(t,e,n,r,i){var o=Jh(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&Ef(t.onDisconnect_,e,o),lv(0,i,n,r)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){Vp("OnDisconnect.update",this._path),Mp("OnDisconnect.update",t,this._path,!1);var e=new $u;return function(t,e,n,r){if(gc(n))return wl("onDisconnect().update() called with empty data.  Don't do anything."),void lv(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&Dl(n,(function(n,r){var i=Jh(r);Ef(t.onDisconnect_,dh(e,n),i)})),lv(0,r,i,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),Sv=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return ph(this._path)?null:lh(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Nv(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=wf(this._queryParams),e=Rl(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return wf(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Cc(e))instanceof t))return!1;var n=this._repo===e._repo,r=mh(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function kv(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Cv(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===xh){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Sl)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==kl)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Wh){if(null!=e&&!Dp(e)||null!=n&&!Dp(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ku(t.getIndex()instanceof ef||t.getIndex()===nf,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function xv(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Nv=function(t){function e(e,n){return t.call(this,e,n,new vf,!1)||this}return Ou(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=fh(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Sv),Rv=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new oh(e),r=Ov(this.ref,e);return new t(this._node.getChild(n),r,Wh)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return e(new t(i,Ov(n.ref,r),Wh))}))},t.prototype.hasChild=function(t){var e=new oh(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Pv(t,e){return(t=Cc(t))._checkNotDeleted("ref"),void 0!==e?Ov(t._root,e):t._root}function Dv(t,e){(t=Cc(t))._checkNotDeleted("refFromURL");var n=wv(e,t._repo.repoInfo_.nodeAdmin);Bp("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||Tl("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Pv(t,n.path.toString())}function Ov(t,e){var n,r,i,o;return null===ah((t=Cc(t))._path)?(n="child",r="path",o=!1,(i=e)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),qp(n,r,i,o)):qp("child","path",e,!1),new Nv(t._repo,dh(t._path,e))}function Lv(t,e){t=Cc(t),Vp("push",t._path),Op("push",e,t._path,!0);var n,r=Jp(t._repo),i=of(r),o=Ov(t,i),s=Ov(t,i);return n=null!=e?Fv(s,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function Mv(t){return Vp("remove",t._path),Fv(t,null)}function Fv(t,e){t=Cc(t),Vp("set",t._path),Op("set",e,t._path,!1);var n=new $u;return iv(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function Uv(t,e){t=Cc(t),Vp("setPriority",t._path),Fp("setPriority",e,!1);var n=new $u;return iv(t._repo,dh(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function jv(t,e,n){if(Vp("setWithPriority",t._path),Op("setWithPriority",e,t._path,!1),Fp("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new $u;return iv(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function qv(t,e){Mp("update",e,t._path,!1);var n=new $u;return function(t,e,n,r){cv(t,"update",{path:e.toString(),value:n});var i=!0,o=Zp(t),s={};if(Dl(n,(function(n,r){i=!1,s[n]=mp(dh(e,n),Jh(r),t.serverSyncTree_,o)})),i)wl("update() called with empty data.  Don't do anything."),lv(0,r,"ok",void 0);else{var a=rv(t),u=Yd(t.serverSyncTree_,e,s,a);Hp(t.eventQueue_,u),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||El("update at "+e+" failed: "+n);var s=$d(t.serverSyncTree_,a,!o),u=s.length>0?dv(t,e):e;Gp(t.eventQueue_,u,s),lv(0,r,n,i)})),Dl(n,(function(n){var r=yv(t,dh(e,n));dv(t,r)})),Gp(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}function Vv(t){return function(t,e){var n=ep(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=Jh(n).withIndex(e._queryParams.getIndex()),i=Xd(t.serverSyncTree_,e._path,r);return zp(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return cv(t,"get for query "+fc(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=Cc(t))._repo,t).then((function(e){return new Rv(e,new Nv(t._repo,t._path),t._queryParams.getIndex())}))}var Bv=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Iv("value",this,new Rv(t.snapshotNode,new Nv(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Tv(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Kv=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Tv(this,t,e):null},t.prototype.createEvent=function(t,e){Ku(null!=t.childName,"Child events should have a childName.");var n=Ov(new Nv(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Iv(t.type,this,new Rv(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Wv(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){av(t._repo,t,c),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var u=new Ev(n,o||void 0),c="value"===e?new Bv(u):new Kv(e,u);return function(t,e,n){var r;r=".info"===ah(e._path)?Zd(t.infoSyncTree_,e,n):Zd(t.serverSyncTree_,e,n),zp(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return av(t._repo,t,c)}}function Hv(t,e,n,r){return Wv(t,"value",e,n,r)}function zv(t,e,n,r){return Wv(t,"child_added",e,n,r)}function Gv(t,e,n,r){return Wv(t,"child_changed",e,n,r)}function Qv(t,e,n,r){return Wv(t,"child_moved",e,n,r)}function Yv(t,e,n,r){return Wv(t,"child_removed",e,n,r)}function $v(t,e,n){var r=null,i=n?new Ev(n):null;"value"===e?r=new Bv(i):e&&(r=new Kv(e,i)),av(t._repo,t,r)}var Xv=function(){},Jv=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Ou(e,t),e.prototype._apply=function(t){Op("endAt",this._value,t._path,!0);var e=mf(t._queryParams,this._value,this._key);if(xv(e),Cv(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Sv(t._repo,t._path,e,t._orderByCalled)},e}(Xv);function Zv(t,e){return jp("endAt","key",e,!0),new Jv(t,e)}var tg=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Ou(e,t),e.prototype._apply=function(t){Op("endBefore",this._value,t._path,!1);var e,n,r,i,o=(e=t._queryParams,n=this._value,r=this._key,e.index_===xh?("string"==typeof n&&(n=af(n)),i=mf(e,n,r)):i=mf(e,n,null==r?Sl:af(r)),i.endBeforeSet_=!0,i);if(xv(o),Cv(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Sv(t._repo,t._path,o,t._orderByCalled)},e}(Xv);function eg(t,e){return jp("endBefore","key",e,!0),new tg(t,e)}var ng=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Ou(e,t),e.prototype._apply=function(t){Op("startAt",this._value,t._path,!0);var e=gf(t._queryParams,this._value,this._key);if(xv(e),Cv(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Sv(t._repo,t._path,e,t._orderByCalled)},e}(Xv);function rg(t,e){return void 0===t&&(t=null),jp("startAt","key",e,!0),new ng(t,e)}var ig=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Ou(e,t),e.prototype._apply=function(t){Op("startAfter",this._value,t._path,!1);var e=function(t,e,n){var r;t.index_===xh?("string"==typeof e&&(e=sf(e)),r=gf(t,e,n)):r=gf(t,e,null==n?kl:sf(n));return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(xv(e),Cv(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Sv(t._repo,t._path,e,t._orderByCalled)},e}(Xv);function og(t,e){return jp("startAfter","key",e,!0),new ig(t,e)}var sg=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Ou(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Sv(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),t._orderByCalled);var e,n,r},e}(Xv);function ag(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new sg(t)}var ug=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Ou(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Sv(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),t._orderByCalled);var e,n,r},e}(Xv);function cg(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ug(t)}var lg=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Ou(e,t),e.prototype._apply=function(t){kv(t,"orderByChild");var e=new oh(this._path);if(ph(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ef(e),r=yf(t._queryParams,n);return Cv(r),new Sv(t._repo,t._path,r,!0)},e}(Xv);function hg(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qp("orderByChild","path",t,!1),new lg(t)}var fg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype._apply=function(t){kv(t,"orderByKey");var e=yf(t._queryParams,xh);return Cv(e),new Sv(t._repo,t._path,e,!0)},e}(Xv);function dg(){return new fg}var pg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype._apply=function(t){kv(t,"orderByPriority");var e=yf(t._queryParams,Wh);return Cv(e),new Sv(t._repo,t._path,e,!0)},e}(Xv);function vg(){return new pg}var gg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype._apply=function(t){kv(t,"orderByValue");var e=yf(t._queryParams,nf);return Cv(e),new Sv(t._repo,t._path,e,!0)},e}(Xv);function mg(){return new gg}var yg=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Ou(e,t),e.prototype._apply=function(t){if(Op("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Jv(this._value,this._key)._apply(new ng(this._value,this._key)._apply(t))},e}(Xv);function bg(t,e){return jp("equalTo","key",e,!0),new yg(t,e)}function wg(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Cc(t);try{for(var s=Uu(r),a=s.next();!a.done;a=s.next()){var u=a.value;o=u._apply(o)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o}!function(t){Ku(!kd,"__referenceConstructor has already been defined"),kd=t}(Nv),function(t){Ku(!Od,"__referenceConstructor has already been defined"),Od=t}(Nv);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _g={},Ig=!1;function Tg(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||Tl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wl("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=wv(o,i),u=a.repoInfo,c=void 0;"undefined"!=typeof process&&(c={NODE_ENV:"production"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,o="http://"+c+"?ns="+u.namespace,u=(a=wv(o,i)).repoInfo):s=!a.repoInfo.secure;var l=i&&s?new Vl(Vl.OWNER):new ql(t.name,t.options,e);Bp("Invalid Firebase Database URL",a),ph(a.path)||Tl("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=_g[e.name];i||(i={},_g[e.name]=i);var o=i[t.toURLString()];o&&Tl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new $p(t,Ig,n,r),i[t.toURLString()]=o,o}(u,t,l,new jl(t.name,n));return new Eg(h,t)}var Eg=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(Xp(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Nv(this._repo,sh())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,e=this.app.name,(n=_g[e])&&n[t.key]===t||Tl("Database "+e+"("+t.repoInfo_+") has already been deleted."),uv(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&Tl("Cannot call "+t+" on a deleted database.")},t}();function Ag(t,e,n,r){void 0===r&&(r={}),(t=Cc(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Tl("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Tl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Vl(Vl.OWNER);else if(r.mockUserToken){var s=Xu(r.mockUserToken,t.app.options.projectId);o=new Vl(s)}!function(t,e,n,r){t.repoInfo_=new Kl(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,o)}function Sg(t){(t=Cc(t))._checkNotDeleted("goOffline"),uv(t._repo)}function kg(t){var e;(t=Cc(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cg={".sv":"timestamp"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xg=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Ng(t,e,n){var r;if(t=Cc(t),Vp("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new $u,s=Hv(t,(function(){}));return function(t,e,n,r,i,o){cv(t,"transaction on "+e);var s={path:e,update:n,onComplete:r,status:null,order:pl(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=hv(t,e,void 0);s.currentInputSnapshot=a;var u=s.update(a.val());if(void 0===u)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Lp("transaction failed: Data returned ",u,s.path),s.status=0;var c=_p(t.transactionQueueTree_,e),l=Ip(c)||[];l.push(s),Tp(c,l);var h=void 0;"object"==typeof u&&null!==u&&pc(u,".priority")?(h=vc(u,".priority"),Ku(Dp(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(tp(t.serverSyncTree_,e)||$h.EMPTY_NODE).getPriority().val();var f=Zp(t),d=Jh(u,h),p=yp(d,a,f);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=p,s.currentWriteId=rv(t);var v=Qd(t.serverSyncTree_,e,p,s.currentWriteId,s.applyLocally);Gp(t.eventQueue_,e,v),fv(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(function(e,n,r){var i=null;e?o.reject(e):(i=new Rv(r,new Nv(t._repo,t._path),Wh),o.resolve(new xg(n,i)))}),s,i),o.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rg=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Ic("OnDisconnect.cancel",0,1,arguments.length),Ec("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){Ic("OnDisconnect.remove",0,1,arguments.length),Ec("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){Ic("OnDisconnect.set",1,2,arguments.length),Ec("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){Ic("OnDisconnect.setWithPriority",2,3,arguments.length),Ec("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(Ic("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,El("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ec("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},t}(),Pg=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Ic("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Dg=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Ic("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Ic("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Ic("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Ic("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Ic("DataSnapshot.child",0,1,arguments.length),e=String(e),qp("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Ic("DataSnapshot.hasChild",1,1,arguments.length),qp("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Ic("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Ic("DataSnapshot.forEach",1,1,arguments.length),Ec("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return Ic("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Ic("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Ic("DataSnapshot.ref",0,0,arguments.length),new Lg(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Og=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var o,s=this;Ic("Query.on",2,4,arguments.length),Ec("Query.on","callback",n,!1);var a=t.getCancelAndContextArgs_("Query.on",r,i),u=function(t,e){n.call(a.context,new Dg(s.database,t),e)};u.userCallback=n,u.context=a.context;var c=null===(o=a.cancel)||void 0===o?void 0:o.bind(a.context);switch(e){case"value":return Hv(this._delegate,u,c),n;case"child_added":return zv(this._delegate,u,c),n;case"child_removed":return Yv(this._delegate,u,c),n;case"child_changed":return Gv(this._delegate,u,c),n;case"child_moved":return Qv(this._delegate,u,c),n;default:throw new Error(Tc("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Ic("Query.off",0,3,arguments.length),Up("Query.off",t,!0),Ec("Query.off","callback",e,!0),Ac("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,$v(this._delegate,t,r)}else $v(this._delegate,t)},t.prototype.get=function(){var t=this;return Vv(this._delegate).then((function(e){return new Dg(t.database,e)}))},t.prototype.once=function(e,n,r,i){var o=this;Ic("Query.once",1,4,arguments.length),Ec("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),a=new $u,u=function(t,e){var r=new Dg(o.database,t);n&&n.call(s.context,r,e),a.resolve(r)};u.userCallback=n,u.context=s.context;var c=function(t){s.cancel&&s.cancel.call(s.context,t),a.reject(t)};switch(e){case"value":Hv(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":zv(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Yv(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Gv(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Qv(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Tc("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise},t.prototype.limitToFirst=function(e){return Ic("Query.limitToFirst",1,1,arguments.length),new t(this.database,wg(this._delegate,ag(e)))},t.prototype.limitToLast=function(e){return Ic("Query.limitToLast",1,1,arguments.length),new t(this.database,wg(this._delegate,cg(e)))},t.prototype.orderByChild=function(e){return Ic("Query.orderByChild",1,1,arguments.length),new t(this.database,wg(this._delegate,hg(e)))},t.prototype.orderByKey=function(){return Ic("Query.orderByKey",0,0,arguments.length),new t(this.database,wg(this._delegate,dg()))},t.prototype.orderByPriority=function(){return Ic("Query.orderByPriority",0,0,arguments.length),new t(this.database,wg(this._delegate,vg()))},t.prototype.orderByValue=function(){return Ic("Query.orderByValue",0,0,arguments.length),new t(this.database,wg(this._delegate,mg()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Ic("Query.startAt",0,2,arguments.length),new t(this.database,wg(this._delegate,rg(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Ic("Query.startAfter",0,2,arguments.length),new t(this.database,wg(this._delegate,og(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Ic("Query.endAt",0,2,arguments.length),new t(this.database,wg(this._delegate,Zv(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Ic("Query.endBefore",0,2,arguments.length),new t(this.database,wg(this._delegate,eg(e,n)))},t.prototype.equalTo=function(e,n){return Ic("Query.equalTo",1,2,arguments.length),new t(this.database,wg(this._delegate,bg(e,n)))},t.prototype.toString=function(){return Ic("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Ic("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Ic("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Ec(t,"cancel",r.cancel,!0),r.context=n,Ac(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Tc(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Lg(this.database,new Nv(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Lg=function(t){function e(e,n){var r=t.call(this,e,new Sv(n._repo,n._path,new vf,!1))||this;return r.database=e,r._delegate=n,r}return Ou(e,t),e.prototype.getKey=function(){return Ic("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Ic("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Ov(this._delegate,t))},e.prototype.getParent=function(){Ic("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Ic("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Ic("Reference.set",1,2,arguments.length),Ec("Reference.set","onComplete",e,!0);var n=Fv(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(Ic("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,El("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vp("Reference.update",this._delegate._path),Ec("Reference.update","onComplete",e,!0);var i=qv(this._delegate,t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},e.prototype.setWithPriority=function(t,e,n){Ic("Reference.setWithPriority",2,3,arguments.length),Ec("Reference.setWithPriority","onComplete",n,!0);var r=jv(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){Ic("Reference.remove",0,1,arguments.length),Ec("Reference.remove","onComplete",t,!0);var e=Mv(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;Ic("Reference.transaction",1,3,arguments.length),Ec("Reference.transaction","transactionUpdate",t,!1),Ec("Reference.transaction","onComplete",e,!0),Kp("Reference.transaction","applyLocally",n,!0);var i=Ng(this._delegate,t,{applyLocally:n}).then((function(t){return new Pg(t.committed,new Dg(r.database,t.snapshot))}));return e&&i.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),i},e.prototype.setPriority=function(t,e){Ic("Reference.setPriority",1,2,arguments.length),Ec("Reference.setPriority","onComplete",e,!0);var n=Uv(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;Ic("Reference.push",0,2,arguments.length),Ec("Reference.push","onComplete",n,!0);var i=Lv(this._delegate,t),o=i.then((function(t){return new e(r.database,t)}));n&&o.then((function(){return n(null)}),(function(t){return n(t)}));var s=new e(this.database,i);return s.then=o.then.bind(o),s.catch=o.catch.bind(o,void 0),s},e.prototype.onDisconnect=function(){return Vp("Reference.onDisconnect",this._delegate._path),new Rg(new Av(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Og),Mg=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),Ag(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Ic("database.ref",0,1,arguments.length),t instanceof Lg){var e=Dv(this._delegate,t.toString());return new Lg(this,e)}e=Pv(this._delegate,t);return new Lg(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Ic(e,1,1,arguments.length);var n=Dv(this._delegate,t);return new Lg(this,n)},t.prototype.goOffline=function(){return Ic("database.goOffline",0,0,arguments.length),Sg(this._delegate)},t.prototype.goOnline=function(){return Ic("database.goOnline",0,0,arguments.length),kg(this._delegate)},t.ServerValue={TIMESTAMP:Cg,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fg=Object.freeze({__proto__:null,forceLongPolling:function(){Zl.forceDisallow(),$l.forceAllow()},forceWebSockets:function(){$l.forceDisallow()},isWebSocketsAvailable:function(){return Zl.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new xf(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);Dl(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){var n,r;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.stats_.incrementCounter(e),n=t.statsReporter_,r=e,n.statsToReport_[r]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;sl(r);var u=new Nc("auth-internal",new Pc("database-standalone"));return u.setComponent(new xc("auth-internal",(function(){return i}),"PRIVATE")),{instance:new Mg(Tg(e,u,void 0,n,a),e),namespace:o}}}),Ug=Ah;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ah.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ah.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var jg,qg=eh,Vg=Kl,Bg=Object.freeze({__proto__:null,DataConnection:Ug,RealTimeConnection:qg,hijackHash:function(t){var e=Ah.prototype.put;return Ah.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ah.prototype.put=e}},ConnectionTarget:Vg,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){Ig=t}(t)}}),Kg=Mg.ServerValue;sl((jg=il).SDK_VERSION),jg.INTERNAL.registerComponent(new xc("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Mg(Tg(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Lg,Query:Og,Database:Mg,DataSnapshot:Dg,enableLogging:bl,INTERNAL:Fg,ServerValue:Kg,TEST_ACCESS:Bg}).setMultipleInstances(!0)),jg.registerVersion("@firebase/database","0.10.2");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Wg=function(t,e){return(Wg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Hg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var zg,Gg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Qg=Qg||{},Yg=Gg||self;function $g(){}function Xg(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Jg(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Zg="closure_uid_"+(1e9*Math.random()>>>0),tm=0;function em(t,e,n){return t.call.apply(t.bind,arguments)}function nm(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function rm(t,e,n){return(rm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?em:nm).apply(null,arguments)}function im(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function om(){return Date.now()}function sm(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function am(){this.j=this.j,this.i=this.i}am.prototype.j=!1,am.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,Zg)&&t[Zg]||(t[Zg]=++tm))},am.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var um=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},cm=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function lm(t){return Array.prototype.concat.apply([],arguments)}function hm(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function fm(t){return/^[\s\xa0]*$/.test(t)}var dm,pm=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function vm(t,e){return-1!=t.indexOf(e)}function gm(t,e){return t<e?-1:t>e?1:0}t:{var mm=Yg.navigator;if(mm){var ym=mm.userAgent;if(ym){dm=ym;break t}}dm=""}function bm(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function wm(t){var e={};for(var n in t)e[n]=t[n];return e}var _m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Im(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<_m.length;o++)n=_m[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tm(t){return Tm[" "](t),t}Tm[" "]=$g;var Em,Am,Sm=vm(dm,"Opera"),km=vm(dm,"Trident")||vm(dm,"MSIE"),Cm=vm(dm,"Edge"),xm=Cm||km,Nm=vm(dm,"Gecko")&&!(vm(dm.toLowerCase(),"webkit")&&!vm(dm,"Edge"))&&!(vm(dm,"Trident")||vm(dm,"MSIE"))&&!vm(dm,"Edge"),Rm=vm(dm.toLowerCase(),"webkit")&&!vm(dm,"Edge");function Pm(){var t=Yg.document;return t?t.documentMode:void 0}t:{var Dm="",Om=(Am=dm,Nm?/rv:([^\);]+)(\)|;)/.exec(Am):Cm?/Edge\/([\d\.]+)/.exec(Am):km?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Am):Rm?/WebKit\/(\S+)/.exec(Am):Sm?/(?:Version)[ \/]?(\S+)/.exec(Am):void 0);if(Om&&(Dm=Om?Om[1]:""),km){var Lm=Pm();if(null!=Lm&&Lm>parseFloat(Dm)){Em=String(Lm);break t}}Em=Dm}var Mm,Fm={};function Um(t){return function(t,e){var n=Fm;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=pm(String(Em)).split("."),r=pm(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=gm(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||gm(0==s[2].length,0==a[2].length)||gm(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(Yg.document&&km){var jm=Pm();Mm=jm||(parseInt(Em,10)||void 0)}else Mm=void 0;var qm=Mm,Vm=!km||9<=Number(qm),Bm=km&&!Um("9"),Km=function(){if(!Yg.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Yg.addEventListener("test",$g,e),Yg.removeEventListener("test",$g,e)}catch(t){}return t}();function Wm(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Hm(t,e){if(Wm.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Nm){t:{try{Tm(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:zm[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Wm.prototype.b=function(){this.defaultPrevented=!0},sm(Hm,Wm);var zm={2:"touch",3:"pen",4:"mouse"};Hm.prototype.b=function(){Hm.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Bm)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Gm="closure_listenable_"+(1e6*Math.random()|0),Qm=0;function Ym(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Qm,this.Y=this.Z=!1}function $m(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Xm(t){this.src=t,this.a={},this.b=0}function Jm(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=um(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&($m(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Zm(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Xm.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Zm(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Ym(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ty="closure_lm_"+(1e6*Math.random()|0),ey={};function ny(t,e,n,r,i){if(r&&r.once)return iy(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ny(t,e[o],n,r,i);return null}return n=fy(n),t&&t[Gm]?t.va(e,n,Jg(r)?!!r.capture:!!r,i):ry(t,e,n,!1,r,i)}function ry(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Jg(i)?!!i.capture:!!i;if(s&&!Vm)return null;var a=ly(t);if(a||(t[ty]=a=new Xm(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=cy,e=Vm?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Km||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ay(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function iy(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)iy(t,e[o],n,r,i);return null}return n=fy(n),t&&t[Gm]?t.wa(e,n,Jg(r)?!!r.capture:!!r,i):ry(t,e,n,!0,r,i)}function oy(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)oy(t,e[o],n,r,i);else r=Jg(r)?!!r.capture:!!r,n=fy(n),t&&t[Gm]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=Zm(o=t.a[e],n,r,i))&&($m(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=ly(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Zm(e,n,r,i)),(n=-1<t?e[t]:null)&&sy(n))}function sy(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Gm])Jm(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ay(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ly(e))?(Jm(n,t),0==n.b&&(n.src=null,e[ty]=null)):$m(t)}}}function ay(t){return t in ey?ey[t]:ey[t]="on"+t}function uy(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&sy(t),n.call(r,e)}function cy(t,e){if(t.Y)return!0;if(!Vm){if(!e)t:{e=["window","event"];for(var n=Yg,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return uy(t,e=new Hm(e,this))}return uy(t,new Hm(e,this))}function ly(t){return(t=t[ty])instanceof Xm?t:null}var hy="__closure_events_fn_"+(1e9*Math.random()>>>0);function fy(t){return"function"==typeof t?t:(t[hy]||(t[hy]=function(e){return t.handleEvent(e)}),t[hy])}function dy(){am.call(this),this.c=new Xm(this),this.J=this,this.C=null}function py(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Wm(e,t);else if(e instanceof Wm)e.target=e.target||t;else{var i=e;Im(e=new Wm(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=vy(s,r,!0,e)&&i}if(i=vy(s=e.a=t,r,!0,e)&&i,i=vy(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=vy(s=e.a=n[o],r,!1,e)&&i}function vy(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Jm(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}sm(dy,am),dy.prototype[Gm]=!0,(zg=dy.prototype).addEventListener=function(t,e,n,r){ny(this,t,e,n,r)},zg.removeEventListener=function(t,e,n,r){oy(this,t,e,n,r)},zg.G=function(){if(dy.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)$m(n[r]);delete e.a[t],e.b--}}this.C=null},zg.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},zg.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var gy=Yg.JSON.stringify;function my(){this.b=this.a=null}var yy,by=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new _y}),(function(t){t.reset()}));function wy(){var t=Ay,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function _y(){this.next=this.b=this.a=null}function Iy(t){Yg.setTimeout((function(){throw t}),0)}function Ty(t,e){yy||function(){var t=Yg.Promise.resolve(void 0);yy=function(){t.then(Sy)}}(),Ey||(yy(),Ey=!0),Ay.add(t,e)}my.prototype.add=function(t,e){var n=by.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},_y.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},_y.prototype.reset=function(){this.next=this.b=this.a=null};var Ey=!1,Ay=new my;function Sy(){for(var t;t=wy();){try{t.a.call(t.b)}catch(t){Iy(t)}var e=by;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ey=!1}function ky(t,e){dy.call(this),this.b=t||1,this.a=e||Yg,this.f=rm(this.Za,this),this.g=om()}function Cy(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function xy(t,e,n){if("function"==typeof t)n&&(t=rm(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=rm(t.handleEvent,t)}return 2147483647<Number(e)?-1:Yg.setTimeout(t,e||0)}function Ny(t){t.a=xy((function(){t.a=null,t.c&&(t.c=!1,Ny(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}sm(ky,dy),(zg=ky.prototype).aa=!1,zg.M=null,zg.Za=function(){if(this.aa){var t=om()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),py(this,"tick"),this.aa&&(Cy(this),this.start()))}},zg.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=om())},zg.G=function(){ky.X.G.call(this),Cy(this),delete this.a};var Ry=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Wg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ny(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Yg.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(am);function Py(t){am.call(this),this.b=t,this.a={}}sm(Py,am);var Dy=[];function Oy(t,e,n,r){Array.isArray(n)||(n&&(Dy[0]=n.toString()),n=Dy);for(var i=0;i<n.length;i++){var o=ny(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ly(t){bm(t.a,(function(t,e){this.a.hasOwnProperty(e)&&sy(t)}),t),t.a={}}function My(){this.a=!0}function Fy(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return gy(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Py.prototype.G=function(){Py.X.G.call(this),Ly(this)},Py.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},My.prototype.info=function(){};var Uy={},jy=null;function qy(){return jy=jy||new dy}function Vy(t){Wm.call(this,Uy.Fa,t)}function By(t){var e=qy();py(e,new Vy(e,t))}function Ky(t,e){Wm.call(this,Uy.STAT_EVENT,t),this.stat=e}function Wy(t){var e=qy();py(e,new Ky(e,t))}function Hy(t){Wm.call(this,Uy.Ga,t)}function zy(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Yg.setTimeout((function(){t()}),e)}Uy.Fa="serverreachability",sm(Vy,Wm),Uy.STAT_EVENT="statevent",sm(Ky,Wm),Uy.Ga="timingevent",sm(Hy,Wm);var Gy={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Qy={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Yy(){}function $y(t){var e;return(e=t.a)||(e=t.a={}),e}function Xy(){}Yy.prototype.a=null;var Jy,Zy={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function tb(){Wm.call(this,"d")}function eb(){Wm.call(this,"c")}function nb(){}function rb(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Py(this),this.P=ib,t=xm?125:void 0,this.R=new ky(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}sm(tb,Wm),sm(eb,Wm),sm(nb,Yy),Jy=new nb;var ib=45e3,ob={},sb={};function ab(t,e,n){t.H=1,t.i=xb(Tb(e)),t.j=n,t.I=!0,ub(t,null)}function ub(t,e){t.u=om(),hb(t),t.l=Tb(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Bb(n.b,"t",r),t.D=0,t.a=Mw(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ry(rm(t.Ca,t,t.a),t.O)),Oy(t.J,t.a,"readystatechange",t.Xa),e=t.B?wm(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),By(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function cb(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=lb(t,n);if(i==sb){4==e&&(t.h=4,Wy(14),r=!1),Fy(t.c,t.f,null,"[Incomplete Response]");break}if(i==ob){t.h=4,Wy(15),Fy(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Fy(t.c,t.f,i,null),gb(t,i)}4==e&&0==n.length&&(t.h=1,Wy(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cw(e),e.F=!0,Wy(11))):(Fy(t.c,t.f,n,"[Invalid Chunked Response]"),vb(t),pb(t))}function lb(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?sb:(n=Number(e.substring(n,r)),isNaN(n)?ob:(r+=1)+n>e.length?sb:(e=e.substr(r,n),t.D=r+n,e))}function hb(t){t.T=om()+t.P,fb(t,t.P)}function fb(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=zy(rm(t.Va,t),e)}function db(t){t.o&&(Yg.clearTimeout(t.o),t.o=null)}function pb(t){0==t.g.v||t.A||Rw(t.g,t)}function vb(t){db(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Cy(t.R),Ly(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function gb(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Yb(n.b,t)))if(n.I=t.N,!t.C&&Yb(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Nw(n),bw(n)}kw(n),Wy(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=zy(rm(n.Sa,n),6e3));if(1>=Qb(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Dw(n,11)}else if((t.C||n.a==t)&&Nw(n),!fm(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(vm(l,"spdy")||vm(l,"quic")||vm(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&($b(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Cb(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=om()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Lw(u,u.C?u.ga:null,u.fa),d.C){Xb(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(db(p),hb(p)),u.a=d}else Sw(u);0<n.g.length&&Iw(n)}else"stop"!=i[0]&&"close"!=i[0]||Dw(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Dw(n,7):yw(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);By(4)}catch(t){}}function mb(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Xg(t)||"string"==typeof t)cm(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Xg(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Xg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function yb(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof yb)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function bb(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];wb(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)wb(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function wb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(zg=rb.prototype).setTimeout=function(t){this.P=t},zg.Xa=function(t){t=t.target;var e=this.F;e&&3==pw(t)?e.f():this.Ca(t)},zg.Ca=function(t){try{if(t==this.a)t:{var e=pw(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!xm&&!this.a.$())){this.A||4!=e||7==n||By(8==n||0>=r?3:2),db(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fm(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Wy(12),vb(this),pb(this);break t}Fy(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,gb(this,u)}this.I?(cb(this,e,o),xm&&this.b&&3==e&&(Oy(this.J,this.R,"tick",this.Wa),this.R.start())):(Fy(this.c,this.f,o,null),gb(this,o)),4==e&&vb(this),this.b&&!this.A&&(4==e?Rw(this.g,this):(this.b=!1,hb(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Wy(12)):(this.h=0,Wy(13)),vb(this),pb(this)}}}catch(t){}},zg.Wa=function(){if(this.a){var t=pw(this.a),e=this.a.$();this.D<e.length&&(db(this),cb(this,t,e),this.b&&4!=t&&hb(this))}},zg.cancel=function(){this.A=!0,vb(this)},zg.Va=function(){this.o=null;var t=om();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(By(3),Wy(17)),vb(this),this.h=2,pb(this)):fb(this,this.T-t)},(zg=yb.prototype).K=function(){bb(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},zg.L=function(){return bb(this),this.a.concat()},zg.get=function(t,e){return wb(this.b,t)?this.b[t]:e},zg.set=function(t,e){wb(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},zg.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var _b=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ib(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ib){this.a=void 0!==e?e:t.a,Eb(this,t.f),this.j=t.j,Ab(this,t.c),Sb(this,t.h),this.g=t.g,e=t.b;var n=new Ub;n.c=e.c,e.a&&(n.a=new yb(e.a),n.b=e.b),kb(this,n),this.i=t.i}else t&&(n=String(t).match(_b))?(this.a=!!e,Eb(this,n[1]||"",!0),this.j=Nb(n[2]||""),Ab(this,n[3]||"",!0),Sb(this,n[4]),this.g=Nb(n[5]||"",!0),kb(this,n[6]||"",!0),this.i=Nb(n[7]||"")):(this.a=!!e,this.b=new Ub(null,this.a))}function Tb(t){return new Ib(t)}function Eb(t,e,n){t.f=n?Nb(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ab(t,e,n){t.c=n?Nb(e,!0):e}function Sb(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function kb(t,e,n){e instanceof Ub?(t.b=e,function(t,e){e&&!t.f&&(jb(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(qb(this,e),Bb(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Rb(e,Mb)),t.b=new Ub(e,t.a))}function Cb(t,e,n){t.b.set(e,n)}function xb(t){return Cb(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^om()).toString(36)),t}function Nb(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Rb(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Pb),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pb(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ib.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Rb(e,Db,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Rb(e,Db,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Rb(n,"/"==n.charAt(0)?Lb:Ob,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Rb(n,Fb)),t.join("")};var Db=/[#\/\?@]/g,Ob=/[#\?:]/g,Lb=/[#\?]/g,Mb=/[#\?@]/g,Fb=/#/g;function Ub(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function jb(t){t.a||(t.a=new yb,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function qb(t,e){jb(t),e=Kb(t,e),wb(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,wb((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&bb(t)))}function Vb(t,e){return jb(t),e=Kb(t,e),wb(t.a.b,e)}function Bb(t,e,n){qb(t,e),0<n.length&&(t.c=null,t.a.set(Kb(t,e),hm(n)),t.b+=n.length)}function Kb(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(zg=Ub.prototype).add=function(t,e){jb(this),this.c=null,t=Kb(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},zg.forEach=function(t,e){jb(this),this.a.forEach((function(n,r){cm(n,(function(n){t.call(e,n,r,this)}),this)}),this)},zg.L=function(){jb(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},zg.K=function(t){jb(this);var e=[];if("string"==typeof t)Vb(this,t)&&(e=lm(e,this.a.get(Kb(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=lm(e,t[n])}return e},zg.set=function(t,e){return jb(this),this.c=null,Vb(this,t=Kb(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},zg.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},zg.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Wb=function(t,e){this.b=t,this.a=e};function Hb(t){this.g=t||zb,Yg.PerformanceNavigationTiming?t=0<(t=Yg.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Yg.ia&&Yg.ia.ya&&Yg.ia.ya()&&Yg.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var zb=10;function Gb(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Qb(t){return t.b?1:t.a?t.a.size:0}function Yb(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function $b(t,e){t.a?t.a.add(e):t.b=e}function Xb(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Jb(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Hg(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return hm(t.c)}function Zb(){}function tw(){this.a=new Zb}function ew(t,e,n){var r=n||"";try{mb(t,(function(t,n){var i=t;Jg(t)&&(i=gy(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function nw(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Hb.prototype.cancel=function(){var t,e;if(this.c=Jb(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Hg(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Zb.prototype.stringify=function(t){return Yg.JSON.stringify(t,void 0)},Zb.prototype.parse=function(t){return Yg.JSON.parse(t,void 0)};var rw=Yg.JSON.parse;function iw(t){dy.call(this),this.headers=new yb,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ow,this.D=this.F=!1}sm(iw,dy);var ow="",sw=/^https?$/i,aw=["POST","PUT"];function uw(t){return"content-type"==t.toLowerCase()}function cw(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,lw(t),fw(t)}function lw(t){t.u||(t.u=!0,py(t,"complete"),py(t,"error"))}function hw(t){if(t.b&&void 0!==Qg&&(!t.s[1]||4!=pw(t)||2!=t.W()))if(t.l&&4==pw(t))xy(t.za,0,t);else if(py(t,"readystatechange"),4==pw(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(_b)[1]||null;if(!o&&Yg.self&&Yg.self.location){var s=Yg.self.location.protocol;o=s.substr(0,s.length-1)}i=!sw.test(o?o.toLowerCase():"")}e=i}if(e)py(t,"complete"),py(t,"success");else{t.h=6;try{var a=2<pw(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.W()+"]",lw(t)}}finally{fw(t)}}}function fw(t,e){if(t.a){dw(t);var n=t.a,r=t.s[0]?$g:null;t.a=null,t.s=null,e||py(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function dw(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Yg.clearTimeout(t.m),t.m=null)}function pw(t){return t.a?t.a.readyState:0}function vw(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return bm(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Cb(t,e,n))}function gw(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mw(t){this.pa=0,this.g=[],this.c=new My,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=gw("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=gw("baseRetryDelayMs",5e3,t),this.Ra=gw("retryDelaySeedMs",1e4,t),this.Ma=gw("forwardChannelMaxRetries",2,t),this.ma=gw("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Hb(t&&t.concurrentRequestLimit),this.ka=new tw,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function yw(t){if(ww(t),3==t.v){var e=t.R++,n=Tb(t.B);Cb(n,"SID",t.J),Cb(n,"RID",e),Cb(n,"TYPE","terminate"),Ew(t,n),(e=new rb(t,t.c,e,void 0)).H=2,e.i=xb(Tb(n)),n=!1,Yg.navigator&&Yg.navigator.sendBeacon&&(n=Yg.navigator.sendBeacon(e.i.toString(),"")),!n&&Yg.Image&&((new Image).src=e.i,n=!0),n||(e.a=Mw(e.g,null),e.a.ba(e.i)),e.u=om(),hb(e)}Ow(t)}function bw(t){t.a&&(Cw(t),t.a.cancel(),t.a=null)}function ww(t){bw(t),t.j&&(Yg.clearTimeout(t.j),t.j=null),Nw(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Yg.clearTimeout(t.h),t.h=null)}function _w(t,e){t.g.push(new Wb(t.Oa++,e)),3==t.v&&Iw(t)}function Iw(t){Gb(t.b)||t.h||(t.h=!0,Ty(t.Ba,t),t.u=0)}function Tw(t,e){var n;n=e?e.f:t.R++;var r=Tb(t.B);Cb(r,"SID",t.J),Cb(r,"RID",n),Cb(r,"AID",t.P),Ew(t,r),t.i&&t.l&&vw(r,t.i,t.l),n=new rb(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Aw(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),$b(t.b,n),ab(n,r,e)}function Ew(t,e){t.f&&mb({},(function(t,n){Cb(e,n,t)}))}function Aw(t,e,n){n=Math.min(t.g.length,n);var r=t.f?rm(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{ew(l,s,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Sw(t){t.a||t.j||(t.T=1,Ty(t.Aa,t),t.o=0)}function kw(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=zy(rm(t.Aa,t),Pw(t,t.o)),t.o++,!0)}function Cw(t){null!=t.s&&(Yg.clearTimeout(t.s),t.s=null)}function xw(t){t.a=new rb(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Tb(t.la);Cb(e,"RID","rpc"),Cb(e,"SID",t.J),Cb(e,"CI",t.H?"0":"1"),Cb(e,"AID",t.P),Ew(t,e),Cb(e,"TYPE","xmlhttp"),t.i&&t.l&&vw(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=xb(Tb(e)),n.j=null,n.I=!0,ub(n,t)}function Nw(t){null!=t.m&&(Yg.clearTimeout(t.m),t.m=null)}function Rw(t,e){var n=null;if(t.a==e){Nw(t),Cw(t),t.a=null;var r=2}else{if(!Yb(t.b,e))return;n=e.s,Xb(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=om()-e.u;var i=t.u;py(r=qy(),new Hy(r,n,e,i)),Iw(t)}else Sw(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Qb(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=zy(rm(t.Ba,t,e),Pw(t,t.u)),t.u++,0)))}(t,e)||2==r&&kw(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Dw(t,5);break;case 4:Dw(t,10);break;case 3:Dw(t,6);break;default:Dw(t,2)}}function Pw(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Dw(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=rm(t.Ya,t);n||(n=new Ib("//www.google.com/images/cleardot.gif"),Yg.location&&"http"==Yg.location.protocol||Eb(n,"https"),xb(n)),function(t,e){var n=new My;if(Yg.Image){var r=new Image;r.onload=im(nw,n,r,"TestLoadImage: loaded",!0,e),r.onerror=im(nw,n,r,"TestLoadImage: error",!1,e),r.onabort=im(nw,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=im(nw,n,r,"TestLoadImage: timeout",!1,e),Yg.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Wy(2);t.v=0,t.f&&t.f.ra(e),Ow(t),ww(t)}function Ow(t){t.v=0,t.I=-1,t.f&&(0==Jb(t.b).length&&0==t.g.length||(t.b.c.length=0,hm(t.g),t.g.length=0),t.f.qa())}function Lw(t,e,n){var r=function(t){return t instanceof Ib?Tb(t):new Ib(t,void 0)}(n);if(""!=r.c)e&&Ab(r,e+"."+r.c),Sb(r,r.h);else{var i=Yg.location;r=function(t,e,n,r){var i=new Ib(null,void 0);return t&&Eb(i,t),e&&Ab(i,e),n&&Sb(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&bm(t.V,(function(t,e){Cb(r,e,t)})),e=t.A,n=t.na,e&&n&&Cb(r,e,n),Cb(r,"VER",t.ha),Ew(t,r),r}function Mw(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new iw(t.Na)).F=t.C,e}function Fw(){}function Uw(){if(km&&!(10<=Number(qm)))throw Error("Environmental error: no available transport.")}function jw(t,e){dy.call(this),this.a=new mw(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!fm(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fm(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Bw(this)}function qw(t){tb.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Vw(){eb.call(this),this.status=1}function Bw(t){this.a=t}(zg=iw.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?$y(this.H):$y(Jy),this.a.onreadystatechange=rm(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void cw(this,t)}t=n||"";var i=new yb(this.headers);r&&mb(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=uw,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Yg.FormData&&t instanceof Yg.FormData,!(0<=um(aw,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{dw(this),0<this.o&&((this.D=function(t){return km&&Um(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=rm(this.xa,this)):this.m=xy(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){cw(this,t)}},zg.xa=function(){void 0!==Qg&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,py(this,"timeout"),this.abort(8))},zg.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,py(this,"complete"),py(this,"abort"),fw(this))},zg.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),fw(this,!0)),iw.X.G.call(this)},zg.za=function(){this.j||(this.A||this.l||this.g?hw(this):this.Ua())},zg.Ua=function(){hw(this)},zg.W=function(){try{return 2<pw(this)?this.a.status:-1}catch(t){return-1}},zg.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},zg.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),rw(e)}},zg.ua=function(){return this.h},zg.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(zg=mw.prototype).ha=8,zg.v=1,zg.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new rb(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Im(r=wm(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Aw(this,n,e),Cb(i=Tb(this.B),"RID",t),Cb(i,"CVER",22),this.A&&Cb(i,"X-HTTP-Session-Id",this.A),Ew(this,i),this.i&&r&&vw(i,this.i,r),$b(this.b,n),this.Ia&&Cb(i,"TYPE","init"),this.da?(Cb(i,"$req",e),Cb(i,"SID","null"),n.U=!0,ab(n,i,null)):ab(n,i,e),this.v=2}}else 3==this.v&&(t?Tw(this,t):0==this.g.length||Gb(this.b)||Tw(this))},zg.Aa=function(){if(this.j=null,xw(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=zy(rm(this.Ta,this),t)}},zg.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Wy(10),bw(this),xw(this))},zg.Sa=function(){null!=this.m&&(this.m=null,bw(this),kw(this),Wy(19))},zg.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Wy(2)):(this.c.info("Failed to ping google.com"),Wy(1))},(zg=Fw.prototype).ta=function(){},zg.sa=function(){},zg.ra=function(){},zg.qa=function(){},zg.Ja=function(){},Uw.prototype.a=function(t,e){return new jw(t,e)},sm(jw,dy),jw.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Wy(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Lw(t,null,t.fa),Iw(t)},jw.prototype.close=function(){yw(this.a)},jw.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,_w(this.a,e)}else this.l?((e={}).__data__=gy(t),_w(this.a,e)):_w(this.a,t)},jw.prototype.G=function(){this.a.f=null,delete this.f,yw(this.a),delete this.a,jw.X.G.call(this)},sm(qw,tb),sm(Vw,eb),sm(Bw,Fw),Bw.prototype.ta=function(){py(this.a,"a")},Bw.prototype.sa=function(t){py(this.a,new qw(t))},Bw.prototype.ra=function(t){py(this.a,new Vw(t))},Bw.prototype.qa=function(){py(this.a,"b")},Uw.prototype.createWebChannel=Uw.prototype.a,jw.prototype.send=jw.prototype.h,jw.prototype.open=jw.prototype.g,jw.prototype.close=jw.prototype.close,Gy.NO_ERROR=0,Gy.TIMEOUT=8,Gy.HTTP_ERROR=6,Qy.COMPLETE="complete",Xy.EventType=Zy,Zy.OPEN="a",Zy.CLOSE="b",Zy.ERROR="c",Zy.MESSAGE="d",dy.prototype.listen=dy.prototype.va,iw.prototype.listenOnce=iw.prototype.wa,iw.prototype.getLastError=iw.prototype.Qa,iw.prototype.getLastErrorCode=iw.prototype.ua,iw.prototype.getStatus=iw.prototype.W,iw.prototype.getResponseJson=iw.prototype.Pa,iw.prototype.getResponseText=iw.prototype.$,iw.prototype.send=iw.prototype.ba;var Kw=Gy,Ww=Qy,Hw=Uy,zw=10,Gw=11,Qw=Xy,Yw=iw,$w=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();$w.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Jw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Ou(e,t),e}(Error),Zw=new Bc("@firebase/firestore");function t_(){return Zw.logLevel}function e_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zw.logLevel<=Oc.DEBUG){var r=e.map(i_);Zw.debug.apply(Zw,qu(["Firestore (8.6.3): "+t],r))}}function n_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zw.logLevel<=Oc.ERROR){var r=e.map(i_);Zw.error.apply(Zw,qu(["Firestore (8.6.3): "+t],r))}}function r_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zw.logLevel<=Oc.WARN){var r=e.map(i_);Zw.warn.apply(Zw,qu(["Firestore (8.6.3): "+t],r))}}function i_(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.3) INTERNAL ASSERTION FAILED: "+t;throw n_(e),new Error(e)}function s_(t,e){t||o_()}function a_(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c_=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=u_(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function l_(t,e){return t<e?-1:t>e?1:0}function h_(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function f_(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d_=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Jw(Xw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Jw(Xw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Jw(Xw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jw(Xw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?l_(this.nanoseconds,t.nanoseconds):l_(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),p_=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new d_(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function g_(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m_(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y_=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&o_(),void 0===n?n=t.length-e:n>t.length-e&&o_(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),b_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(y_),w_=/^[_a-zA-Z][_a-zA-Z0-9]*$/,__=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return w_.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Jw(Xw.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Jw(Xw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Jw(Xw.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(y_),I_=function(){function t(t){this.fields=t,t.sort(__.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return h_(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),T_=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return l_(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();T_.EMPTY_BYTE_STRING=new T_("");var E_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function A_(t){if(s_(!!t),"string"==typeof t){var e=0,n=E_.exec(t);if(s_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:S_(t.seconds),nanos:S_(t.nanos)}}function S_(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function k_(t){return"string"==typeof t?T_.fromBase64String(t):T_.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function x_(t){var e=t.mapValue.fields.__previous_value__;return C_(e)?x_(e):e}function N_(t){var e=A_(t.mapValue.fields.__local_write_time__.timestampValue);return new d_(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t){return null==t}function P_(t){return 0===t&&1/t==-1/0}function D_(t){return"number"==typeof t&&Number.isInteger(t)&&!P_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O_=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(b_.fromString(e))},t.fromName=function(e){return new t(b_.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===b_.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return b_.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new b_(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C_(t)?4:10:o_()}function M_(t,e){var n,r=L_(t);if(r!==L_(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return N_(t).isEqual(N_(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=A_(t.timestampValue),r=A_(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,k_(t.bytesValue).isEqual(k_(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return S_(t.geoPointValue.latitude)===S_(e.geoPointValue.latitude)&&S_(t.geoPointValue.longitude)===S_(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return S_(t.integerValue)===S_(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=S_(t.doubleValue),r=S_(e.doubleValue);return n===r?P_(n)===P_(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return h_(t.arrayValue.values||[],e.arrayValue.values||[],M_);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(v_(n)!==v_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!M_(n[i],r[i])))return!1;return!0}(t,e);default:return o_()}}function F_(t,e){return void 0!==(t.values||[]).find((function(t){return M_(t,e)}))}function U_(t,e){var n,r,i,o,s=L_(t),a=L_(e);if(s!==a)return l_(s,a);switch(s){case 0:return 0;case 1:return l_(t.booleanValue,e.booleanValue);case 2:return r=e,i=S_((n=t).integerValue||n.doubleValue),o=S_(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return j_(t.timestampValue,e.timestampValue);case 4:return j_(N_(t),N_(e));case 5:return l_(t.stringValue,e.stringValue);case 6:return function(t,e){var n=k_(t),r=k_(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=l_(n[i],r[i]);if(0!==o)return o}return l_(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=l_(S_(t.latitude),S_(e.latitude));return 0!==n?n:l_(S_(t.longitude),S_(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=U_(n[i],r[i]);if(o)return o}return l_(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=l_(r[s],o[s]);if(0!==a)return a;var u=U_(n[r[s]],i[o[s]]);if(0!==u)return u}return l_(r.length,o.length)}(t.mapValue,e.mapValue);default:throw o_()}}function j_(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return l_(t,e);var n=A_(t),r=A_(e),i=l_(n.seconds,r.seconds);return 0!==i?i:l_(n.nanos,r.nanos)}function q_(t){return V_(t)}function V_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=A_(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?k_(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,O_.fromName(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=V_(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+V_(t.fields[o])}return e+"}"}(t.mapValue):o_();var e,n,r,i}function B_(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function K_(t){return!!t&&"integerValue"in t}function W_(t){return!!t&&"arrayValue"in t}function H_(t){return!!t&&"nullValue"in t}function z_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function G_(t){return!!t&&"mapValue"in t}function Q_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},A_(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return g_(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Q_(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Q_(t.arrayValue.values[r]);return n}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y_=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!G_(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Q_(e)},t.prototype.setAll=function(t){var e=this,n=__.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Q_(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());G_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return M_(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];G_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){g_(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(Q_(this.value))},t}();function $_(t){var e=[];return g_(t.fields,(function(t,n){var r=new __([t]);if(G_(n)){var i=$_(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new I_(e)}var X_=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,p_.min(),Y_.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Y_.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Y_.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Y_.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Y_.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),J_=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new J_(t,e,n,r,i,o,s)}function tI(t){var e=a_(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.canonicalString()+e.op.toString()+q_(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.canonicalString()+e.dir;var e})).join(","),R_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=dI(e.startAt)),e.endAt&&(n+="|ub:",n+=dI(e.endAt)),e.h=n}return e.h}function eI(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!vI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!M_(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mI(t.startAt,e.startAt)&&mI(t.endAt,e.endAt)}function nI(t){return O_.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var rI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Ou(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new iI(t,n,r):"array-contains"===n?new uI(t,r):"in"===n?new cI(t,r):"not-in"===n?new lI(t,r):"array-contains-any"===n?new hI(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new oI(t,n):new sI(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(U_(e,this.value)):null!==e&&L_(this.value)===L_(e)&&this.m(U_(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return o_()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),iI=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=O_.fromName(r.referenceValue),i}return Ou(e,t),e.prototype.matches=function(t){var e=O_.comparator(t.key,this.key);return this.m(e)},e}(rI),oI=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=aI("in",n),r}return Ou(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(rI),sI=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=aI("not-in",n),r}return Ou(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(rI);function aI(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return O_.fromName(t.referenceValue)}))}var uI=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Ou(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return W_(e)&&F_(e.arrayValue,this.value)},e}(rI),cI=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Ou(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&F_(this.value.arrayValue,e)},e}(rI),lI=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Ou(e,t),e.prototype.matches=function(t){if(F_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!F_(this.value.arrayValue,e)},e}(rI),hI=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Ou(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!W_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return F_(e.value.arrayValue,t)}))},e}(rI),fI=function(t,e){this.position=t,this.before=e};function dI(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return q_(t)})).join(",")}var pI=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function vI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function gI(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?O_.comparator(O_.fromName(s.referenceValue),n.key):U_(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function mI(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!M_(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yI=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function bI(t,e,n,r,i,o,s,a){return new yI(t,e,n,r,i,o,s,a)}function wI(t){return new yI(t)}function _I(t){return!R_(t.limit)&&"F"===t.limitType}function II(t){return!R_(t.limit)&&"L"===t.limitType}function TI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function EI(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function AI(t){return null!==t.collectionGroup}function SI(t){var e=a_(t);if(null===e.p){e.p=[];var n=EI(e),r=TI(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new pI(n)),e.p.push(new pI(__.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new pI(__.keyField(),u))}}}return e.p}function kI(t){var e=a_(t);if(!e.T)if("F"===e.limitType)e.T=Z_(e.path,e.collectionGroup,SI(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=SI(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new pI(o.field,s))}var a=e.endAt?new fI(e.endAt.position,!e.endAt.before):null,u=e.startAt?new fI(e.startAt.position,!e.startAt.before):null;e.T=Z_(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function CI(t,e,n){return new yI(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xI(t,e){return eI(kI(t),kI(e))&&t.limitType===e.limitType}function NI(t){return tI(kI(t))+"|lt:"+t.limitType}function RI(t){return"Query(target="+(e=kI(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+q_(e.value);var e})).join(", ")+"]"),R_(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.canonicalString()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+dI(e.startAt)),e.endAt&&(n+=", endAt: "+dI(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function PI(t,e){return e.isFoundDocument()&&(n=t,i=(r=e).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):O_.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!gI(t.startAt,SI(t),e)||t.endAt&&gI(t.endAt,SI(t),e))}(t,e);var n,r,i}function DI(t){return function(e,n){for(var r=!1,i=0,o=SI(t);i<o.length;i++){var s=o[i],a=OI(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function OI(t,e,n){var r,i,o,s,a=t.field.isKeyField()?O_.comparator(e.key,n.key):(r=t.field,i=n,o=e.data.field(r),s=i.data.field(r),null!==o&&null!==s?U_(o,s):o_());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return o_()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:P_(e)?"-0":e}}function MI(t){return{integerValue:""+t}}function FI(t,e){return D_(e)?MI(e):LI(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UI=function(){this._=void 0};function jI(t,e,n){return t instanceof BI?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof KI?WI(t,e):t instanceof HI?zI(t,e):function(t,e){var n=VI(t,e),r=QI(n)+QI(t.A);return K_(n)&&K_(t.A)?MI(r):LI(t.R,r)}(t,e);var r,i,o}function qI(t,e,n){return t instanceof KI?WI(t,e):t instanceof HI?zI(t,e):n}function VI(t,e){return t instanceof GI?K_(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var BI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e}(UI),KI=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Ou(e,t),e}(UI);function WI(t,e){for(var n=YI(e),r=function(t){n.some((function(e){return M_(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var HI=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Ou(e,t),e}(UI);function zI(t,e){for(var n=YI(e),r=function(t){n=n.filter((function(e){return!M_(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var GI=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Ou(e,t),e}(UI);function QI(t){return S_(t.integerValue||t.doubleValue)}function YI(t){return W_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $I=function(t,e){this.field=t,this.transform=e},XI=function(t,e){this.version=t,this.transformResults=e},JI=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ZI(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var tT=function(){};function eT(t,e,n){var r,i,o,s,a;t instanceof sT?(i=e,o=n,s=(r=t).value.clone(),a=cT(r.fieldTransforms,i,o.transformResults),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()):t instanceof aT?function(t,e,n){if(ZI(t.precondition,e)){var r=cT(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(uT(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function nT(t,e,n){var r;t instanceof sT?function(t,e,n){if(ZI(t.precondition,e)){var r=t.value.clone(),i=lT(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(oT(e),r).setHasLocalMutations()}}(t,e,n):t instanceof aT?function(t,e,n){if(ZI(t.precondition,e)){var r=lT(t.fieldTransforms,n,e),i=e.data;i.setAll(uT(t)),i.setAll(r),e.convertToFoundDocument(oT(e),i).setHasLocalMutations()}}(t,e,n):(r=e,ZI(t.precondition,r)&&r.convertToNoDocument(p_.min()))}function rT(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=VI(o.transform,s||null);null!=a&&(null==n&&(n=Y_.empty()),n.set(o.field,a))}return n||null}function iT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&h_(n,r,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof KI&&o instanceof KI||i instanceof HI&&o instanceof HI?h_(i.elements,o.elements,M_):i instanceof GI&&o instanceof GI?M_(i.A,o.A):i instanceof BI&&o instanceof BI);var n,r,i,o}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function oT(t){return t.isFoundDocument()?t.version:p_.min()}var sT=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Ou(e,t),e}(tT),aT=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Ou(e,t),e}(tT);function uT(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function cT(t,e,n){var r=new Map;s_(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,qI(s,a,n[i]))}return r}function lT(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,jI(a,u,e))}return r}var hT,fT,dT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Ou(e,t),e}(tT),pT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Ou(e,t),e}(tT),vT=function(t){this.count=t};function gT(t){switch(t){case Xw.OK:return o_();case Xw.CANCELLED:case Xw.UNKNOWN:case Xw.DEADLINE_EXCEEDED:case Xw.RESOURCE_EXHAUSTED:case Xw.INTERNAL:case Xw.UNAVAILABLE:case Xw.UNAUTHENTICATED:return!1;case Xw.INVALID_ARGUMENT:case Xw.NOT_FOUND:case Xw.ALREADY_EXISTS:case Xw.PERMISSION_DENIED:case Xw.FAILED_PRECONDITION:case Xw.ABORTED:case Xw.OUT_OF_RANGE:case Xw.UNIMPLEMENTED:case Xw.DATA_LOSS:return!0;default:return o_()}}function mT(t){if(void 0===t)return n_("GRPC error has no .code"),Xw.UNKNOWN;switch(t){case hT.OK:return Xw.OK;case hT.CANCELLED:return Xw.CANCELLED;case hT.UNKNOWN:return Xw.UNKNOWN;case hT.DEADLINE_EXCEEDED:return Xw.DEADLINE_EXCEEDED;case hT.RESOURCE_EXHAUSTED:return Xw.RESOURCE_EXHAUSTED;case hT.INTERNAL:return Xw.INTERNAL;case hT.UNAVAILABLE:return Xw.UNAVAILABLE;case hT.UNAUTHENTICATED:return Xw.UNAUTHENTICATED;case hT.INVALID_ARGUMENT:return Xw.INVALID_ARGUMENT;case hT.NOT_FOUND:return Xw.NOT_FOUND;case hT.ALREADY_EXISTS:return Xw.ALREADY_EXISTS;case hT.PERMISSION_DENIED:return Xw.PERMISSION_DENIED;case hT.FAILED_PRECONDITION:return Xw.FAILED_PRECONDITION;case hT.ABORTED:return Xw.ABORTED;case hT.OUT_OF_RANGE:return Xw.OUT_OF_RANGE;case hT.UNIMPLEMENTED:return Xw.UNIMPLEMENTED;case hT.DATA_LOSS:return Xw.DATA_LOSS;default:return o_()}}(fT=hT||(hT={}))[fT.OK=0]="OK",fT[fT.CANCELLED=1]="CANCELLED",fT[fT.UNKNOWN=2]="UNKNOWN",fT[fT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fT[fT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fT[fT.NOT_FOUND=5]="NOT_FOUND",fT[fT.ALREADY_EXISTS=6]="ALREADY_EXISTS",fT[fT.PERMISSION_DENIED=7]="PERMISSION_DENIED",fT[fT.UNAUTHENTICATED=16]="UNAUTHENTICATED",fT[fT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fT[fT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fT[fT.ABORTED=10]="ABORTED",fT[fT.OUT_OF_RANGE=11]="OUT_OF_RANGE",fT[fT.UNIMPLEMENTED=12]="UNIMPLEMENTED",fT[fT.INTERNAL=13]="INTERNAL",fT[fT.UNAVAILABLE=14]="UNAVAILABLE",fT[fT.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var yT=function(){function t(t,e){this.comparator=t,this.root=e||wT.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wT.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wT.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new bT(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new bT(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new bT(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new bT(this.root,t,this.comparator,!0)},t}(),bT=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),wT=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw o_();if(this.right.isRed())throw o_();var t=this.left.check();if(t!==this.right.check())throw o_();return t+(this.isRed()?0:1)},t}();wT.EMPTY=null,wT.RED=!0,wT.BLACK=!1,wT.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw o_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw o_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw o_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw o_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw o_()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new wT(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _T=function(){function t(t){this.comparator=t,this.data=new yT(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new IT(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new IT(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),IT=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),TT=new yT(O_.comparator);function ET(){return TT}var AT=new yT(O_.comparator);function ST(){return AT}var kT=new yT(O_.comparator);function CT(){return kT}var xT=new _T(O_.comparator);function NT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=xT,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var RT=new _T(l_);function PT(){return RT}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DT=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,OT.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(p_.min(),r,PT(),ET(),NT())},t}(),OT=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(T_.EMPTY_BYTE_STRING,n,NT(),NT(),NT())},t}(),LT=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},MT=function(t,e){this.targetId=t,this.V=e},FT=function(t,e,n,r){void 0===n&&(n=T_.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},UT=function(){function t(){this.S=0,this.D=VT(),this.C=T_.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=NT(),e=NT(),n=NT();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:o_()}})),new OT(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=VT()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),jT=function(){function t(t){this.W=t,this.G=new Map,this.H=ET(),this.J=qT(),this.Y=new _T(l_)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:o_()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(nI(i))if(0===n){var o=new O_(i.path);this.tt(e,o,X_.newNoDocument(o,p_.min()))}else s_(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&nI(o.target)){var s=new O_(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,X_.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=NT();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new DT(t,n,this.Y,this.H,r);return this.H=ET(),this.J=qT(),this.Y=new _T(l_),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new UT,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new _T(l_),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||e_("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new UT),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function qT(){return new yT(O_.comparator)}function VT(){return new yT(O_.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BT={asc:"ASCENDING",desc:"DESCENDING"},KT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WT=function(t,e){this.databaseId=t,this.I=e};function HT(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function zT(t,e){return t.I?e.toBase64():e.toUint8Array()}function GT(t,e){return HT(t,e.toTimestamp())}function QT(t){return s_(!!t),p_.fromTimestamp((e=A_(t),new d_(e.seconds,e.nanos)));var e}function YT(t,e){return(n=t,new b_(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function $T(t){var e=b_.fromString(t);return s_(wE(e)),e}function XT(t,e){return YT(t.databaseId,e.path)}function JT(t,e){var n=$T(e);if(n.get(1)!==t.databaseId.projectId)throw new Jw(Xw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Jw(Xw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O_(nE(n))}function ZT(t,e){return YT(t.databaseId,e)}function tE(t){var e=$T(t);return 4===e.length?b_.emptyPath():nE(e)}function eE(t){return new b_(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nE(t){return s_(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function rE(t,e,n){return{name:XT(t,e),fields:n.value.mapValue.fields}}function iE(t,e,n){var r=JT(t,e.name),i=QT(e.updateTime),o=new Y_({mapValue:{fields:e.fields}}),s=X_.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function oE(t,e){var n,r,i;if(e instanceof sT)n={update:rE(t,e.key,e.value)};else if(e instanceof dT)n={delete:XT(t,e.key)};else if(e instanceof aT)n={update:rE(t,e.key,e.data),updateMask:bE(e.fieldMask)};else{if(!(e instanceof pT))return o_();n={verify:XT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof BI)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof KI)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof HI)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof GI)return{fieldPath:e.field.canonicalString(),increment:n.A};throw o_()}(0,t)}))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(i=e.precondition).updateTime?{updateTime:GT(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:o_())),n}function sE(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?JI.updateTime(QT(n.updateTime)):void 0!==n.exists?JI.exists(n.exists):JI.none():JI.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)s_("REQUEST_TIME"===e.setToServerValue),n=new BI;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new KI(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new HI(i)}else"increment"in e?n=new GI(t,e.increment):o_();var o=__.fromServerFormat(e.fieldPath);return new $I(o,n)}(t,e)})):[];if(e.update){e.update.name;var o=JT(t,e.update.name),s=new Y_({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new I_(e.map((function(t){return __.fromServerFormat(t)})))}(e.updateMask);return new aT(o,s,a,r,i)}return new sT(o,s,r,i)}if(e.delete){var u=JT(t,e.delete);return new dT(u,r)}if(e.verify){var c=JT(t,e.verify);return new pT(c,r)}return o_()}function aE(t,e){return{documents:[ZT(t,e.path)]}}function uE(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ZT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ZT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(z_(t.value))return{unaryFilter:{field:vE(t.field),op:"IS_NAN"}};if(H_(t.value))return{unaryFilter:{field:vE(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(z_(t.value))return{unaryFilter:{field:vE(t.field),op:"IS_NOT_NAN"}};if(H_(t.value))return{unaryFilter:{field:vE(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vE(t.field),op:pE(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:vE((e=t).field),direction:dE(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.I||R_(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=hE(e.startAt)),e.endAt&&(n.structuredQuery.endAt=hE(e.endAt)),n}function cE(t){var e=tE(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){s_(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=lE(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new pI(gE((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,l=null;n.limit&&(u=n.limit,l=R_(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=fE(n.startAt));var f=null;return n.endAt&&(f=fE(n.endAt)),bI(e,i,a,s,l,"F",h,f)}function lE(t){return t?void 0!==t.unaryFilter?[yE(t)]:void 0!==t.fieldFilter?[mE(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return lE(t)})).reduce((function(t,e){return t.concat(e)})):o_():[]}function hE(t){return{before:t.before,values:t.position}}function fE(t){var e=!!t.before,n=t.values||[];return new fI(n,e)}function dE(t){return BT[t]}function pE(t){return KT[t]}function vE(t){return{fieldPath:t.canonicalString()}}function gE(t){return __.fromServerFormat(t.fieldPath)}function mE(t){return rI.create(gE(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return o_()}}(t.fieldFilter.op),t.fieldFilter.value)}function yE(t){switch(t.unaryFilter.op){case"IS_NAN":var e=gE(t.unaryFilter.field);return rI.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=gE(t.unaryFilter.field);return rI.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gE(t.unaryFilter.field);return rI.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gE(t.unaryFilter.field);return rI.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return o_()}}function bE(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function wE(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=TE(e)),e=IE(t.get(n),e);return TE(e)}function IE(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function TE(t){return t+""}function EE(t){var e=t.length;if(s_(e>=2),2===e)return s_(""===t.charAt(0)&&""===t.charAt(1)),b_.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&o_(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:o_()}o=s+2}return new b_(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AE=function(t,e){this.seconds=t,this.nanoseconds=e},SE=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};SE.store="owner",SE.key="owner";var kE=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};kE.store="mutationQueues",kE.keyPath="userId";var CE=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};CE.store="mutations",CE.keyPath="batchId",CE.userMutationsIndex="userMutationsIndex",CE.userMutationsKeyPath=["userId","batchId"];var xE=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,_E(e)]},t.key=function(t,e,n){return[t,_E(e),n]},t}();xE.store="documentMutations",xE.PLACEHOLDER=new xE;var NE=function(t,e){this.path=t,this.readTime=e},RE=function(t,e){this.path=t,this.version=e},PE=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};PE.store="remoteDocuments",PE.readTimeIndex="readTimeIndex",PE.readTimeIndexPath="readTime",PE.collectionReadTimeIndex="collectionReadTimeIndex",PE.collectionReadTimeIndexPath=["parentPath","readTime"];var DE=function(t){this.byteSize=t};DE.store="remoteDocumentGlobal",DE.key="remoteDocumentGlobalKey";var OE=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};OE.store="targets",OE.keyPath="targetId",OE.queryTargetsIndexName="queryTargetsIndex",OE.queryTargetsKeyPath=["canonicalId","targetId"];var LE=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};LE.store="targetDocuments",LE.keyPath=["targetId","path"],LE.documentTargetsIndex="documentTargetsIndex",LE.documentTargetsKeyPath=["path","targetId"];var ME=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ME.key="targetGlobalKey",ME.store="targetGlobal";var FE=function(t,e){this.collectionId=t,this.parent=e};FE.store="collectionParents",FE.keyPath=["collectionId","parent"];var UE=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};UE.store="clientMetadata",UE.keyPath="clientId";var jE=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};jE.store="bundles",jE.keyPath="bundleId";var qE=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};qE.store="namedQueries",qE.keyPath="name";var VE=qu(qu([],qu(qu([],qu(qu([],qu(qu([],[kE.store,CE.store,xE.store,PE.store,OE.store,SE.store,ME.store,LE.store]),[UE.store])),[DE.store])),[FE.store])),[jE.store,qE.store]),BE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",KE=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),WE=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},HE=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&o_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),zE=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new WE,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new YE(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=tA(e.target.error);n.ft.reject(new YE(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(t){throw new YE(n,t)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(e_("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new XE(e)},t}(),GE=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Ju())&&n_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return e_("SimpleDb","Removing database:",t),JE(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Ju(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production"})||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Mu(this,void 0,void 0,(function(){var e,n=this;return Fu(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(e_("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new YE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Jw(Xw.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new YE(t,n))},i.onupgradeneeded=function(t){e_("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){e_("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Mu(this,void 0,void 0,(function(){var i,o,s,a,u;return Fu(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Fu(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=zE.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),HE.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,e_("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),QE=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return JE(this.Pt.delete())},t}(),YE=function(t){function e(e,n){var r=this;return(r=t.call(this,Xw.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Ou(e,t),e}(Jw);function $E(t){return"IndexedDbTransactionError"===t.name}var XE=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(e_("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(e_("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),JE(n)},t.prototype.add=function(t){return e_("SimpleDb","ADD",this.store.name,t,t),JE(this.store.add(t))},t.prototype.get=function(t){var e=this;return JE(this.store.get(t)).next((function(n){return void 0===n&&(n=null),e_("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return e_("SimpleDb","DELETE",this.store.name,t),JE(this.store.delete(t))},t.prototype.count=function(){return e_("SimpleDb","COUNT",this.store.name),JE(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){e_("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new HE((function(n,r){e.onerror=function(t){var e=tA(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new HE((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new QE(i),s=e(i.primaryKey,i.value,o);if(s instanceof HE){var a=s.catch((function(t){return o.done(),HE.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return HE.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function JE(t){return new HE((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=tA(t.target.error);n(e)}}))}var ZE=!1;function tA(t){var e=GE._t(Ju());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Jw("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ZE||(ZE=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eA=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Ou(e,t),e}(KE);function nA(t,e){var n=a_(t);return GE.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rA=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&eT(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&nT(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&nT(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(p_.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),NT())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&h_(this.mutations,t.mutations,(function(t,e){return iT(t,e)}))&&h_(this.baseMutations,t.baseMutations,(function(t,e){return iT(t,e)}))},t}(),iA=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){s_(e.mutations.length===r.length);for(var i=CT(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),oA=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=p_.min()),void 0===o&&(o=p_.min()),void 0===s&&(s=T_.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),sA=function(t){this.Lt=t};function aA(t,e){if(e.document)return iE(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=O_.fromSegments(e.noDocument.path),r=fA(e.noDocument.readTime),i=X_.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=O_.fromSegments(e.unknownDocument.path);return r=fA(e.unknownDocument.version),X_.newUnknownDocument(o,r)}return o_()}function uA(t,e,n){var r,i,o=cA(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var a={name:XT(r=t.Lt,(i=e).key),fields:i.data.value.mapValue.fields,updateTime:HT(r,i.version.toTimestamp())},u=e.hasCommittedMutations;return new PE(null,null,a,u,o,s)}if(e.isNoDocument()){var c=e.key.path.toArray(),l=hA(e.version);return u=e.hasCommittedMutations,new PE(null,new NE(c,l),null,u,o,s)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),f=hA(e.version);return new PE(new RE(h,f),null,null,!0,o,s)}return o_()}function cA(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function lA(t){var e=new d_(t[0],t[1]);return p_.fromTimestamp(e)}function hA(t){var e=t.toTimestamp();return new AE(e.seconds,e.nanoseconds)}function fA(t){var e=new d_(t.seconds,t.nanoseconds);return p_.fromTimestamp(e)}function dA(t,e){for(var n=(e.baseMutations||[]).map((function(e){return sE(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return sE(t.Lt,e)})),a=d_.fromMillis(e.localWriteTimeMs);return new rA(e.batchId,a,n,s)}function pA(t){var e,n,r=fA(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?fA(t.lastLimboFreeSnapshotVersion):p_.min();return void 0!==t.query.documents?(s_(1===(n=t.query).documents.length),e=kI(wI(tE(n.documents[0])))):e=kI(cE(t.query)),new oA(e,t.targetId,0,t.lastListenSequenceNumber,r,i,T_.fromBase64String(t.resumeToken))}function vA(t,e){var n,r=hA(e.snapshotVersion),i=hA(e.lastLimboFreeSnapshotVersion);n=nI(e.target)?aE(t.Lt,e.target):uE(t.Lt,e.target);var o=e.resumeToken.toBase64();return new OE(e.targetId,tI(e.target),r,o,e.sequenceNumber,i,n)}function gA(t){var e=cE({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?CI(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mA=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return yA(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:fA(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return yA(t).put({bundleId:(n=e).id,createTime:hA(QT(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return bA(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:gA(e.bundledQuery),readTime:fA(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return bA(t).put({name:(n=e).name,readTime:hA(QT(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function yA(t){return nA(t,jE.store)}function bA(t){return nA(t,qE.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wA=function(){function t(){this.Bt=new _A}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),HE.resolve()},t.prototype.getCollectionParents=function(t,e){return HE.resolve(this.Bt.getEntries(e))},t}(),_A=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new _T(b_.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new _T(b_.comparator)).toArray()},t}(),IA=function(){function t(){this.qt=new _A}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:_E(i)};return TA(t).put(o)}return HE.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[f_(e),""],!1,!0);return TA(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(EE(o.parent))}return n}))},t}();function TA(t){return nA(t,FE.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AA=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e,n){var r=t.store(CE.store),i=t.store(xE.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){s_(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=xE.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return HE.waitFor(o).next((function(){return c}))}function kA(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw o_();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */AA.DEFAULT_COLLECTION_PERCENTILE=10,AA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,AA.DEFAULT=new AA(41943040,AA.DEFAULT_COLLECTION_PERCENTILE,AA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),AA.DISABLED=new AA(-1,0,0);var CA=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return s_(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return NA(t).$t({index:CE.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=RA(t),s=NA(t);return s.add({}).next((function(a){s_("number"==typeof a);for(var u=new rA(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return oE(t.Lt,e)})),i=n.mutations.map((function(e){return oE(t.Lt,e)}));return new CE(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new _T((function(t,e){return l_(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=xE.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(v,xE.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),HE.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return NA(t).get(e).next((function(t){return t?(s_(t.userId===n.userId),dA(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?HE.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return NA(t).$t({index:CE.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(s_(e.batchId>=r),o=dA(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return NA(t).$t({index:CE.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return NA(t).Nt(CE.userMutationsIndex,n).next((function(t){return t.map((function(t){return dA(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=xE.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return RA(t).$t({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=EE(u);if(a===n.userId&&e.path.isEqual(l))return NA(t).get(c).next((function(t){if(!t)throw o_();s_(t.userId===n.userId),o.push(dA(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new _T(l_),i=[];return e.forEach((function(e){var o=xE.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=RA(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=EE(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),HE.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=xE.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new _T(l_);return RA(t).$t({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=EE(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(NA(t).get(e).next((function(t){if(null===t)throw o_();s_(t.userId===n.userId),r.push(dA(n.R,t))})))})),HE.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return SA(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),HE.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return HE.resolve();var r=IDBKeyRange.lowerBound(xE.prefixForUser(e.userId)),i=[];return RA(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=EE(t[1]);i.push(o)}else r.done()})).next((function(){s_(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return xA(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return PA(t).get(this.userId).next((function(t){return t||new kE(e.userId,-1,"")}))},t}();function xA(t,e,n){var r=xE.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return RA(t).$t({range:o,kt:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function NA(t){return nA(t,CE.store)}function RA(t){return nA(t,xE.store)}function PA(t){return nA(t,kE.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DA=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),OA=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new DA(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return p_.fromTimestamp(new d_(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return LA(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return s_(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return LA(t).$t((function(s,a){var u=pA(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return HE.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return LA(t).$t((function(t,n){var r=pA(n);e(r)}))},t.prototype.Xt=function(t){return MA(t).get(ME.key).next((function(t){return s_(null!==t),t}))},t.prototype.Zt=function(t,e){return MA(t).put(ME.key,e)},t.prototype.te=function(t,e){return LA(t).put(vA(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=tI(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return LA(t).$t({range:r,index:OE.queryTargetsIndexName},(function(t,n,r){var o=pA(n);eI(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=FA(t);return e.forEach((function(e){var s=_E(e.path);i.push(o.put(new LE(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),HE.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=FA(t);return HE.forEach(e,(function(e){var o=_E(e.path);return HE.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=FA(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=FA(t),i=NT();return r.$t({range:n,kt:!0},(function(t,e,n){var r=EE(t[1]),o=new O_(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=_E(e.path),r=IDBKeyRange.bound([n],[f_(n)],!1,!0),i=0;return FA(t).$t({index:LE.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return LA(t).get(e).next((function(t){return t?pA(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){return nA(t,OE.store)}function MA(t){return nA(t,ME.store)}function FA(t){return nA(t,LE.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(e){if(t.code!==Xw.FAILED_PRECONDITION||t.message!==BE)throw t;return e_("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=l_(n,i);return 0===s?l_(r,o):s}var qA=function(){function t(t){this.ne=t,this.buffer=new _T(jA),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();jA(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),VA=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;e_("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Mu(e,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return $E(e=n.sent())?(e_("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,UA(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),BA=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return HE.resolve($w.o);var r=new qA(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(e_("LruGarbageCollector","Garbage collection skipped; disabled"),HE.resolve(EA)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(e_("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),EA):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(e_("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),t_()<=Oc.DEBUG&&e_("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),HE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),KA=function(){function t(t,e){this.db=t,this.garbageCollector=new BA(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return WA(t,n)},t.prototype.removeReference=function(t,e,n){return WA(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return WA(t,e)},t.prototype._e=function(t,e){return r=e,i=!1,PA(n=t).Ot((function(t){return xA(n,t,r).next((function(t){return t&&(i=!0),HE.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),FA(t).delete([0,_E(s.path)])}))}));i.push(u)}})).next((function(){return HE.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return WA(t,e)},t.prototype.we=function(t,e){var n,r=FA(t),i=$w.o;return r.$t({index:LE.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==$w.o&&e(new O_(EE(n)),i),i=a,n=s):i=$w.o})).next((function(){i!==$w.o&&e(new O_(EE(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function WA(t,e){return FA(t).put((n=e,r=t.currentSequenceNumber,new LE(0,_E(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HA=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){g_(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return m_(this.inner)},t}(),zA=function(){function t(){this.changes=new HA((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:p_.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:X_.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?HE.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),GA=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return $A(t).put(XA(e),n)},t.prototype.removeEntry=function(t,e){var n=$A(t),r=XA(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return $A(t).get(XA(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return $A(t).get(XA(e)).next((function(t){return{document:n.ye(e,t),size:kA(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=ET();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=ET(),i=new yT(O_.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,kA(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return HE.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return $A(t).$t({range:r},(function(t,e,r){for(var s=O_.fromSegments(t);o&&O_.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=ET(),o=e.path.length+1,s={};if(n.isEqual(p_.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=cA(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=PE.collectionReadTimeIndex}return $A(t).$t(s,(function(t,n,s){if(t.length===o){var a=aA(r.R,n);e.path.isPrefixOf(a.key.path)?PI(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new QA(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return YA(t).get(DE.key).next((function(t){return s_(!!t),t}))},t.prototype.me=function(t,e){return YA(t).put(DE.key,e)},t.prototype.ye=function(t,e){if(e){var n=aA(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(p_.min()))return n}return X_.newInvalidDocument(t)},t}(),QA=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new HA((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Ou(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new _T((function(t,e){return l_(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=uA(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=kA(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=uA(e.Ie.R,X_.newNoDocument(o,p_.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),HE.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(zA);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){return nA(t,DE.store)}function $A(t){return nA(t,PE.store)}function XA(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JA=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;s_(n<r&&n>=0&&r<=11);var o=new zE("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(SE.store),function(t){t.createObjectStore(kE.store,{keyPath:kE.keyPath}),t.createObjectStore(CE.store,{keyPath:CE.keyPath,autoIncrement:!0}).createIndex(CE.userMutationsIndex,CE.userMutationsKeyPath,{unique:!0}),t.createObjectStore(xE.store)}(t),ZA(t),function(t){t.createObjectStore(PE.store)}(t));var s=HE.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(LE.store),t.deleteObjectStore(OE.store),t.deleteObjectStore(ME.store)}(t),ZA(t)),s=s.next((function(){return function(t){var e=t.store(ME.store),n=new ME(0,0,p_.min().toTimestamp(),0);return e.put(ME.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(CE.store).Nt().next((function(n){t.deleteObjectStore(CE.store),t.createObjectStore(CE.store,{keyPath:CE.keyPath,autoIncrement:!0}).createIndex(CE.userMutationsIndex,CE.userMutationsKeyPath,{unique:!0});var r=e.store(CE.store),i=n.map((function(t){return r.put(t)}));return HE.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(UE.store,{keyPath:UE.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(DE.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(PE.store);e.createIndex(PE.readTimeIndex,PE.readTimeIndexPath,{unique:!1}),e.createIndex(PE.collectionReadTimeIndex,PE.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(jE.store,{keyPath:jE.keyPath})}(t),function(t){t.createObjectStore(qE.store,{keyPath:qE.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(PE.store).$t((function(t,n){e+=kA(n)})).next((function(){var n=new DE(e);return t.store(DE.store).put(DE.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(kE.store),r=t.store(CE.store);return n.Nt().next((function(n){return HE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(CE.userMutationsIndex,i).next((function(r){return HE.forEach(r,(function(r){s_(r.userId===n.userId);var i=dA(e.R,r);return SA(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(LE.store),n=t.store(PE.store);return t.store(ME.store).get(ME.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new b_(n),s=[0,_E(o)];r.push(e.get(s).next((function(n){return n?HE.resolve():(r=o,e.put(new LE(0,_E(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return HE.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(FE.store,{keyPath:FE.keyPath});var n=e.store(FE.store),r=new _A,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:_E(i)})}};return e.store(PE.store).$t({kt:!0},(function(t,e){var n=new b_(t);return i(n.popLast())})).next((function(){return e.store(xE.store).$t({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],EE(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(OE.store);return n.$t((function(t,r){var i=pA(r),o=vA(e.R,i);return n.put(o)}))},t}();function ZA(t){t.createObjectStore(LE.store,{keyPath:LE.keyPath}).createIndex(LE.documentTargetsIndex,LE.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(OE.store,{keyPath:OE.keyPath}).createIndex(OE.queryTargetsIndexName,OE.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ME.store)}var tS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eS=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Jw(Xw.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var h,f;this.referenceDelegate=new KA(this,i),this.Le=n+"main",this.R=new sA(u),this.Be=new GE(this.Le,11,new JA(this.R)),this.qe=new OA(this.referenceDelegate,this.R),this.Ut=new IA,this.Ue=(h=this.R,f=this.Ut,new GA(h,f)),this.Qe=new mA,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&n_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Jw(Xw.FAILED_PRECONDITION,tS);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new $w(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Mu(e,void 0,void 0,(function(){return Fu(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Mu(e,void 0,void 0,(function(){return Fu(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Mu(e,void 0,void 0,(function(){return Fu(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return rS(e).put(new UE(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if($E(e))return e_("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return e_("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return nS(t).get(SE.key).next((function(t){return HE.resolve(e.tn(t))}))},t.prototype.en=function(t){return rS(t).delete(this.clientId)},t.prototype.nn=function(){return Mu(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Fu(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=nA(t,UE.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return HE.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?HE.resolve(!0):nS(t).get(SE.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Jw(Xw.FAILED_PRECONDITION,tS);return!1}}return!(!e.networkEnabled||!e.inForeground)||rS(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&e_("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Mu(this,void 0,void 0,(function(){var t=this;return Fu(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[SE.store,UE.store],(function(e){var n=new eA(e,$w.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return rS(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return CA.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;e_("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,VE,(function(o){return i=new eA(o,r.Ne?r.Ne.next():$w.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw n_("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Jw(Xw.FAILED_PRECONDITION,BE);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return nS(t).get(SE.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Jw(Xw.FAILED_PRECONDITION,tS)}))},t.prototype.Ze=function(t){var e=new SE(this.clientId,this.allowTabSynchronization,Date.now());return nS(t).put(SE.key,e)},t.yt=function(){return GE.yt()},t.prototype.Xe=function(t){var e=this,n=nS(t);return n.get(SE.key).next((function(t){return e.tn(t)?(e_("IndexedDbPersistence","Releasing primary lease."),n.delete(SE.key)):HE.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(n_("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return e_("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return n_("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){n_("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function nS(t){return nA(t,SE.store)}function rS(t){return nA(t,UE.store)}function iS(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var oS=function(t,e){this.progress=t,this.wn=e},sS=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,O_.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):AI(e)?this.In(t,e,n):this.An(t,e,n);var r},t.prototype.Tn=function(t,e){return this.mn(t,new O_(e)).next((function(t){var e=ST();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=ST();return this.Ut.getCollectionParents(t,i).next((function(s){return HE.forEach(s,(function(s){var a,u,c=(a=e,u=s.child(i),new yI(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));return r.An(t,c,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=X_.newInvalidDocument(c),r=r.insert(c,l)),nT(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){PI(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=NT(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof aT&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),aS=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=NT(),i=NT(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),uS=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(p_.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(i){var s=o.Cn(e,i);return(_I(e)||II(e))&&o.Nn(e.limitType,s,r,n)?o.Dn(t,e):(t_()<=Oc.DEBUG&&e_("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),RI(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new _T(DI(t));return e.forEach((function(e,r){PI(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return t_()<=Oc.DEBUG&&e_("QueryEngine","Using full collection scan to execute query:",RI(e)),this.Sn.getDocumentsMatchingQuery(t,e,p_.min())},t}(),cS=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new yT(l_),this.kn=new HA((function(t){return tI(t)}),eI),this.$n=p_.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new sS(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t,e,n,r){return new cS(t,e,n,r)}function hS(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o;return Fu(this,(function(s){switch(s.label){case 0:return n=a_(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new sS(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=NT(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];s=s.add(y.key)}}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function fS(t,e){var n=a_(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,l=e.batch.keys(),h=n.On.newChangeBuffer({trackRemovals:!0});return(r=n,i=t,o=e,s=h,a=o.batch,u=a.keys(),c=HE.resolve(),u.forEach((function(t){c=c.next((function(){return s.getEntry(i,t)})).next((function(e){var n=o.docVersions.get(t);s_(null!==n),e.version.compareTo(n)<0&&(a.applyToRemoteDocument(e,o),e.isValidDocument()&&s.addEntry(e,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,a)}))).next((function(){return h.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,l)}))}))}function dS(t){var e=a_(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function pS(t,e){var n=a_(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a,u,c,l=i.get(o);if(l){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var h=e.resumeToken;if(h.approximateByteSize()>0){var f=l.withResumeToken(h,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,f),a=l,c=e,s_((u=f).resumeToken.approximateByteSize()>0),(0===a.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&s.push(n.qe.updateTargetData(t,f))}}}));var a=ET();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(vS(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(p_.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return HE.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function vS(t,e,n,r,i){var o=NT();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=ET();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(p_.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):e_("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function gS(t,e){var n=a_(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function mS(t,e){var n=a_(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,HE.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new oA(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function yS(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o,s;return Fu(this,(function(a){switch(a.label){case 0:r=a_(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!$E(s=a.sent()))throw s;return e_("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function bS(t,e,n){var r=a_(t),i=p_.min(),o=NT();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(s=r,a=t,u=kI(e),c=a_(s),l=c.kn.get(u),void 0!==l?HE.resolve(c.Fn.get(l)):c.qe.getTargetData(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:p_.min(),n?o:NT())})).next((function(t){return{documents:t,Bn:o}}));var s,a,u,c,l}))}function wS(t,e){var n=a_(t),r=a_(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function _S(t){var e=a_(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.On,r=t,i=e.$n,o=a_(n),s=ET(),a=cA(i),u=$A(r),c=IDBKeyRange.lowerBound(a,!0),u.$t({index:PE.readTimeIndex,range:c},(function(t,e){var n=aA(o.R,e);s=s.insert(n.key,n),a=e.readTime})).next((function(){return{wn:s,readTime:lA(a)}}));var n,r,i,o,s,a,u,c})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function IS(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){return[2,(e=a_(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=$A(t),n=p_.min(),e.$t({index:PE.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=lA(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.$n=t}))]}))}))}function TS(t,e,n,r){return Mu(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,d;return Fu(this,(function(p){switch(p.label){case 0:for(i=a_(t),o=NT(),s=ET(),a=CT(),u=0,c=n;u<c.length;u++)l=c[u],h=e.qn(l.metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,mS(i,(v=r,kI(wI(b_.fromString("__bundle__/docs/"+v)))))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return vS(t,f,s,p_.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}var v}))}))}function ES(t,e,n){return void 0===n&&(n=NT()),Mu(this,void 0,void 0,(function(){var r,i;return Fu(this,(function(o){switch(o.label){case 0:return[4,mS(t,kI(gA(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=a_(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=QT(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(T_.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var AS=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return HE.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:QT(n.createTime)}),HE.resolve()},t.prototype.getNamedQuery=function(t,e){return HE.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(n=e).name,query:gA(n.bundledQuery),readTime:QT(n.readTime)}),HE.resolve();var n},t}(),SS=function(){function t(){this.Wn=new _T(kS.Gn),this.zn=new _T(kS.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new kS(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new kS(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new O_(new b_([])),r=new kS(n,t),i=new kS(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new O_(new b_([])),n=new kS(e,t),r=new kS(e,t+1),i=NT();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new kS(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),kS=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return O_.comparator(t.key,e.key)||l_(t.ns,e.ns)},t.Hn=function(t,e){return l_(t.ns,e.ns)||O_.comparator(t.key,e.key)},t}(),CS=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new _T(kS.Gn)}return t.prototype.checkEmpty=function(t){return HE.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new rA(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new kS(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return HE.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return HE.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return HE.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return HE.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return HE.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new kS(e,0),i=new kS(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),HE.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new _T(l_);return e.forEach((function(t){var e=new kS(t,0),i=new kS(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),HE.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;O_.isDocumentKey(i)||(i=i.child(""));var o=new kS(new O_(i),0),s=new _T(l_);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),HE.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;s_(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return HE.forEach(e.mutations,(function(i){var o=new kS(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new kS(e,0),r=this.rs.firstAfterOrEqual(n);return HE.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,HE.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),xS=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new yT(O_.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return HE.resolve(n?n.document.clone():X_.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=ET();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():X_.newInvalidDocument(t))})),HE.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=ET(),i=new O_(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||PI(e,c)&&(r=r.insert(c.key,c.clone()))}return HE.resolve(r)},t.prototype.fs=function(t,e){return HE.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new NS(this)},t.prototype.getSize=function(t){return HE.resolve(this.size)},t}(),NS=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Ou(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),HE.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(zA),RS=function(){function t(t){this.persistence=t,this.ds=new HA((function(t){return tI(t)}),eI),this.lastRemoteSnapshotVersion=p_.min(),this.highestTargetId=0,this.ws=0,this._s=new SS,this.targetCount=0,this.ys=DA.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),HE.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return HE.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return HE.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),HE.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),HE.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new DA(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,HE.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),HE.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,HE.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),HE.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return HE.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return HE.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),HE.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),HE.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),HE.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return HE.resolve(n)},t.prototype.containsKey=function(t,e){return HE.resolve(this._s.containsKey(e))},t}(),PS=function(){function t(t,e){var n,r=this;this.gs={},this.Ne=new $w(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new RS(this),this.Ut=new wA,this.Ue=(n=this.Ut,new xS(n,(function(t){return r.referenceDelegate.ps(t)}))),this.R=new sA(e),this.Qe=new AS(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new CS(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;e_("MemoryPersistence","Starting transaction:",t);var i=new DS(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return HE.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),DS=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Ou(e,t),e}(KE),OS=function(){function t(t){this.persistence=t,this.As=new SS,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw o_()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),HE.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),HE.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),HE.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return HE.forEach(this.vs,(function(r){var i=O_.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return HE.or([function(){return HE.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),LS=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t,e){return"firestore_clients_"+t+"_"+e}function FS(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function US(t,e){return"firestore_targets_"+t+"_"+e}LS.UNAUTHENTICATED=new LS(null),LS.GOOGLE_CREDENTIALS=new LS("google-credentials-uid"),LS.FIRST_PARTY=new LS("first-party-uid");var jS=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Jw(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(n_("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qS=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Jw(i.error.code,i.error.message)),o?new t(e,i.state,r):(n_("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),VS=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=PT(),s=0;i&&s<r.activeTargetIds.length;++s)i=D_(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(n_("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),BS=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(n_("SharedClientState","Failed to parse online state: "+e),null)},t}(),KS=function(){function t(){this.activeTargetIds=PT()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),WS=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new yT(l_),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=MS(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new KS),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Mu(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return Fu(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(MS(this.persistenceKey,r)))&&(o=VS.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)l=c[u],this.Fs(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(US(this.persistenceKey,t));if(n){var r=qS.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(US(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return e_("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){e_("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){e_("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(e_("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void n_("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Mu(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Fu(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=$w.o;if(null!=t)try{var n=JSON.parse(t);s_("number"==typeof n),e=n}catch(t){n_("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==$w.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new jS(this.currentUser,t,e,n),i=FS(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=FS(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=US(this.persistenceKey,t),i=new qS(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return VS.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jS.Vs(new LS(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return qS.Vs(r,e)},t.prototype.js=function(t){return BS.Vs(t)},t.prototype.ii=function(t){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(e_("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=PT();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),HS=function(){function t(){this.li=new KS,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new KS,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),zS=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),GS=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){e_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){e_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),QS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},YS=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),$S=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Ou(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new Yw;s.listenOnce(Ww.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Kw.NO_ERROR:var e=s.getResponseJson();e_("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Kw.TIMEOUT:e_("Connection",'RPC "'+t+'" timed out'),o(new Jw(Xw.DEADLINE_EXCEEDED,"Request time out"));break;case Kw.HTTP_ERROR:var n=s.getStatus();if(e_("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(Xw).indexOf(c)>=0?c:Xw.UNKNOWN);o(new Jw(a,r.message))}else o(new Jw(Xw.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Jw(Xw.UNAVAILABLE,"Connection failed."));break;default:o_()}}finally{e_("Connection",'RPC "'+t+'" completed.')}var u,c}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Uw,o=qy(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Zu()||nc()||Ju().indexOf("Electron/")>=0||((n=Ju()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0)||Ju().indexOf("MSAppHost/")>=0||ec()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");e_("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,l=!1,h=new YS({Ei:function(t){l?e_("Connection","Not sending because WebChannel is closed:",t):(c||(e_("Connection","Opening WebChannel transport."),u.open(),c=!0),e_("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,Qw.EventType.OPEN,(function(){l||e_("Connection","WebChannel transport opened.")})),f(u,Qw.EventType.CLOSE,(function(){l||(l=!0,e_("Connection","WebChannel transport closed"),h.Vi())})),f(u,Qw.EventType.ERROR,(function(t){l||(l=!0,r_("Connection","WebChannel transport errored:",t),h.Vi(new Jw(Xw.UNAVAILABLE,"The operation could not be completed")))})),f(u,Qw.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];s_(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){e_("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=hT[t];if(void 0!==e)return mT(e)}(o),a=i.message;void 0===s&&(s=Xw.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new Jw(s,a)),u.close()}else e_("Connection","WebChannel received:",n),h.Si(n)}})),f(o,Hw.STAT_EVENT,(function(t){t.stat===zw?e_("Connection","Detected buffering proxy"):t.stat===Gw&&e_("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);e_("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return e_("RestConnection","Received: ",t),t}),(function(e){throw r_("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.3",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=QS[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return"undefined"!=typeof window?window:null}function JS(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t){return new WT(t,!0)}var tk=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&e_("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),ek=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new tk(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Xw.RESOURCE_EXHAUSTED?(n_(e.toString()),n_("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Xw.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Jw(Xw.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Mu(t,void 0,void 0,(function(){return Fu(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return e_("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(e_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),nk=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Ou(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:o_(),o=e.targetChange.targetIds||[],s=function(t,e){return t.I?(s_(void 0===e||"string"==typeof e),T_.fromBase64String(e||"")):(s_(void 0===e||e instanceof Uint8Array),T_.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Xw.UNKNOWN:mT(t.code);return new Jw(e,t.message||"")}(u);n=new FT(i,o,s,a||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,o=JT(t,i.document.name),s=QT(i.document.updateTime);var u=new Y_({mapValue:{fields:i.document.fields}}),c=(a=X_.newFoundDocument(o,s,u),i.targetIds||[]),l=i.removedTargetIds||[];n=new LT(c,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,o=JT(t,i.document),s=i.readTime?QT(i.readTime):p_.min(),u=X_.newNoDocument(o,s),a=i.removedTargetIds||[],n=new LT([],a,u.key,u);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,o=JT(t,i.document),s=i.removedTargetIds||[],n=new LT([],s,o,null);else{if(!("filter"in e))return o_();e.filter;var h=e.filter;h.targetId,i=h.count||0,o=new vT(i),s=h.targetId,n=new MT(s,o)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return p_.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?p_.min():e.readTime?QT(e.readTime):p_.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=eE(this.R),o.addTarget=(e=this.R,i=(n=t).target,(r=nI(i)?{documents:aE(e,i)}:{query:uE(e,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=zT(e,n.resumeToken):n.snapshotVersion.compareTo(p_.min())>0&&(r.readTime=HT(e,n.snapshotVersion.toTimestamp())),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return o_()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=eE(this.R),e.removeTarget=t,this.cr(e)},e}(ek),rk=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Ou(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(s_(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(s_(void 0!==i),r.map((function(t){return n=i,(r=(e=t).updateTime?QT(e.updateTime):QT(n)).isEqual(p_.min())&&(r=QT(n)),new XI(r,e.transformResults||[]);var e,n,r}))):[]),n=QT(t.commitTime);return this.listener.Tr(n,e)}var r,i;return s_(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=eE(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return oE(e.R,t)}))};this.cr(n)},e}(ek),ik=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Ou(e,t),e.prototype.br=function(){if(this.Rr)throw new Jw(Xw.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Xw.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Jw(Xw.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Xw.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Jw(Xw.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),ok=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(n_(e),this.Vr=!1):e_("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),sk=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Mu(o,void 0,void 0,(function(){return Fu(this,(function(t){switch(t.label){case 0:return vk(this)?(e_("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return(e=a_(t)).Or.add(4),[4,uk(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,ak(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new ok(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){return Mu(this,void 0,void 0,(function(){var e,n;return Fu(this,(function(r){switch(r.label){case 0:if(!vk(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function uk(t){return Mu(this,void 0,void 0,(function(){var e,n;return Fu(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ck(t,e){var n=a_(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),pk(n)?dk(n):Nk(n).er()&&hk(n,e))}function lk(t,e){var n=a_(t),r=Nk(n);n.$r.delete(e),r.er()&&fk(n,e),0===n.$r.size&&(r.er()?r.ir():vk(n)&&n.Br.set("Unknown"))}function hk(t,e){t.qr.U(e.targetId),Nk(t).mr(e)}function fk(t,e){t.qr.U(e),Nk(t).yr(e)}function dk(t){t.qr=new jT({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Nk(t).start(),t.Br.Sr()}function pk(t){return vk(t)&&!Nk(t).tr()&&t.$r.size>0}function vk(t){return 0===a_(t).Or.size}function gk(t){t.qr=void 0}function mk(t){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(e){return t.$r.forEach((function(e,n){hk(t,e)})),[2]}))}))}function yk(t,e){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(n){return gk(t),pk(t)?(t.Br.Nr(e),dk(t)):t.Br.set("Unknown"),[2]}))}))}function bk(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o;return Fu(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof FT&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o;return Fu(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),e_("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,wk(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof LT?t.qr.X(e):e instanceof MT?t.qr.rt(e):t.qr.et(e),n.isEqual(p_.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,dS(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,(a=t,u=n,c=a.qr.ut(u),c.targetChanges.forEach((function(t,e){if(t.resumeToken.approximateByteSize()>0){var n=a.$r.get(e);n&&a.$r.set(e,n.withResumeToken(t.resumeToken,u))}})),c.targetMismatches.forEach((function(t){var e=a.$r.get(t);if(e){a.$r.set(t,e.withResumeToken(T_.EMPTY_BYTE_STRING,e.snapshotVersion)),fk(a,t);var n=new oA(e.target,t,1,e.sequenceNumber);hk(a,n)}})),a.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return e_("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,wk(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}var a,u,c}))}))}function wk(t,e,n){return Mu(this,void 0,void 0,(function(){var r=this;return Fu(this,(function(i){switch(i.label){case 0:if(!$E(e))throw e;return t.Or.add(1),[4,uk(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return dS(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Mu(r,void 0,void 0,(function(){return Fu(this,(function(e){switch(e.label){case 0:return e_("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,ak(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function _k(t,e){return e().catch((function(n){return wk(t,n,e)}))}function Ik(t){return Mu(this,void 0,void 0,(function(){var e,n,r,i,o;return Fu(this,(function(s){switch(s.label){case 0:e=a_(t),n=Rk(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!(vk(a=e)&&a.kr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,gS(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Rk(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,wk(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Tk(e)&&Ek(e),[2]}var a}))}))}function Tk(t){return vk(t)&&!Rk(t).tr()&&t.kr.length>0}function Ek(t){Rk(t).start()}function Ak(t){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(e){return Rk(t).Ar(),[2]}))}))}function Sk(t){return Mu(this,void 0,void 0,(function(){var e,n,r,i;return Fu(this,(function(o){for(e=Rk(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function kk(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i;return Fu(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=iA.from(r,e,n),[4,_k(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Ik(t)];case 2:return o.sent(),[2]}}))}))}function Ck(t,e){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(n){switch(n.label){case 0:return e&&Rk(t).pr?[4,function(t,e){return Mu(this,void 0,void 0,(function(){var n,r;return Fu(this,(function(i){switch(i.label){case 0:return gT(r=e.code)&&r!==Xw.ABORTED?(n=t.kr.shift(),Rk(t).sr(),[4,_k(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Ik(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Tk(t)&&Ek(t),[2]}}))}))}function xk(t,e){return Mu(this,void 0,void 0,(function(){var n;return Fu(this,(function(r){switch(r.label){case 0:return n=a_(t),e?(n.Or.delete(2),[4,ak(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,uk(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Nk(t){var e,n,r,i,o=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:mk.bind(null,t),Ri:yk.bind(null,t),_r:bk.bind(null,t)},(i=a_(e)).br(),new nk(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return Mu(o,void 0,void 0,(function(){return Fu(this,(function(n){switch(n.label){case 0:return e?(t.Ur.sr(),pk(t)?dk(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),gk(t),n.label=3;case 3:return[2]}}))}))}))),t.Ur}function Rk(t){var e,n,r,i,o=this;return t.Qr||(t.Qr=(e=t.datastore,n=t.asyncQueue,r={Ii:Ak.bind(null,t),Ri:Ck.bind(null,t),Ir:Sk.bind(null,t),Tr:kk.bind(null,t)},(i=a_(e)).br(),new rk(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return Mu(o,void 0,void 0,(function(){return Fu(this,(function(n){switch(n.label){case 0:return e?(t.Qr.sr(),[4,Ik(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:n.sent(),t.kr.length>0&&(e_("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}}))}))}))),t.Qr}var Pk=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new WE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jw(Xw.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Dk(t,e){if(n_("AsyncQueue",e+": "+t),$E(t))return new Jw(Xw.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ok=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||O_.comparator(e.key,n.key)}:function(t,e){return O_.comparator(t.key,e.key)},this.keyedMap=ST(),this.sortedSet=new yT(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Lk=function(){function t(){this.Kr=new yT(O_.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):o_():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Mk=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ok.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xI(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Fk=function(){this.Wr=void 0,this.listeners=[]},Uk=function(){this.queries=new HA((function(t){return NI(t)}),xI),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Fu(this,(function(c){switch(c.label){case 0:if(n=a_(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Fk),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Dk(a,"Initialization of query '"+RI(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Kk(n),[2]}}))}))}function qk(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s;return Fu(this,(function(a){return n=a_(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Vk(t,e){for(var n=a_(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);u.Wr=s}}r&&Kk(n)}function Bk(t,e,n){var r=a_(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Kk(t){t.Gr.forEach((function(t){t.next()}))}var Wk=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Mk(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Mk.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Hk=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),zk=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return JT(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?iE(this.R,t.document,!1):X_.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return QT(t)},t}(),Gk=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Qk(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new zk(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||NT()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Mu(this,void 0,void 0,(function(){var t,e,n,r,i;return Fu(this,(function(o){switch(o.label){case 0:return[4,TS(this.localStore,new zk(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,ES(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new oS(Object.assign({},this.progress),t))]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yk=function(t){this.key=t},$k=function(t){this.key=t},Xk=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=NT(),this.mutatedKeys=NT(),this.lo=DI(t),this.fo=new Ok(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Lk,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=_I(this.query)&&i.size===this.query.limit?i.last():null,c=II(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=PI(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),_I(this.query)||II(this.query))for(;s.size>this.query.limit;){var l=_I(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return o_()}})(n)-o(i)||r.lo(t.doc,e.doc);var n,i,o})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Mk(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Lk,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=NT(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new $k(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Yk(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=NT();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Mk.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Jk=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Zk=function(t){this.key=t,this.bo=!1},tC=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new HA((function(t){return NI(t)}),xI),this.Vo=new Map,this.So=new Set,this.Do=new yT(O_.comparator),this.Co=new Map,this.No=new SS,this.xo={},this.Fo=new Map,this.ko=DA.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function eC(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Fu(this,(function(u){switch(u.label){case 0:return n=NC(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,mS(n.localStore,kI(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,nC(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&ck(n.remoteStore,s),u.label=4;case 4:return[2,i]}}))}))}function nC(t,e,n,r){return Mu(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Fu(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Mu(this,void 0,void 0,(function(){var i,o,s;return Fu(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,bS(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(vC(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,bS(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Xk(e,i.Bn),s=o._o(i.documents),a=OT.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),vC(t,n,u.To),c=new Jk(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function rC(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i;return Fu(this,(function(o){switch(o.label){case 0:return n=a_(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!xI(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,yS(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),lk(n.remoteStore,r.targetId),dC(n,r.targetId)})).catch(UA)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return dC(n,r.targetId),[4,yS(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function iC(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o,s;return Fu(this,(function(a){switch(a.label){case 0:r=RC(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.localStore,c=e,h=a_(u),f=d_.now(),d=c.reduce((function(t,e){return t.add(e.key)}),NT()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return h.Mn.pn(t,d).next((function(e){l=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=rT(o,l.get(o.key));null!=s&&n.push(new aT(o.key,s,$_(s.value.mapValue),JI.exists(!0)))}return h._n.addMutationBatch(t,f,n,c)}))})).then((function(t){return t.applyToLocalDocumentSet(l),{batchId:t.batchId,changes:l}})))];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new yT(l_)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,yC(r,i.changes)];case 3:return a.sent(),[4,Ik(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Dk(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,l,h,f,d}))}))}function oC(t,e){return Mu(this,void 0,void 0,(function(){var n,r;return Fu(this,(function(i){switch(i.label){case 0:n=a_(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,pS(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(s_(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?s_(r.bo):t.removedDocuments.size>0&&(s_(r.bo),r.bo=!1))})),[4,yC(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,UA(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function sC(t,e,n){var r=a_(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=a_(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Kk(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function aC(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Fu(this,(function(c){switch(c.label){case 0:return(r=a_(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new yT(O_.comparator)).insert(o,X_.newNoDocument(o,p_.min())),a=NT().add(o),u=new DT(p_.min(),new Map,new _T(l_),s,a),[4,oC(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),mC(r),[3,4];case 2:return[4,yS(r.localStore,e,!1).then((function(){return dC(r,e,n)})).catch(UA)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function uC(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i;return Fu(this,(function(o){switch(o.label){case 0:n=a_(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,fS(n.localStore,e)];case 2:return i=o.sent(),fC(n,r,null),hC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,yC(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,UA(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function cC(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i;return Fu(this,(function(o){switch(o.label){case 0:r=a_(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,a=e,u=a_(s),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u._n.lookupMutationBatch(t,a).next((function(n){return s_(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)})).next((function(){return u._n.performConsistencyCheck(t)})).next((function(){return u.Mn.pn(t,e)}))})))];case 2:return i=o.sent(),fC(r,e,n),hC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,yC(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,UA(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function lC(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s;return Fu(this,(function(a){switch(a.label){case 0:vk((n=a_(t)).remoteStore)||e_("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.localStore,c=a_(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c._n.getHighestUnacknowledgedBatchId(t)})))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Dk(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c}))}))}function hC(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function fC(t,e,n){var r=a_(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function dC(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||pC(t,e)}))}function pC(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(lk(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),mC(t))}function vC(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Yk?(t.No.addReference(o.key,e),gC(t,o)):o instanceof $k?(e_("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||pC(t,o.key)):o_()}}function gC(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(e_("SyncEngine","New document in limbo: "+n),t.So.add(r),mC(t))}function mC(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new O_(b_.fromString(e)),r=t.ko.next();t.Co.set(r,new Zk(n)),t.Do=t.Do.insert(n,r),ck(t.remoteStore,new oA(kI(wI(n.path)),r,2,$w.o))}}function yC(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o,s;return Fu(this,(function(a){switch(a.label){case 0:return r=a_(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=aS.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Fu(this,(function(h){switch(h.label){case 0:n=a_(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return HE.forEach(e,(function(e){return HE.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return HE.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!$E(r=h.sent()))throw r;return e_("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.Fn.get(a),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,l));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function bC(t,e){return Mu(this,void 0,void 0,(function(){var n,r;return Fu(this,(function(i){switch(i.label){case 0:return(n=a_(t)).currentUser.isEqual(e)?[3,3]:(e_("SyncEngine","User change. New user:",e.toKey()),[4,hS(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach((function(t){t.forEach((function(t){t.reject(new Jw(Xw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,yC(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function wC(t,e){var n=a_(t),r=n.Co.get(e);if(r&&r.bo)return NT().add(r.key);var i=NT(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function _C(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i;return Fu(this,(function(o){switch(o.label){case 0:return[4,bS((n=a_(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&vC(n,e.targetId,i.To),i)]}}))}))}function IC(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){return[2,_S((e=a_(t)).localStore).then((function(t){return yC(e,t)}))]}))}))}function TC(t,e,n,r){return Mu(this,void 0,void 0,(function(){var i,o;return Fu(this,(function(s){switch(s.label){case 0:return[4,(a=(i=a_(t)).localStore,u=e,c=a_(a),l=a_(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.jt(t,u).next((function(e){return e?c.Mn.pn(t,e):HE.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ik(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(fC(i,e,r||null),hC(i,e),function(t,e){a_(a_(t)._n).Gt(e)}(i.localStore,e)):o_(),s.label=4;case 4:return[4,yC(i,o)];case 5:return s.sent(),[3,7];case 6:e_("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,l}))}))}function EC(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Fu(this,(function(l){switch(l.label){case 0:return NC(n=a_(t)),RC(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,AC(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,xk(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],ck(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return dC(n,e),yS(n.localStore,e,!0)})),lk(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,AC(n,u)];case 5:return l.sent(),(h=a_(n)).Co.forEach((function(t,e){lk(h.remoteStore,e)})),h.No.ts(),h.Co=new Map,h.Do=new yT(O_.comparator),n.$o=!1,[4,xk(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function AC(t,e,n){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p,v;return Fu(this,(function(g){switch(g.label){case 0:n=a_(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,mS(n.localStore,kI(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,_C(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,wS(n.localStore,a)];case 8:return v=g.sent(),[4,mS(n.localStore,v)];case 9:return u=g.sent(),[4,nC(n,SC(v),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function SC(t){return bI(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function kC(t){var e=a_(t);return a_(a_(e.localStore).persistence).fn()}function CC(t,e,n,r){return Mu(this,void 0,void 0,(function(){var i,o,s;return Fu(this,(function(a){switch(a.label){case 0:return(i=a_(t)).$o?(e_("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,_S(i.localStore)];case 3:return o=a.sent(),s=DT.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,yC(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,yS(i.localStore,e,!0)];case 6:return a.sent(),dC(i,e,r),[3,8];case 7:o_(),a.label=8;case 8:return[2]}}))}))}function xC(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return Fu(this,(function(d){switch(d.label){case 0:if(!(r=NC(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(e_("SyncEngine","Adding an already active target "+s),[3,5]):[4,wS(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,mS(r.localStore,a)];case 3:return u=d.sent(),[4,nC(r,SC(a),u.targetId,!1)];case 4:d.sent(),ck(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Fu(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,yS(r.localStore,t,!1).then((function(){lk(r.remoteStore,t),dC(r,t)})).catch(UA)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function NC(t){var e=a_(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aC.bind(null,e),e.vo._r=Vk.bind(null,e.eventManager),e.vo.Mo=Bk.bind(null,e.eventManager),e}function RC(t){var e=a_(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cC.bind(null,e),e}function PC(t,e,n){var r=a_(t);(function(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Fu(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=c.sent(),[4,(l=t.localStore,h=r,f=a_(l),d=QT(h.createTime),f.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return f.Qe.getBundleMetadata(t,h.id)})).then((function(t){return!!t&&t.createTime.compareTo(d)>=0})))];case 2:return c.sent()?[4,e.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(Qk(r)),i=new Gk(r,t.localStore,e.R),[4,e.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(s=c.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return a=c.sent(),[4,yC(t,a.wn,void 0)];case 12:return c.sent(),[4,function(t,e){var n=a_(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Qe.saveBundleMetadata(t,e)}))}(t.localStore,r)];case 13:return c.sent(),n._completeWith(a.progress),[3,15];case 14:return r_("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}var l,h,f,d}))}))})(r,e,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var DC=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(e){switch(e.label){case 0:return this.R=ZS(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return lS(this.persistence,new uS,t.initialUser,this.R)},t.prototype.qo=function(t){return new PS(OS.bs,this.R)},t.prototype.Bo=function(t){return new HS},t.prototype.terminate=function(){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),OC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Ou(e,t),e.prototype.initialize=function(e){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,IS(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,RC(this.Ko.syncEngine)];case 4:return n.sent(),[4,Ik(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return lS(this.persistence,new uS,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new VA(e,t.asyncQueue)},e.prototype.qo=function(t){var e=iS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?AA.withCacheSize(this.cacheSizeBytes):AA.DEFAULT;return new eS(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,XS(),JS(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new HS},e}(DC),LC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Ou(e,t),e.prototype.initialize=function(e){return Mu(this,void 0,void 0,(function(){var n,r=this;return Fu(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof WS?(this.sharedClientState.syncEngine={ui:TC.bind(null,n),ai:CC.bind(null,n),hi:xC.bind(null,n),fn:kC.bind(null,n),ci:IC.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Mu(r,void 0,void 0,(function(){return Fu(this,(function(e){switch(e.label){case 0:return[4,EC(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=XS();if(!WS.yt(e))throw new Jw(Xw.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=iS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new WS(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(OC),MC=function(){function t(){}return t.prototype.initialize=function(t,e){return Mu(this,void 0,void 0,(function(){var n=this;return Fu(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return sC(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=bC.bind(null,this.syncEngine),[4,xk(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Uk},t.prototype.createDatastore=function(t){var e,n,r=ZS(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new $S(e));return n=t.credentials,new ik(n,i,r)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return sC(s.syncEngine,t,0)},o=GS.yt()?new GS:new zS,new sk(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=t.initialUser,a=t.maxConcurrentLimboResolutions,u=e,c=new tC(n,r,i,o,s,a),u&&(c.$o=!0),c;var n,r,i,o,s,a,u,c},t.prototype.terminate=function(){return function(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return e=a_(t),e_("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,uk(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Mu(this,void 0,void 0,(function(){var r;return Fu(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(t){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UC=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),jC=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new WE,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Mu(this,void 0,void 0,(function(){var t,e,n,r;return Fu(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Hk(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Mu(this,void 0,void 0,(function(){var t,e;return Fu(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Mu(this,void 0,void 0,(function(){var t,e;return Fu(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),qC=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Mu(this,void 0,void 0,(function(){var e,n=this;return Fu(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Jw(Xw.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Fu(this,(function(u){switch(u.label){case 0:return n=a_(t),r=eE(n.R)+"/documents",i={documents:e.map((function(t){return XT(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e,r,i=(e=n.R,"found"in(r=t)?function(t,e){s_(!!e.found),e.found.name,e.found.updateTime;var n=JT(t,e.found.name),r=QT(e.found.updateTime),i=new Y_({mapValue:{fields:e.found.fields}});return X_.newFoundDocument(n,r,i)}(e,r):"missing"in r?function(t,e){s_(!!e.missing),s_(!!e.readTime);var n=JT(t,e.missing),r=QT(e.readTime);return X_.newNoDocument(n,r)}(e,r):o_());s.set(i.key.toString(),i)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());s_(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new dT(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Mu(this,void 0,void 0,(function(){var t,e=this;return Fu(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=O_.fromPath(n);e.mutations.push(new pT(r,e.precondition(r)))})),[4,function(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i;return Fu(this,(function(o){switch(o.label){case 0:return n=a_(t),r=eE(n.R)+"/documents",i={writes:e.map((function(t){return oE(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw o_();e=p_.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Jw(Xw.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?JI.updateTime(e):JI.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(p_.min()))throw new Jw(Xw.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return JI.updateTime(e)}return JI.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),VC=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new tk(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Mu(t,void 0,void 0,(function(){var t,e,n=this;return Fu(this,(function(r){return t=new qC(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!R_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!gT(e)}return!1},t}(),BC=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=LS.UNAUTHENTICATED,this.clientId=c_.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Mu(r,void 0,void 0,(function(){return Fu(this,(function(e){switch(e.label){case 0:return e_("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Jw(Xw.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new WE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Mu(t,void 0,void 0,(function(){var t,n;return Fu(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Dk(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i=this;return Fu(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),e_("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return Mu(i,void 0,void 0,(function(){return Fu(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,hS(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function WC(t,e){return Mu(this,void 0,void 0,(function(){var n,r;return Fu(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,HC(t)];case 1:return n=i.sent(),e_("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Mu(this,void 0,void 0,(function(){var n,r;return Fu(this,(function(i){switch(i.label){case 0:return(n=a_(t)).asyncQueue.verifyOperationInProgress(),e_("RemoteStore","RemoteStore received new credentials"),r=vk(n),n.Or.add(3),[4,uk(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,ak(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function HC(t){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(e_("FirestoreClient","Using default OfflineComponentProvider"),[4,KC(t,new DC)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function zC(t){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(e_("FirestoreClient","Using default OnlineComponentProvider"),[4,WC(t,new MC)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function GC(t){return HC(t).then((function(t){return t.persistence}))}function QC(t){return HC(t).then((function(t){return t.localStore}))}function YC(t){return zC(t).then((function(t){return t.remoteStore}))}function $C(t){return zC(t).then((function(t){return t.syncEngine}))}function XC(t){return Mu(this,void 0,void 0,(function(){var e,n;return Fu(this,(function(r){switch(r.label){case 0:return[4,zC(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=eC.bind(null,e.syncEngine),n.onUnlisten=rC.bind(null,e.syncEngine),n)]}}))}))}function JC(t,e,n){var r=this;void 0===n&&(n={});var i=new WE;return t.asyncQueue.enqueueAndForget((function(){return Mu(r,void 0,void 0,(function(){var r;return Fu(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new UC({next:function(o){e.enqueueAndForget((function(){return qk(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Jw(Xw.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Jw(Xw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Wk(wI(n.path),o,{includeMetadataChanges:!0,so:!0});return jk(t,s)},[4,XC(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function ZC(t,e,n){var r=this;void 0===n&&(n={});var i=new WE;return t.asyncQueue.enqueueAndForget((function(){return Mu(r,void 0,void 0,(function(){var r;return Fu(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new UC({next:function(n){e.enqueueAndForget((function(){return qk(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Jw(Xw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Wk(n,o,{includeMetadataChanges:!0,so:!0});return jk(t,s)},[4,XC(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var tx=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},ex=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),nx=new Map,rx=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ix=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(LS.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ox=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),sx=function(){function t(t){var e=this;this.currentUser=LS.UNAUTHENTICATED,this.oc=new WE,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.uc&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){e_("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.ac)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.uc&&(e_("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)})))}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(e_("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(s_("string"==typeof n.accessToken),new rx(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.uc=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return s_(null===t||"string"==typeof t),new LS(t)},t.prototype.lc=function(){var t=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable((function(){return Mu(t,void 0,void 0,(function(){return Fu(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.uc=!0,[2]}}))}))})))},t}(),ax=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=LS.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),ux=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new ax(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(LS.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t,e,n){if(!n)throw new Jw(Xw.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function lx(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function hx(t,e,n,r){if(!0===e&&!0===r)throw new Jw(Xw.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function fx(t){if(!O_.isDocumentKey(t))throw new Jw(Xw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function dx(t){if(O_.isDocumentKey(t))throw new Jw(Xw.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function px(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":o_()}function vx(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Jw(Xw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=px(t);throw new Jw(Xw.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function gx(t,e){if(e<=0)throw new Jw(Xw.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mx=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Jw(Xw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Jw(Xw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,hx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),yx=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mx({}),this._settingsFrozen=!1,t instanceof ex?(this._databaseId=t,this._credentials=new ix):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Jw(Xw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ex(t.options.projectId)}(t),this._credentials=new sx(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Jw(Xw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Jw(Xw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mx(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ix;switch(t.type){case"gapi":var e=t.client;return s_(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ux(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Jw(Xw.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=nx.get(this))&&(e_("ComponentProvider","Removing Datastore"),nx.delete(this),t.terminate()),Promise.resolve();var t},t}(),bx=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new _x(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),wx=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),_x=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,wI(r))||this)._path=r,i.type="collection",i}return Ou(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new bx(this.firestore,null,new O_(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(wx);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Cc(t),cx("collection","path",e),t instanceof yx)return dx(n=b_.fromString.apply(b_,qu([e],r))),new _x(t,null,n);if(!(t instanceof bx||t instanceof _x))throw new Jw(Xw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return dx(n=b_.fromString.apply(b_,qu([t.path],r)).child(b_.fromString(e))),new _x(t.firestore,null,n)}function Tx(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Cc(t),1===arguments.length&&(e=c_.u()),cx("doc","path",e),t instanceof yx)return fx(n=b_.fromString.apply(b_,qu([e],r))),new bx(t,null,new O_(n));if(!(t instanceof bx||t instanceof _x))throw new Jw(Xw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return fx(n=t._path.child(b_.fromString.apply(b_,qu([e],r)))),new bx(t.firestore,t instanceof _x?t.converter:null,new O_(n))}function Ex(t,e){return t=Cc(t),e=Cc(e),(t instanceof bx||t instanceof _x)&&(e instanceof bx||e instanceof _x)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Ax(t,e){return t=Cc(t),e=Cc(e),t instanceof wx&&e instanceof wx&&t.firestore===e.firestore&&xI(t._query,e._query)&&t.converter===e.converter}var Sx=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new tk(this,"async_queue_retry"),this.Ac=function(){var e=JS();e&&e_("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=JS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=JS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise((function(t){})):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.mc.push(t),e.vc()}))},t.prototype.vc=function(){return Mu(this,void 0,void 0,(function(){var t,e=this;return Fu(this,(function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!$E(t=n.sent()))throw t;return e_("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji((function(){return e.vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.bc=function(t){var e=this,n=this._c.then((function(){return e.Tc=!0,t().catch((function(t){throw e.Ec=t,e.Tc=!1,n_("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.Tc=!1,t}))}));return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=Pk.createAndSchedule(this,t,e,n,(function(t){return r.Pc(t)}));return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&o_()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return Mu(this,void 0,void 0,(function(){var t;return Fu(this,(function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then((function(){e.gc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()}))},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function kx(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Cx=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new WE,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),xx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Sx,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Ou(e,t),e.prototype._terminate=function(){return this._firestoreClient||Rx(this),this._firestoreClient.terminate()},e}(yx);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){return t._firestoreClient||Rx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rx(t){var e,n,r,i,o,s=t._freezeSettings(),a=(n=t._databaseId,r=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",i=t._persistenceKey,new tx(n,r,i,(o=s).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling));t._firestoreClient=new BC(t._credentials,t._queue,a)}function Px(t,e,n){var r=this,i=new WE;return t.asyncQueue.enqueue((function(){return Mu(r,void 0,void 0,(function(){var r;return Fu(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,KC(t,n)];case 1:return o.sent(),[4,WC(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(s=r=o.sent()).name?s.code===Xw.FAILED_PRECONDITION||s.code===Xw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var s}))}))})).then((function(){return i.promise}))}function Dx(t){if(t._initialized||t._terminated)throw new Jw(Xw.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ox=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new __(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Lx=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(T_.fromBase64String(e))}catch(t){throw new Jw(Xw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},t.fromUint8Array=function(e){return new t(T_.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Mx=function(t){this._methodName=t},Fx=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Jw(Xw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Jw(Xw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return l_(this._lat,t._lat)||l_(this._long,t._long)},t}(),Ux=/^__.*__$/,jx=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new aT(t,this.data,this.fieldMask,e,this.fieldTransforms):new sT(t,this.data,e,this.fieldTransforms)},t}(),qx=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new aT(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw o_()}}var Bx=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Oc(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,$c:!0})},t.prototype.Bc=function(t){return uN(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Oc(this.path.get(t))},t.prototype.Oc=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(Vx(this.xc)&&Ux.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),Kx=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||ZS(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Bx({xc:t,methodName:e,Uc:n,path:__.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Wx(t){var e=t._freezeSettings(),n=ZS(t._databaseId);return new Kx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Hx(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);iN("Data must be an object, but it was:",s,r);var a,u,c=nN(r,s);if(o.merge)a=new I_(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=oN(e,f[h],n);if(!s.contains(d))throw new Jw(Xw.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");cN(l,d)||l.push(d)}a=new I_(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new jx(new Y_(c),a,u)}var zx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw 1===t.xc?t.Bc(this._methodName+"() can only appear at the top level of your update data"):t.Bc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Mx);function Gx(t,e,n){return new Bx({xc:3,Uc:e.settings.Uc,methodName:t._methodName,$c:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Qx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype._toFieldTransform=function(t){return new $I(t.path,new BI)},e.prototype.isEqual=function(t){return t instanceof e},e}(Mx),Yx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Ou(e,t),e.prototype._toFieldTransform=function(t){var e=Gx(this,t,!0),n=this.Kc.map((function(t){return eN(t,e)})),r=new KI(n);return new $I(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Mx),$x=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Ou(e,t),e.prototype._toFieldTransform=function(t){var e=Gx(this,t,!0),n=this.Kc.map((function(t){return eN(t,e)})),r=new HI(n);return new $I(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Mx),Xx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Ou(e,t),e.prototype._toFieldTransform=function(t){var e=new GI(t.R,FI(t.R,this.jc));return new $I(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Mx);function Jx(t,e,n,r){var i=t.Qc(1,e,n);iN("Data must be an object, but it was:",i,r);var o=[],s=Y_.empty();g_(r,(function(t,r){var a=aN(e,t,n);r=Cc(r);var u=i.Mc(a);if(r instanceof zx)o.push(a);else{var c=eN(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new I_(o);return new qx(s,a,i.fieldTransforms)}function Zx(t,e,n,r,i,o){var s=t.Qc(1,e,n),a=[oN(e,r,n)],u=[i];if(o.length%2!=0)throw new Jw(Xw.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(oN(e,o[c])),u.push(o[c+1]);for(var l=[],h=Y_.empty(),f=a.length-1;f>=0;--f)if(!cN(l,a[f])){var d=a[f],p=u[f];p=Cc(p);var v=s.Mc(d);if(p instanceof zx)l.push(d);else{var g=eN(p,v);null!=g&&(l.push(d),h.set(d,g))}}var m=new I_(l);return new qx(h,m,s.fieldTransforms)}function tN(t,e,n,r){return void 0===r&&(r=!1),eN(n,t.Qc(r?4:3,e))}function eN(t,e){if(rN(t=Cc(t)))return iN("Unsupported field value:",e,t),nN(t,e);if(t instanceof Mx)return function(t,e){if(!Vx(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.$c&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=eN(o[i],e.Lc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Cc(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return FI(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=d_.fromDate(t);return{timestampValue:HT(e.R,n)}}if(t instanceof d_)return n=new d_(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:HT(e.R,n)};if(t instanceof Fx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Lx)return{bytesValue:zT(e.R,t._byteString)};if(t instanceof bx){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:YT(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+px(t))}(t,e)}function nN(t,e){var n={};return m_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):g_(t,(function(t,r){var i=eN(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function rN(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof d_||t instanceof Fx||t instanceof Lx||t instanceof bx||t instanceof Mx)}function iN(t,e,n){if(!rN(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=px(n);throw"an object"===r?e.Bc(t+" a custom object"):e.Bc(t+" "+r)}var i}function oN(t,e,n){if((e=Cc(e))instanceof Ox)return e._internalPath;if("string"==typeof e)return aN(t,e);throw uN("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var sN=new RegExp("[~\\*/\\[\\]]");function aN(t,e,n){if(e.search(sN)>=0)throw uN("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ox.bind.apply(Ox,qu([void 0],e.split(".")))))._internalPath}catch(r){throw uN("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function uN(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Jw(Xw.INVALID_ARGUMENT,(a+=". ")+t+u)}function cN(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lN=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new bx(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new hN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(fN("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),hN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(lN);function fN(t,e){return"string"==typeof e?aN(t,e):e instanceof Ox?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dN=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),pN=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Ou(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new vN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(fN("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(lN),vN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(pN),gN=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new dN(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new vN(n._firestore,n._userDataWriter,r.key,r,new dN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Jw(Xw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new vN(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dN(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new vN(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dN(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:mN(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function mN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return o_()}}function yN(t,e){return t instanceof pN&&e instanceof pN?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof gN&&e instanceof gN&&t._firestore===e._firestore&&Ax(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){if(II(t)&&0===t.explicitOrderBy.length)throw new Jw(Xw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wN=function(){};function _N(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var IN=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return Ou(e,t),e.prototype._apply=function(t){var e,n,r,i=Wx(t.firestore),o=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){xN(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(CN(r,t,h))}a={arrayValue:{values:u}}}else a=CN(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||xN(s,o),a=tN(n,"where",s,"in"===o||"not-in"===o);var f=rI.create(i,o,a);return function(t,e){if(e.g()){var n=EI(t);if(null!==n&&!n.isEqual(e.field))throw new Jw(Xw.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=TI(t);null!==r&&NN(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Jw(Xw.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Jw(Xw.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,i,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new wx(t.firestore,t.converter,(e=t._query,n=o,r=e.filters.concat([n]),new yI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)))},e}(wN),TN=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return Ou(e,t),e.prototype._apply=function(t){var e,n,r,i=function(t,e,n){if(null!==t.startAt)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new pI(e,n);return function(t,e){if(null===TI(t)){var n=EI(t);null!==n&&NN(t,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new wx(t.firestore,t.converter,(e=t._query,n=i,r=e.explicitOrderBy.concat([n]),new yI(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(wN),EN=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Ou(e,t),e.prototype._apply=function(t){return new wx(t.firestore,t.converter,CI(t._query,this.Jc,this.Yc))},e}(wN),AN=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Ou(e,t),e.prototype._apply=function(t){var e,n,r=kN(t,this.type,this.Xc,this.Zc);return new wx(t.firestore,t.converter,(e=t._query,n=r,new yI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(wN),SN=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Ou(e,t),e.prototype._apply=function(t){var e,n,r=kN(t,this.type,this.Xc,this.Zc);return new wx(t.firestore,t.converter,(e=t._query,n=r,new yI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(wN);function kN(t,e,n,r){if(n[0]=Cc(n[0]),n[0]instanceof lN)return function(t,e,n,r,i){if(!r)throw new Jw(Xw.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=SI(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(B_(e,r.key));else{var c=r.data.field(u.field);if(C_(c))throw new Jw(Xw.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Jw(Xw.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new fI(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Wx(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Jw(Xw.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!AI(t)&&-1!==c.indexOf("/"))throw new Jw(Xw.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(b_.fromString(c));if(!O_.isDocumentKey(l))throw new Jw(Xw.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new O_(l);a.push(B_(e,h))}else{var f=tN(n,r,c);a.push(f)}}return new fI(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function CN(t,e,n){if("string"==typeof(n=Cc(n))){if(""===n)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!AI(e)&&-1!==n.indexOf("/"))throw new Jw(Xw.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(b_.fromString(n));if(!O_.isDocumentKey(r))throw new Jw(Xw.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return B_(t,new O_(r))}if(n instanceof bx)return B_(t,n._key);throw new Jw(Xw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+px(n)+".")}function xN(t,e){if(!Array.isArray(t)||0===t.length)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function NN(t,e,n){if(!n.isEqual(e))throw new Jw(Xw.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RN=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),L_(t)){case 0:return null;case 1:return t.booleanValue;case 2:return S_(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(k_(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw o_()}},t.prototype.convertObject=function(t,e){var n=this,r={};return g_(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Fx(S_(t.latitude),S_(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=x_(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(N_(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=A_(t);return new d_(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=b_.fromString(t);s_(wE(n));var r=new ex(n.get(1),n.get(3)),i=new O_(n.popFirst(5));return r.isEqual(e)||n_("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var DN=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Ou(e,t),e.prototype.convertBytes=function(t){return new Lx(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new bx(this.firestore,null,e)},e}(RN),ON=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Wx(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=LN(t,this._firestore),i=PN(r.converter,e,n),o=Hx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,JI.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=LN(t,this._firestore);return o="string"==typeof(e=Cc(e))||e instanceof Ox?Zx(this._dataReader,"WriteBatch.update",s._key,e,n,r):Jx(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,JI.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=LN(t,this._firestore);return this._mutations=this._mutations.concat(new dT(e._key,JI.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Jw(Xw.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e){if((t=Cc(t)).firestore!==e)throw new Jw(Xw.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MN=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Ou(e,t),e.prototype.convertBytes=function(t){return new Lx(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new bx(this.firestore,null,e)},e}(RN);function FN(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=vx(t,bx);var o=vx(t.firestore,xx),s=Wx(o);return jN(o,[("string"==typeof(e=Cc(e))||e instanceof Ox?Zx(s,"updateDoc",t._key,e,n,r):Jx(s,"updateDoc",t._key,e)).toMutation(t._key,JI.exists(!0))])}function UN(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Cc(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||kx(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(kx(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof bx)c=vx(t.firestore,xx),l=wI(t._key.path),u={next:function(e){i[a]&&i[a](qN(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=vx(t,wx);c=vx(d.firestore,xx),l=d._query;var p=new MN(c);u={next:function(t){i[a]&&i[a](new gN(c,p,d,t))},error:i[a+1],complete:i[a+2]},bN(t._query)}return function(t,e,n,r){var i=this,o=new UC(r),s=new Wk(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Mu(i,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return e=jk,[4,XC(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Mu(i,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return e=qk,[4,XC(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Nx(c),l,h,u)}function jN(t,e){return function(t,e){var n=this,r=new WE;return t.asyncQueue.enqueueAndForget((function(){return Mu(n,void 0,void 0,(function(){var n;return Fu(this,(function(i){switch(i.label){case 0:return n=iC,[4,$C(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Nx(t),e)}function qN(t,e,n){var r=n.docs.get(e._key),i=new MN(t);return new pN(t,i,e._key,r,new dN(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VN=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Ou(e,t),e.prototype.get=function(e){var n=this,r=LN(e,this._firestore),i=new MN(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new pN(n._firestore,i,r._key,t._document,new dN(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Wx(t)}return t.prototype.get=function(t){var e=this,n=LN(t,this._firestore),r=new DN(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return o_();var i=t[0];if(i.isFoundDocument())return new lN(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lN(e._firestore,r,n._key,null,n.converter);throw o_()}))},t.prototype.set=function(t,e,n){var r=LN(t,this._firestore),i=PN(r.converter,e,n),o=Hx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=LN(t,this._firestore);return o="string"==typeof(e=Cc(e))||e instanceof Ox?Zx(this._dataReader,"Transaction.update",s._key,e,n,r):Jx(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=LN(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){if("undefined"==typeof Uint8Array)throw new Jw(Xw.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function KN(){if("undefined"==typeof atob)throw new Jw(Xw.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var WN=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return KN(),new t(Lx.fromBase64String(e))},t.fromUint8Array=function(e){return BN(),new t(Lx.fromUint8Array(e))},t.prototype.toBase64=function(){return KN(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return BN(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),HN=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Dx(t=vx(t,xx));var n=Nx(t),r=t._freezeSettings(),i=new MC;return Px(n,i,new OC(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Dx(t=vx(t,xx));var e=Nx(t),n=t._freezeSettings(),r=new MC;return Px(e,r,new LC(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Jw(Xw.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new WE;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Mu(e,void 0,void 0,(function(){var e;return Fu(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return GE.yt()?(e=t+"main",[4,GE.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(iS(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),zN=function(){function t(t,e,n){var r=this;this._delegate=e,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof ex||(this.eu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||r_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=vx(t,yx))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&r_("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Xu(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Jw(Xw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new ox(new rx(o,new LS(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Mu(e,void 0,void 0,(function(){var e,n;return Fu(this,(function(r){switch(r.label){case 0:return[4,GC(t)];case 1:return e=r.sent(),[4,YC(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),i=n,o=a_(i),o.Or.delete(0),ak(o))]}var i,o}))}))}))}(Nx(vx(this._delegate,xx)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Mu(e,void 0,void 0,(function(){var e,n;return Fu(this,(function(r){switch(r.label){case 0:return[4,GC(t)];case 1:return e=r.sent(),[4,YC(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return(e=a_(t)).Or.add(0),[4,uk(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Nx(vx(this._delegate,xx)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&hx("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new WE;return t.asyncQueue.enqueueAndForget((function(){return Mu(e,void 0,void 0,(function(){var e;return Fu(this,(function(r){switch(r.label){case 0:return e=lC,[4,$C(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Nx(vx(this._delegate,xx)))},t.prototype.onSnapshotsInSync=function(t){return e=this._delegate,n=t,function(t,e){var n=this,r=new UC(e);return t.asyncQueue.enqueueAndForget((function(){return Mu(n,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return e=function(t,e){a_(t).Gr.add(e),e.next()},[4,XC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Mu(n,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return e=function(t,e){a_(t).Gr.delete(e)},[4,XC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Nx(e=vx(e,xx)),kx(n)?n:{next:n});var e,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.eu)throw new Jw(Xw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new sR(this,Ix(this._delegate,t))}catch(t){throw JN(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new XN(this,Tx(this._delegate,t))}catch(t){throw JN(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new rR(this,function(t,e){if(t=vx(t,yx),cx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new wx(t,null,(n=e,new yI(b_.emptyPath(),n)));var n}(this._delegate,t))}catch(t){throw JN(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new WE;return t.asyncQueue.enqueueAndForget((function(){return Mu(n,void 0,void 0,(function(){var n;return Fu(this,(function(i){switch(i.label){case 0:return[4,(o=t,zC(o).then((function(t){return t.datastore})))];case 1:return n=i.sent(),new VC(t.asyncQueue,n,e,r).run(),[2]}var o}))}))})),r.promise}(Nx(e=this._delegate),(function(r){return function(e){return t(new QN(n,e))}(new VN(e,r))}))},t.prototype.batch=function(){var t=this;return Nx(this._delegate),new YN(new ON(this._delegate,(function(e){return jN(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Jw(Xw.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Jw(Xw.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),GN=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Ou(e,t),e.prototype.convertBytes=function(t){return new WN(new Lx(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return XN.nu(e,this.firestore,null)},e}(RN);var QN=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new GN(t)}return t.prototype.get=function(t){var e=this,n=aR(t);return this._delegate.get(n).then((function(t){return new eR(e._firestore,new pN(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=aR(t);return n?(lx("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=aR(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,qu([s,e,n],i)),this},t.prototype.delete=function(t){var e=aR(t);return this._delegate.delete(e),this},t}(),YN=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=aR(t);return n?(lx("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=aR(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,qu([s,e,n],i)),this},t.prototype.delete=function(t){var e=aR(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),$N=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new vN(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new nR(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.su=function(e,n){var r=t.iu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new GN(e),n),i.set(n,o)),o},t}();$N.iu=new WeakMap;var XN=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new GN(t)}return t.ru=function(e,n,r){if(e.length%2!=0)throw new Jw(Xw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new bx(n._delegate,r,new O_(e)))},t.nu=function(e,n,r){return new t(n,new bx(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new sR(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new sR(this.firestore,Ix(this._delegate,t))}catch(t){throw JN(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Cc(t))instanceof bx&&Ex(this._delegate,t)},t.prototype.set=function(t,e){e=lx("DocumentReference.set",e);try{return function(t,e,n){t=vx(t,bx);var r=vx(t.firestore,xx),i=PN(t.converter,e,n);return jN(r,[Hx(Wx(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,JI.none())])}(this._delegate,t,e)}catch(t){throw JN(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?FN(this._delegate,t):FN.apply(void 0,qu([this._delegate,t,e],n))}catch(t){throw JN(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return jN(vx((t=this._delegate).firestore,xx),[new dT(t._key,JI.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ZN(e),i=tR(e,(function(e){return new eR(t.firestore,new pN(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return UN(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=vx(t,bx);var e=vx(t.firestore,xx),n=Nx(e),r=new MN(e);return function(t,e){var n=this,r=new WE;return t.asyncQueue.enqueueAndForget((function(){return Mu(n,void 0,void 0,(function(){var n;return Fu(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i;return Fu(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(s=t,a=e,u=a_(s),u.persistence.runTransaction("read document","readonly",(function(t){return u.Mn.mn(t,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Jw(Xw.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Dk(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var s,a,u}))}))},[4,QC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new pN(e,r,t._key,n,new dN(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=vx(t,bx);var e=vx(t.firestore,xx);return JC(Nx(e),t._key,{source:"server"}).then((function(n){return qN(e,t,n)}))}(this._delegate):function(t){t=vx(t,bx);var e=vx(t.firestore,xx);return JC(Nx(e),t._key).then((function(n){return qN(e,t,n)}))}(this._delegate)).then((function(t){return new eR(e.firestore,new pN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter($N.su(this.firestore,e)):this._delegate.withConverter(null))},t}();function JN(t,e,n){return t.message=t.message.replace(e,n),t}function ZN(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!kx(r))return r}return{}}function tR(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=kx(t[0])?t[0]:kx(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var eR=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new XN(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return yN(this._delegate,t._delegate)},t}(),nR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(eR),rR=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new GN(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,_N(this._delegate,(o=r,s=i=n,a=fN("where",e),new IN(a,s,o))))}catch(i){throw JN(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,s,a},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,_N(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=fN("orderBy",t);return new TN(r,n)}(e,n)))}catch(t){throw JN(t,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,_N(this._delegate,(gx("limit",n=e),new EN("limit",n,"F"))))}catch(t){throw JN(t,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,_N(this._delegate,(gx("limitToLast",n=e),new EN("limitToLast",n,"L"))))}catch(t){throw JN(t,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_N(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new AN("startAt",t,!0)}.apply(void 0,e)))}catch(t){throw JN(t,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_N(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new AN("startAfter",t,!1)}.apply(void 0,e)))}catch(t){throw JN(t,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_N(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new SN("endBefore",t,!0)}.apply(void 0,e)))}catch(t){throw JN(t,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_N(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new SN("endAt",t,!1)}.apply(void 0,e)))}catch(t){throw JN(t,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Ax(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=vx(t,wx);var e=vx(t.firestore,xx),n=Nx(e),r=new MN(e);return function(t,e){var n=this,r=new WE;return t.asyncQueue.enqueueAndForget((function(){return Mu(n,void 0,void 0,(function(){var n;return Fu(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o,s,a;return Fu(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,bS(t,e,!0)];case 1:return a=u.sent(),r=new Xk(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Dk(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,QC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new gN(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=vx(t,wx);var e=vx(t.firestore,xx),n=Nx(e),r=new MN(e);return ZC(n,t._query,{source:"server"}).then((function(n){return new gN(e,r,t,n)}))}(this._delegate):function(t){t=vx(t,wx);var e=vx(t.firestore,xx),n=Nx(e),r=new MN(e);return bN(t._query),ZC(n,t._query).then((function(n){return new gN(e,r,t,n)}))}(this._delegate)).then((function(t){return new oR(e.firestore,new gN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ZN(e),i=tR(e,(function(e){return new oR(t.firestore,new gN(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return UN(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter($N.su(this.firestore,e)):this._delegate.withConverter(null))},t}(),iR=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new nR(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),oR=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new rR(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new nR(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new iR(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new nR(n._firestore,r))}))},t.prototype.isEqual=function(t){return yN(this._delegate,t._delegate)},t}(),sR=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Ou(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new XN(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new XN(this.firestore,void 0===t?Tx(this._delegate):Tx(this._delegate,t))}catch(t){throw JN(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,s=this;return(e=this._delegate,n=t,r=vx(e.firestore,xx),i=Tx(e),o=PN(e.converter,n),jN(r,[Hx(Wx(e.firestore),"addDoc",i._key,o,null!==e.converter,{}).toMutation(i._key,JI.exists(!1))]).then((function(){return i}))).then((function(t){return new XN(s.firestore,t)}))},e.prototype.isEqual=function(t){return Ex(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter($N.su(this.firestore,t)):this._delegate.withConverter(null))},e}(rR);function aR(t){return vx(t,bx)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uR=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ox.bind.apply(Ox,qu([void 0],t)))}return t.documentId=function(){return new t(__.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Cc(t))instanceof Ox&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),cR=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Qx("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new zx("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yx("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $x("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new Xx("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){return e=this._delegate,n=t,r=Nx(e=vx(e,xx)),i=new Cx,function(t,e,n,r){var i,o,s,a=this,u=(i=n,o=ZS(e),s=function(t,e){if(t instanceof Uint8Array)return FC(t,e);if(t instanceof ArrayBuffer)return FC(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new jC(s,o));t.asyncQueue.enqueueAndForget((function(){return Mu(a,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return e=PC,[4,$C(t)];case 1:return e.apply(void 0,[n.sent(),u,r]),[2]}}))}))}))}(r,e._databaseId,n,i),i;var e,n,r,i}function hR(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue((function(){return Mu(n,void 0,void 0,(function(){var n;return Fu(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=a_(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Qe.getNamedQuery(t,e)}))},[4,QC(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(Nx(e=vx(e,xx)),n).then((function(t){return t?new wx(e,null,t.query):null}))).then((function(t){return t?new rR(r,t):null}))}var fR,dR,pR={Firestore:zN,GeoPoint:Fx,Timestamp:d_,Blob:WN,Transaction:QN,WriteBatch:YN,DocumentReference:XN,DocumentSnapshot:eR,Query:rR,QueryDocumentSnapshot:nR,QuerySnapshot:oR,CollectionReference:sR,FieldPath:uR,FieldValue:cR,setLogLevel:function(t){var e;e=t,Zw.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(fR=il).INTERNAL.registerComponent(new xc("firestore",(function(t){return function(t,e){return new zN(t,new xx(t,e),new HN)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},pR))),fR.registerVersion("@firebase/firestore","2.3.2"),(dR=zN).prototype.loadBundle=lR,dR.prototype.namedQuery=hR;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vR={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gR=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Ou(e,t),e}(Error);var mR=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Mu(this,void 0,void 0,(function(){var t;return Fu(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getContext=function(){return Mu(this,void 0,void 0,(function(){var t,e;return Fu(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var bR=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return yR(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?yR(t,(function(t){return e.decode(t)})):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wR=function(){function t(t,e,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new bR,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new mR(e,n),this.cancelAllRequests=new Promise((function(t){s.deleteService=function(){return t()}}));try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o;return Fu(this,(function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return Mu(this,void 0,void 0,(function(){var t;return Fu(this,(function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f,d;return Fu(this,(function(p){switch(p.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=p.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=n.timeout||7e4,u=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new gR("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(a),c=u.timer,l=u.promise,[4,Promise.race([_R(c,this.postJSON(r,i,o)),l,_R(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new gR("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!vR[a])return new gR("internal","internal");r=vR[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new gR(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new gR("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new gR("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},t}();function _R(t,e){return Mu(this,void 0,void 0,(function(){var n;return Fu(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){return Array.prototype.slice.call(t)}function TR(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function ER(t,e,n){var r,i=new Promise((function(i,o){TR(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function AR(t,e,n){var r=ER(t,e,n);return r.then((function(t){if(t)return new RR(t,r.request)}))}function SR(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function kR(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return ER(this[e],r,arguments)})}))}function CR(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function xR(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return AR(this[e],r,arguments)})}))}function NR(t){this._index=t}function RR(t,e){this._cursor=t,this._request=e}function PR(t){this._store=t}function DR(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function OR(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new DR(n)}function LR(t){this._db=t}function MR(t,e,n){var r=ER(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(t){n&&n(new OR(i.result,t.oldVersion,i.transaction))}),r.then((function(t){return new LR(t)}))}function FR(t){return ER(indexedDB,"deleteDatabase",[t])}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t,e){var n={Functions:wR};t.INTERNAL.registerComponent(new xc("functions",(function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal"),a=t.getProvider("messaging");return new wR(i,o,a,s,r,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(il,fetch.bind(self)),il.registerVersion("@firebase/functions","0.6.9"),SR(NR,"_index",["name","keyPath","multiEntry","unique"]),kR(NR,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),xR(NR,"_index",IDBIndex,["openCursor","openKeyCursor"]),SR(RR,"_cursor",["direction","key","primaryKey","value"]),kR(RR,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(RR.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),TR(e._request).then((function(t){if(t)return new RR(t,e._request)}))}))})})),PR.prototype.createIndex=function(){return new NR(this._store.createIndex.apply(this._store,arguments))},PR.prototype.index=function(){return new NR(this._store.index.apply(this._store,arguments))},SR(PR,"_store",["name","keyPath","indexNames","autoIncrement"]),kR(PR,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),xR(PR,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),CR(PR,"_store",IDBObjectStore,["deleteIndex"]),DR.prototype.objectStore=function(){return new PR(this._tx.objectStore.apply(this._tx,arguments))},SR(DR,"_tx",["objectStoreNames","mode"]),CR(DR,"_tx",IDBTransaction,["abort"]),OR.prototype.createObjectStore=function(){return new PR(this._db.createObjectStore.apply(this._db,arguments))},SR(OR,"_db",["name","version","objectStoreNames"]),CR(OR,"_db",IDBDatabase,["deleteObjectStore","close"]),LR.prototype.transaction=function(){return new DR(this._db.transaction.apply(this._db,arguments))},SR(LR,"_db",["name","version","objectStoreNames"]),CR(LR,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[PR,NR].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=IR(arguments),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[NR,PR].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var UR,jR=((UR={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',UR["not-registered"]="Firebase Installation is not registered.",UR["installation-not-found"]="Firebase Installation not found.",UR["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',UR["app-offline"]="Could not process request. Application offline.",UR["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",UR),qR=new uc("installations","Installations",jR);function VR(t){return t instanceof ac&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function KR(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function WR(t,e){return Mu(this,void 0,void 0,(function(){var n,r;return Fu(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,qR.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function HR(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function zR(t,e){var n=e.refreshToken,r=HR(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function GR(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function QR(t,e){var n=e.fid;return Mu(this,void 0,void 0,(function(){var e,r,i,o,s,a;return Fu(this,(function(u){switch(u.label){case 0:return e=BR(t),r=HR(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.26"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,GR((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:KR(a.authToken)}];case 3:return[4,WR("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $R=/^[cdef][\w-]{21}$/;function XR(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,qu([],ju(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return $R.test(e)?e:""}catch(t){return""}}function JR(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZR=new Map;function tP(t,e){var n=JR(t);eP(n,e),function(t,e){var n=rP();n&&n.postMessage({key:t,fid:e});iP()}(n,e)}function eP(t,e){var n,r,i=ZR.get(t);if(i)try{for(var o=Uu(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var nP=null;function rP(){return!nP&&"BroadcastChannel"in self&&((nP=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){eP(t.data.key,t.data.fid)}),nP}function iP(){0===ZR.size&&nP&&(nP.close(),nP=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oP,sP="firebase-installations-store",aP=null;function uP(){return aP||(aP=MR("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(sP)}}))),aP}function cP(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s;return Fu(this,(function(a){switch(a.label){case 0:return n=JR(t),[4,uP()];case 1:return r=a.sent(),i=r.transaction(sP,"readwrite"),[4,(o=i.objectStore(sP)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||tP(t,e.fid),[2,e]}}))}))}function lP(t){return Mu(this,void 0,void 0,(function(){var e,n,r;return Fu(this,(function(i){switch(i.label){case 0:return e=JR(t),[4,uP()];case 1:return n=i.sent(),[4,(r=n.transaction(sP,"readwrite")).objectStore(sP).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function hP(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Fu(this,(function(u){switch(u.label){case 0:return n=JR(t),[4,uP()];case 1:return r=u.sent(),i=r.transaction(sP,"readwrite"),[4,(o=i.objectStore(sP)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||tP(t,a.fid),[2,a]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){return Mu(this,void 0,void 0,(function(){var e,n,r;return Fu(this,(function(i){switch(i.label){case 0:return[4,hP(t,(function(n){var r=function(t){return vP(t||{fid:XR(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(qR.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Mu(this,void 0,void 0,(function(){var n,r;return Fu(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,QR(t,e)];case 1:return n=i.sent(),[2,cP(t,n)];case 2:return VR(r=i.sent())&&409===r.customData.serverCode?[4,lP(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,cP(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:dP(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function dP(t){return Mu(this,void 0,void 0,(function(){var e,n,r,i;return Fu(this,(function(o){switch(o.label){case 0:return[4,pP(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,YR(100)];case 3:return o.sent(),[4,pP(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,fP(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function pP(t){return hP(t,(function(t){if(!t)throw qR.create("installation-not-found");return vP(t)}))}function vP(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function gP(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Mu(this,void 0,void 0,(function(){var t,i,o,s,a,u,c;return Fu(this,(function(l){switch(l.label){case 0:return t=function(t,e){var n=e.fid;return BR(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e),i=zR(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.26"}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,GR((function(){return fetch(t,a)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,KR(c)];case 3:return[4,WR("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function mP(t,e){return void 0===e&&(e=!1),Mu(this,void 0,void 0,(function(){var n,r,i;return Fu(this,(function(o){switch(o.label){case 0:return[4,hP(t.appConfig,(function(r){if(!bP(r))throw qR.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return Mu(this,void 0,void 0,(function(){var n,r;return Fu(this,(function(i){switch(i.label){case 0:return[4,yP(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,YR(100)];case 3:return i.sent(),[4,yP(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,mP(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw qR.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return Lu(Lu({},t),{authToken:e})}(r);return n=function(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i;return Fu(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,gP(t,e)];case 1:return n=o.sent(),i=Lu(Lu({},e),{authToken:n}),[4,cP(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!VR(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,lP(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Lu(Lu({},e),{authToken:{requestStatus:0}}),[4,cP(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function yP(t){return hP(t,(function(t){if(!bP(t))throw qR.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?Lu(Lu({},t),{authToken:{requestStatus:0}}):t}))}function bP(t){return void 0!==t&&2===t.registrationStatus}function wP(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return[4,fP(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o;return Fu(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return BR(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),r=zR(t,e),i={method:"DELETE",headers:r},[4,GR((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,WR("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function IP(t,e){var n=t.appConfig;return function(t,e){rP();var n=JR(t),r=ZR.get(n);r||(r=new Set,ZR.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=JR(t),r=ZR.get(n);r&&(r.delete(e),0===r.size&&ZR.delete(n),iP())}(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){return qR.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new xc("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw TP("App Configuration");if(!t.name)throw TP("App Name");try{for(var r=Uu(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw TP(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t){return Mu(this,void 0,void 0,(function(){var e,n,r;return Fu(this,(function(i){switch(i.label){case 0:return[4,fP(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):mP(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Mu(this,void 0,void 0,(function(){return Fu(this,(function(n){switch(n.label){case 0:return[4,wP(t.appConfig)];case 1:return n.sent(),[4,mP(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Mu(this,void 0,void 0,(function(){var e,n;return Fu(this,(function(r){switch(r.label){case 0:return[4,hP(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw qR.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw qR.create("app-offline");case 3:return[4,_P(e,n)];case 4:return r.sent(),[4,lP(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return IP(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.26")}(il);var EP,AP,SP=((oP={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',oP["only-available-in-window"]="This method is available in a Window context.",oP["only-available-in-sw"]="This method is available in a service worker context.",oP["permission-default"]="The notification permission was not granted and dismissed instead.",oP["permission-blocked"]="The notification permission was not granted and blocked instead.",oP["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",oP["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",oP["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",oP["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",oP["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",oP["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",oP["token-update-no-token"]="FCM returned no token when updating the user to push.",oP["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",oP["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",oP["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",oP["invalid-vapid-key"]="The public VAPID key must be a string.",oP["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",oP),kP=new uc("messaging","Messaging",SP),CP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xP(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,qu([],ju(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function NP(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(AP=EP||(EP={})).PUSH_RECEIVED="push-received",AP.NOTIFICATION_CLICKED="notification-clicked";function RP(t){return Mu(this,void 0,void 0,(function(){var e,n,r=this;return Fu(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=i.sent(),!e.map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,MR("fcm_token_details_db",5,(function(e){return Mu(r,void 0,void 0,(function(){var r,i,o,s;return Fu(this,(function(a){switch(a.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=e.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,r.clear()];case 2:if(a.sent(),!i)return[2];if(2===e.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:xP(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:xP(o.auth),p256dh:xP(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:xP(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,FR("fcm_token_details_db")];case 4:return i.sent(),[4,FR("fcm_vapid_details_db")];case 5:return i.sent(),[4,FR("undefined")];case 6:return i.sent(),[2,PP(n)?n:null]}}))}))}function PP(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DP="firebase-messaging-store",OP=null;function LP(){return OP||(OP=MR("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(DP)}}))),OP}function MP(t){return Mu(this,void 0,void 0,(function(){var e,n,r;return Fu(this,(function(i){switch(i.label){case 0:return e=jP(t),[4,LP()];case 1:return[4,i.sent().transaction(DP).objectStore(DP).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,RP(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,FP(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function FP(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i;return Fu(this,(function(o){switch(o.label){case 0:return n=jP(t),[4,LP()];case 1:return r=o.sent(),[4,(i=r.transaction(DP,"readwrite")).objectStore(DP).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function UP(t){return Mu(this,void 0,void 0,(function(){var e,n,r;return Fu(this,(function(i){switch(i.label){case 0:return e=jP(t),[4,LP()];case 1:return n=i.sent(),[4,(r=n.transaction(DP,"readwrite")).objectStore(DP).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function jP(t){return t.appConfig.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Fu(this,(function(u){switch(u.label){case 0:return[4,WP(t)];case 1:n=u.sent(),r=HP(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(KP(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),kP.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw a=o.error.message,kP.create("token-subscribe-failed",{errorInfo:a});if(!o.token)throw kP.create("token-subscribe-no-token");return[2,o.token]}}))}))}function VP(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Fu(this,(function(u){switch(u.label){case 0:return[4,WP(t)];case 1:n=u.sent(),r=HP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(KP(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),kP.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw a=o.error.message,kP.create("token-update-failed",{errorInfo:a});if(!o.token)throw kP.create("token-update-no-token");return[2,o.token]}}))}))}function BP(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o,s;return Fu(this,(function(a){switch(a.label){case 0:return[4,WP(t)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(KP(t.appConfig)+"/"+e,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw o=i.error.message,kP.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw s=a.sent(),kP.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function KP(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function WP(t){var e=t.appConfig,n=t.installations;return Mu(this,void 0,void 0,(function(){var t;return Fu(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function HP(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==CP&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o,s;return Fu(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw kP.create("permission-blocked");return[4,$P(e,n)];case 1:return r=a.sent(),[4,MP(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:xP(r.getKey("auth")),p256dh:xP(r.getKey("p256dh"))},i?[3,3]:[2,YP(t,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,d=c.p256dh===u.p256dh,l&&h&&f&&d)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,BP(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,YP(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,QP({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,d;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function GP(t,e){return Mu(this,void 0,void 0,(function(){var n,r;return Fu(this,(function(i){switch(i.label){case 0:return[4,MP(t)];case 1:return(n=i.sent())?[4,BP(t,n.token)]:[3,4];case 2:return i.sent(),[4,UP(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function QP(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o;return Fu(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,VP(e,t)];case 1:return r=s.sent(),i=Lu(Lu({},t),{token:r,createTime:Date.now()}),[4,FP(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,GP(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function YP(t,e){return Mu(this,void 0,void 0,(function(){var n,r;return Fu(this,(function(i){switch(i.label){case 0:return[4,qP(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,FP(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function $P(t,e){return Mu(this,void 0,void 0,(function(){var n;return Fu(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:NP(e)})]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function XP(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZP=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw kP.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Mu(this,void 0,void 0,(function(){var n;return Fu(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,MP(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:CP,r.label=2;case 2:return[2,zP(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return GP(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw kP.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw kP.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw kP.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw kP.create("only-available-in-window")},t.prototype.onMessage=function(){throw kP.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw kP.create("only-available-in-window")},t.prototype.onPush=function(t){return Mu(this,void 0,void 0,(function(){var e,n,r,i;return Fu(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,rD()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,nD(n,e)]:(r=!1,e.notification?[4,iD(tD(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,JP(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Mu(this,void 0,void 0,(function(){var r;return Fu(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,GP(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,MP(this.firebaseDependencies)];case 3:return r=i.sent(),[4,GP(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,zP(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:CP)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Mu(this,void 0,void 0,(function(){var r,i,o,s,a;return Fu(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return XP(t.data)?self.location.origin:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,eD(o)]):[2]):[2];case 1:return(a=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=u.sent(),[4,JP(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=u.sent(),u.label=6;case 6:return a?(r.messageType=EP.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}}))}))},t}();function tD(t){var e,n=Lu({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function eD(t){return Mu(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return Fu(this,(function(u){switch(u.label){case 0:return[4,rD()];case 1:e=u.sent();try{for(n=Uu(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(t){s={error:t}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function nD(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=EP.PUSH_RECEIVED;try{for(var i=Uu(t),o=i.next();!o.done;o=i.next()){o.value.postMessage(e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function rD(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function iD(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var oD=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Mu(this,void 0,void 0,(function(){var e,n;return Fu(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===EP.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),XP(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw kP.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,zP(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=CP),[2]}))}))},t.prototype.updateSwReg=function(t){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw kP.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Mu(this,void 0,void 0,(function(){var t,e;return Fu(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),kP.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,GP(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Mu(this,void 0,void 0,(function(){var t;return Fu(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?kP.create("permission-blocked"):kP.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw kP.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw kP.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw kP.create("invalid-sw-registration");if(this.swRegistration)throw kP.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw kP.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw kP.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Mu(this,void 0,void 0,(function(){var n;return Fu(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case EP.NOTIFICATION_CLICKED:return"notification_open";case EP.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function sD(t){return kP.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aD={isSupported:uD};function uD(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}il.INTERNAL.registerComponent(new xc("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw sD("App Configuration Object");if(!t.name)throw sD("App Name");var r=t.options;try{for(var i=Uu(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw sD(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!uD())throw kP.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new ZP(n):new oD(n)}),"PUBLIC").setServiceProps(aD));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cD=function(t){function e(n,r){var i=t.call(this,lD(n),"Firebase Storage: "+r+" ("+lD(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Ou(e,t),e.prototype._codeEquals=function(t){return lD(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(ac);function lD(t){return"storage/"+t}function hD(){return new cD("unknown","An unknown error occurred, please check the error payload for server response.")}function fD(){return new cD("canceled","User canceled the upload/download.")}function dD(){return new cD("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function pD(t){return new cD("invalid-argument",t)}function vD(){return new cD("app-deleted","The Firebase app was deleted.")}function gD(t){return new cD("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mD(t,e){return new cD("invalid-format","String does not match format '"+t+"': "+e)}function yD(t){throw new cD("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bD={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},wD=function(t,e){this.data=t,this.contentType=e||null};function _D(t,e){switch(t){case bD.RAW:return new wD(ID(e));case bD.BASE64:case bD.BASE64URL:return new wD(TD(t,e));case bD.DATA_URL:return new wD((n=new ED(e)).base64?TD(bD.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw mD(bD.DATA_URL,"Malformed data URL.")}return ID(e)}(n.rest),function(t){return new ED(t).contentType}(e))}var n;throw hD()}function ID(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function TD(t,e){switch(t){case bD.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw mD(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case bD.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw mD(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(e){throw mD(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var ED=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw mD(bD.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var AD,SD,kD={STATE_CHANGED:"state_changed"},CD={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function xD(t){switch(t){case"running":case"pausing":case"canceling":return CD.RUNNING;case"paused":return CD.PAUSED;case"success":return CD.SUCCESS;case"canceled":return CD.CANCELED;case"error":default:return CD.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(SD=AD||(AD={}))[SD.NO_ERROR=0]="NO_ERROR",SD[SD.NETWORK_ERROR=1]="NETWORK_ERROR",SD[SD.ABORT=2]="ABORT";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ND=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=AD.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=AD.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=AD.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw yD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw yD("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw yD("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw yD("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),RD=function(){function t(){}return t.prototype.createXhrIo=function(){return new ND},t}(),PD=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(n){return new t(e,"")}if(""===r.path)return r;throw new cD("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new t(f,d),l.postModify(r);break}}if(null==r)throw function(t){return new cD("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),DD=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){return"string"==typeof t||t instanceof String}function LD(t){return MD()&&t instanceof Blob}function MD(){return"undefined"!=typeof Blob}function FD(t,e,n,r){if(r<e)throw pD("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw pD("Invalid value for '"+t+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function jD(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qD=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(t){o(t)}else null!==s?((r=hD()).serverResponse=s.getResponseText(),t.errorCallback_?o(t.errorCallback_(s,r)):o(r)):n.canceled?o(r=t.appDelete_?vD():fD()):o(r=new cD("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new VD(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var u=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function l(e){i=setTimeout((function(){i=null,t(h,a())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,qu([null,t],e));else{var i;a()||o?c.call.apply(c,qu([null,t],e)):(r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function d(t){f||(f=!0,u||(null!==i?(t||(s=2),clearTimeout(i),l(0)):t||(s=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(e,n){if(n)e(!1,new VD(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===AD.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new VD(s,n))}else{var a=n.getErrorCode()===AD.ABORT;e(!1,new VD(!1,null,a))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),VD=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function BD(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function KD(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=BD();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(MD())return new Blob(t);throw new cD("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var WD=function(){function t(t,e){var n=0,r="";LD(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(LD(this.data_)){var r=this.data_,i=(s=e,a=n,(o=r).webkitSlice?o.webkitSlice(s,a):o.mozSlice?o.mozSlice(s,a):o.slice?o.slice(s,a):null);return null===i?null:new t(i)}var o,s,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(MD()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(KD.apply(null,r))}var i=e.map((function(t){return OD(t)?_D(bD.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t,e){return e}var QD=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||GD},YD=null;function $D(){if(YD)return YD;var t=[];t.push(new QD("bucket")),t.push(new QD("generation")),t.push(new QD("metageneration")),t.push(new QD("name","fullPath",!0));var e=new QD("name");e.xform=function(t,e){return function(t){return!OD(t)||t.length<2?t:zD(t)}(e)},t.push(e);var n=new QD("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new QD("timeCreated")),t.push(new QD("updated")),t.push(new QD("md5Hash",null,!0)),t.push(new QD("cacheControl",null,!0)),t.push(new QD("contentDisposition",null,!0)),t.push(new QD("contentEncoding",null,!0)),t.push(new QD("contentLanguage",null,!0)),t.push(new QD("contentType",null,!0)),t.push(new QD("metadata","customMetadata",!0)),YD=t}function XD(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new PD(n,r);return e._makeStorageReference(i)}})}(r,t),r}function JD(t,e,n){var r=HD(e);return null===r?null:XD(t,r,n)}function ZD(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t,e,n){var r=HD(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new PD(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];a=t._makeStorageReference(new PD(e,l.name)),r.items.push(a)}return r}(t,e,r)}var eO=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){if(!t)throw hD()}function rO(t,e){return function(n,r){var i=JD(t,r,e);return nO(null!==i),i}}function iO(t,e){return function(n,r){var i=JD(t,r,e);return nO(null!==i),function(t,e,n){var r=HD(e);if(null===r)return null;if(!OD(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.bucket,i=t.fullPath;return UD("/b/"+o(r)+"/o/"+o(i),n)+jD({alt:"media",token:e})}))[0]}(i,r,t.host)}}function oO(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=e.getResponseText().includes("Firebase App Check token is invalid")?new cD("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new cD("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new cD("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new cD("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function sO(t){var e=oO(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new cD("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function aO(t,e,n){var r=UD(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new eO(r,"GET",rO(t,n),i);return o.errorHandler=sO(e),o}function uO(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=UD(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new eO(s,"GET",function(t,e){return function(n,r){var i=tO(t,e,r);return nO(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=oO(e),u}function cO(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var lO=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function hO(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){nO(!1)}return nO(!!n&&-1!==(e||["active"]).indexOf(n)),n}function fO(t,e,n,r,i,o,s,a){var u=new lO(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new cD("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,f);if(null===p)throw dD();var v=e.maxUploadRetryTime,g=new eO(n,"POST",(function(t,n){var i,s=hO(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?rO(e,o)(t,n):null,new lO(a,c,"final"===s,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=a||null,g.errorHandler=oO(t),g}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dO=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vO=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=$D(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=cO(e,r,i),a={name:s.fullPath},u=UD(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=ZD(s,n),h=t.maxUploadRetryTime,f=new eO(u,"POST",(function(t){var e;hO(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){nO(!1)}return nO(OD(e)),e}),h);return f.urlParams=a,f.headers=c,f.body=l,f.errorHandler=oO(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new eO(n,"POST",(function(t){var e=hO(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){nO(!1)}n||nO(!1);var i=Number(n);return nO(!isNaN(i)),new lO(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=oO(e),o}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new lO(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var s;try{s=fO(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(e){return t._error=e,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=aO(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=cO(e,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ZD(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+a+"--",h=WD.getBlob(c,r,l);if(null===h)throw dD();var f={name:u.fullPath},d=UD(o,t.host),p=t.maxUploadRetryTime,v=new eO(d,"POST",rO(t,n),p);return v.urlParams=f,v.headers=s,v.body=h.uploadData(),v.errorHandler=oO(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=fD(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=xD(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new dO(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(xD(this._state)){case CD.SUCCESS:pO(this._resolve.bind(null,this.snapshot))();break;case CD.CANCELED:case CD.ERROR:pO(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(xD(this._state)){case CD.RUNNING:case CD.PAUSED:t.next&&pO(t.next.bind(t,this.snapshot))();break;case CD.SUCCESS:t.complete&&pO(t.complete.bind(t))();break;case CD.CANCELED:case CD.ERROR:t.error&&pO(t.error.bind(t,this._error))();break;default:t.error&&pO(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),gO=function(){function t(t,e){this._service=t,this._location=e instanceof PD?e:PD.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new PD(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return zD(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new PD(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw gD(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t){var e={prefixes:[],items:[]};return yO(t,e).then((function(){return e}))}function yO(t,e,n){return Mu(this,void 0,void 0,(function(){var r,i,o;return Fu(this,(function(s){switch(s.label){case 0:return[4,bO(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,yO(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function bO(t,e){return Mu(this,void 0,void 0,(function(){var n,r;return Fu(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&FD("options.maxResults",1,1e3,e.maxResults),n=e||{},r=uO(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function wO(t,e){return Mu(this,void 0,void 0,(function(){var n;return Fu(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=UD(e.fullServerUrl(),t.host),o=ZD(n,r),s=t.maxOperationRetryTime,a=new eO(i,"PATCH",rO(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=sO(e),a}(t.storage,t._location,e,$D()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function _O(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=UD(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new eO(r,"GET",iO(t,n),i);return o.errorHandler=sO(e),o}(t.storage,t._location,$D()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new cD("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function IO(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=UD(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,i=new eO(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=sO(e),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function TO(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new PD(t._location.bucket,n);return new gO(t.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){return/^[A-Za-z]+:\/\//.test(t)}function AO(t,e){if(t instanceof CO){var n=t;if(null==n._bucket)throw new cD("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new gO(n,n._bucket);return null!=e?AO(r,e):r}if(void 0!==e){if(e.includes(".."))throw pD('`path` param cannot contain ".."');return TO(t,e)}return t}function SO(t,e){if(e&&EO(e)){if(t instanceof CO)return new gO(t,e);throw pD("To use ref(service, url), the first argument must be a Storage instance.")}return AO(t,e)}function kO(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:PD.makeFromBucketSpec(n,t)}var CO=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?PD.makeFromBucketSpec(i,this._host):kO(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=PD.makeFromBucketSpec(this._url,t):this._bucket=kO(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){FD("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){FD("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Mu(this,void 0,void 0,(function(){var t,e;return Fu(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return Mu(this,void 0,void 0,(function(){var t;return Fu(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new gO(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new DD(vD());var i=function(t,e,n,r,i,o){var s=jD(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new qD(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return Mu(this,void 0,void 0,(function(){var e,n,r;return Fu(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new vO(t,new WD(e),n)}(t=Cc(t),e,n)}function NO(t){return function(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=aO(t.storage,t._location,$D()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Cc(t))}function RO(t,e){return SO(t=Cc(t),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var PO=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),DO=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new PO(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new PO(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new PO(t,i,i._ref))}:{next:e.next?function(t){return e.next(new PO(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),OO=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new LO(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new LO(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),LO=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return TO(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new DO(xO(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=bD.RAW),this._throwIfRoot("putString");var r=_D(e,t),i=Lu({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new DO(new vO(this._delegate,new WD(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,mO(t=Cc(t))).then((function(t){return new OO(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return bO(t=Cc(t),e)}(this._delegate,t||void 0).then((function(t){return new OO(t,e.storage)}))},t.prototype.getMetadata=function(){return NO(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return wO(t=Cc(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return _O(Cc(this._delegate))},t.prototype.delete=function(){return this._throwIfRoot("delete"),IO(Cc(this._delegate))},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw gD(t)},t}(),MO=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(EO(t))throw pD("ref() expected a child path but got a URL, use refFromURL instead.");return new LO(RO(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!EO(t))throw pD("refFromURL() expected a full URL but got a child path, use ref() instead.");try{PD.makeFromUrl(t,this._delegate.host)}catch(t){throw pD("refFromUrl() expected a valid full URL but got an invalid one.")}return new LO(RO(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new MO(r,new CO(r,i,o,new RD,n,il.SDK_VERSION))}!function(t){var e={TaskState:CD,TaskEvent:kD,StringFormat:bD,Storage:CO,Reference:LO};t.INTERNAL.registerComponent(new xc("storage",FO,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.5.2")}(il);var UO,jO,qO,VO=((UO={})["trace started"]="Trace {$traceName} was started before.",UO["trace stopped"]="Trace {$traceName} is not running.",UO["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",UO["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",UO["no window"]="Window is not available.",UO["no app id"]="App id is not available.",UO["no project id"]="Project id is not available.",UO["no api key"]="Api key is not available.",UO["invalid cc log"]="Attempted to queue invalid cc event",UO["FB not default"]="Performance can only start when Firebase app instance is the default one.",UO["RC response not ok"]="RC response is not ok",UO["invalid attribute name"]="Attribute name {$attributeName} is invalid.",UO["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",UO["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",UO["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",UO),BO=new uc("performance","Performance",VO),KO=new Bc("Performance");KO.logLevel=Oc.INFO;var WO,HO=function(){function t(t){if(this.window=t,!t)throw BO.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!ic()||(KO.info("IndexedDB is not supported by current browswer"),!1):(KO.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===jO&&(jO=new t(qO)),jO},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function zO(t,e){var n=t.length-e.length;if(n<0||n>1)throw BO.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GO,QO,YO,$O=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=zO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=zO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw BO.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw BO.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw BO.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===WO&&(WO=new t),WO},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){return GO}(YO=QO||(QO={}))[YO.UNKNOWN=0]="UNKNOWN",YO[YO.VISIBLE=1]="VISIBLE",YO[YO.HIDDEN=2]="HIDDEN";var JO=["firebase_","google_","ga_"],ZO=new RegExp("^[a-zA-Z]\\w*$");function tL(){switch(HO.getInstance().document.visibilityState){case"visible":return QO.VISIBLE;case"hidden":return QO.HIDDEN;default:return QO.UNKNOWN}}function eL(){var t=HO.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var nL=!0;function rL(t){var e=function(){var t=HO.getInstance().localStorage;if(!t)return;var e=t.getItem("@firebase/performance/configexpire");if(!(e&&(n=e,Number(n)>Date.now())))return;var n;var r=t.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(t){return}}();return e?(iL(e),Promise.resolve()):function(t){return(e=$O.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+$O.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+$O.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:$O.getInstance().getAppId(),app_version:"0.4.12",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw BO.create("RC response not ok")}))})).catch((function(){KO.info("Could not fetch config, will use default configs")}));var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t).then(iL).then((function(t){return function(t){var e=HO.getInstance().localStorage;if(!t||!e)return;e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*$O.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}function iL(t){if(!t)return t;var e=$O.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=nL,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=oL(e.tracesSamplingRate),e.logNetworkAfterSampling=oL(e.networkRequestsSamplingRate),t}function oL(t){return Math.random()<=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sL,aL=1;function uL(){var t;return aL=2,sL=sL||(t=HO.getInstance().document,new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))).then((function(){return(t=$O.getInstance().installationsService.getId()).then((function(t){GO=t})),t;var t})).then((function(t){return rL(t)})).then((function(){return cL()}),(function(){return cL()}))}function cL(){aL=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lL,hL=3,fL=[],dL=!1;function pL(t){setTimeout((function(){var t,e;if(0!==hL)return fL.length?(t=fL.splice(0,1e3),e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(t,e){return function(t){var e=$O.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||KO.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(fL=qu(qu([],e),fL),KO.info("Retry transport request later.")),hL=3,pL(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:$O.getInstance().logSource,log_event:e},t).catch((function(){fL=qu(qu([],t),fL),hL--,KO.info("Tries left: "+hL+"."),pL(1e4)}))):pL(1e4)}),t)}function vL(t){if(!t.eventTime||!t.message)throw BO.create("invalid cc log");fL=qu(qu([],fL),[t])}function gL(t,e){var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lL||(n=bL,lL=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];vL({message:n.apply(void 0,t),eventTime:Date.now()})}),lL(t,e)}function mL(t){var e=$O.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&HO.getInstance().requiredApisAvailable()&&(t.isAuto&&tL()!==QO.VISIBLE||(3===aL?yL(t):uL().then((function(){return yL(t)}),(function(){return yL(t)}))))}function yL(t){if(XO()){var e=$O.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return gL(t,1)}),0)}}function bL(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:wL(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:wL(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function wL(){return{google_app_id:$O.getInstance().getAppId(),app_instance_id:XO(),web_app_info:{sdk_version:"0.4.12",page_url:HO.getInstance().getUrl(),service_worker_status:(t=HO.getInstance().navigator,"serviceWorker"in t?t.serviceWorker.controller?2:3:1),visibility_state:tL(),effective_connection_type:eL()},application_process_state:0};var t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _L=["_fp","_fcp","_fid"];
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var IL=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=HO.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw BO.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw BO.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),mL(this)},t.prototype.record=function(t,e,n){if(t<=0)throw BO.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw BO.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Lu({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}mL(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(i=t,o=this.name,0===i.length||i.length>100||!(o&&o.startsWith("_wt_")&&_L.indexOf(i)>-1)&&i.startsWith("_"))throw BO.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&KO.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||JO.some((function(t){return n.startsWith(t)}))||!n.match(ZO)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw BO.create("invalid attribute name",{attributeName:t});if(!i)throw BO.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Lu({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=HO.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),s=Math.floor(1e3*HO.getInstance().getTimeOrigin());o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}mL(o)}},t.createUserTimingTrace=function(e){mL(new t(e,!1,e))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t){var e=t;if(e&&void 0!==e.responseStart){var n=HO.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=$O.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return gL(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(){XO()&&(setTimeout((function(){return function(){var t=HO.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){IL.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),IL.createOobTrace(e,n,t))}))}else IL.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=HO.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){TL(r[n])}t.setupObserver("resource",TL)}()}),0),setTimeout((function(){return function(){for(var t=HO.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){AL(r[n])}t.setupObserver("measure",AL)}()}),0))}function AL(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&IL.createUserTimingTrace(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SL=function(){function t(t){this.app=t,HO.getInstance().requiredApisAvailable()&&oc().then((function(t){t&&(dL||(pL(5500),dL=!0),uL().then(EL,EL))})).catch((function(t){KO.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new IL(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return $O.getInstance().instrumentationEnabled},set:function(t){$O.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return $O.getInstance().dataCollectionEnabled},set:function(t){$O.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw BO.create("FB not default");if("undefined"==typeof window)throw BO.create("no window");var n;return n=window,qO=n,$O.getInstance().firebaseAppInstance=t,$O.getInstance().installationsService=e,new SL(t)};t.INTERNAL.registerComponent(new xc("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance","0.4.12")}(il);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var kL,CL,xL,NL,RL="https://www.googletagmanager.com/gtag/js";(CL=kL||(kL={})).EVENT="event",CL.SET="set",CL.CONFIG="config",(NL=xL||(xL={})).ADD_SHIPPING_INFO="add_shipping_info",NL.ADD_PAYMENT_INFO="add_payment_info",NL.ADD_TO_CART="add_to_cart",NL.ADD_TO_WISHLIST="add_to_wishlist",NL.BEGIN_CHECKOUT="begin_checkout",NL.CHECKOUT_PROGRESS="checkout_progress",NL.EXCEPTION="exception",NL.GENERATE_LEAD="generate_lead",NL.LOGIN="login",NL.PAGE_VIEW="page_view",NL.PURCHASE="purchase",NL.REFUND="refund",NL.REMOVE_FROM_CART="remove_from_cart",NL.SCREEN_VIEW="screen_view",NL.SEARCH="search",NL.SELECT_CONTENT="select_content",NL.SELECT_ITEM="select_item",NL.SELECT_PROMOTION="select_promotion",NL.SET_CHECKOUT_OPTION="set_checkout_option",NL.SHARE="share",NL.SIGN_UP="sign_up",NL.TIMING_COMPLETE="timing_complete",NL.VIEW_CART="view_cart",NL.VIEW_ITEM="view_item",NL.VIEW_ITEM_LIST="view_item_list",NL.VIEW_PROMOTION="view_promotion",NL.VIEW_SEARCH_RESULTS="view_search_results";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var PL,DL=new Bc("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e,n,r,i,o){return Mu(this,void 0,void 0,(function(){var s,a,u,c;return Fu(this,(function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(u=a.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),DL.error(c),[3,8];case 8:return t(kL.CONFIG,i,o),[2]}}))}))}function LL(t,e,n,r,i){return Mu(this,void 0,void 0,(function(){var o,s,a,u,c,l,h,f;return Fu(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=d.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=s;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(kL.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),DL.error(f),[3,5];case 5:return[2]}}))}))}function ML(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Mu(this,void 0,void 0,(function(){var a;return Fu(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==kL.EVENT?[3,2]:[4,LL(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==kL.CONFIG?[3,4]:[4,OL(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(kL.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),DL.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var FL=((PL={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",PL["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",PL["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",PL["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",PL["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",PL["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",PL["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",PL["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',PL["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',PL),UL=new uc("analytics","Analytics",FL),jL=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function qL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function VL(t){var e;return Mu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Fu(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:qL(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=c.sent()).status||304===s.status)return[3,6];a="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw UL.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function BL(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=jL),Mu(this,void 0,void 0,(function(){var e,s,a,u,c,l,h;return Fu(this,(function(f){switch(f.label){case 0:e=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,KL(n,i)];case 2:return f.sent(),[3,4];case 3:if(a=f.sent(),s)return DL.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return f.trys.push([4,6,,7]),[4,VL(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof ac&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),s)return DL.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return l=503===Number(c.customData.httpStatus)?kc(o,r.intervalMillis,30):kc(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),DL.debug("Calling attemptFetch again in "+l+" millis"),[2,BL(t,h,n,r)];case 7:return[2]}}))}))}function KL(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(UL.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var WL=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t,e,n,r,i,o){return Mu(this,void 0,void 0,(function(){var s,a,u,c,l,h,f;return Fu(this,(function(d){switch(d.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=jL),Mu(this,void 0,void 0,(function(){var r,i,o,s,a,u,c=this;return Fu(this,(function(l){if(r=t.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw UL.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw UL.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new WL,setTimeout((function(){return Mu(c,void 0,void 0,(function(){return Fu(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,BL({appId:i,apiKey:o,measurementId:s},a,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&DL.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return DL.error(t)})),e.push(s),a=function(){return Mu(this,void 0,void 0,(function(){var t;return Fu(this,(function(e){switch(e.label){case 0:return ic()?[3,1]:(DL.warn(UL.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,oc()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),DL.warn(UL.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(RL))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()||function(t,e){var n=document.createElement("script");n.src=RL+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(kL.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zL,GL,QL={},YL=[],$L={},XL="dataLayer",JL="gtag",ZL=!1;function tM(t){if(ZL)throw UL.create("already-initialized");t.dataLayerName&&(XL=t.dataLayerName),t.gtagName&&(JL=t.gtagName)}function eM(t,e){!function(){var t=[];if(ec()&&t.push("This is a browser extension environment."),sc()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=UL.create("invalid-analytics-context",{errorInfo:e});DL.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw UL.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw UL.create("no-api-key");DL.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=QL[i])throw UL.create("already-exists",{id:i});if(!ZL){n=XL,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=ML(QL,YL,$L,XL,JL),s=o.wrappedGtag,a=o.gtagCore;GL=s,zL=a,ZL=!0}return QL[i]=HL(t,YL,$L,e,zL,XL),{app:t,logEvent:function(t,e,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n,r,i){return Mu(this,void 0,void 0,(function(){var o,s;return Fu(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(kL.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Lu(Lu({},r),{send_to:o}),t(kL.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(GL,QL[i],t,e,n).catch((function(t){return DL.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Mu(this,void 0,void 0,(function(){var i;return Fu(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(kL.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(kL.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(GL,QL[i],t,e).catch((function(t){return DL.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Mu(this,void 0,void 0,(function(){var i;return Fu(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(kL.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(kL.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(GL,QL[i],t,e).catch((function(t){return DL.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Mu(this,void 0,void 0,(function(){var i,o,s,a,u;return Fu(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return t(kL.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(kL.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(GL,QL[i],t,e).catch((function(t){return DL.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Mu(this,void 0,void 0,(function(){var n;return Fu(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(QL[i],t).catch((function(t){return DL.error(t)}))},INTERNAL:{delete:function(){return delete QL[i],Promise.resolve()}}}}function nM(){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(t){switch(t.label){case 0:if(ec())return[2,!1];if(!sc())return[2,!1];if(!ic())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,oc()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new xc("analytics",(function(t){return eM(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:tM,EventName:xL,isSupported:nM})),t.INTERNAL.registerComponent(new xc("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(t){throw UL.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.10")}(il);var rM,iM=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Mu(this,void 0,void 0,(function(){var e,n,r,i,o;return Fu(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),oM=((rM={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",rM["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",rM["registration-api-key"]="Undefined API key. Check Firebase app initialization.",rM["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",rM["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",rM["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",rM["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",rM["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",rM["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",rM["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',rM["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',rM["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",rM["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",rM),sM=new uc("remoteconfig","Remote Config",oM);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var aM=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Mu(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,c,l,h,f,d,p,v,g,m,y,b;return Fu(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=w.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:s,body:JSON.stringify(a)},c=fetch(o,u),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return h=w.sent(),[3,6];case 5:throw f=w.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),sM.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,h.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),sM.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=y.entries,m=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?p=500:"NO_CHANGE"===m?p=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==p&&200!==p)throw sM.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:g}]}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _}))}))},t}(),uM=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),cM=["1","true","t","yes","y","on"],lM=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&cM.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),hM=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Oc.DEBUG;break;case"silent":this._logger.logLevel=Oc.SILENT;break;default:this._logger.logLevel=Oc.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Mu(this,void 0,void 0,(function(){var t,e,n;return Fu(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return Mu(this,void 0,void 0,(function(){var t,e,n,r=this;return Fu(this,(function(i){switch(i.label){case 0:t=new uM,setTimeout((function(){return Mu(r,void 0,void 0,(function(){return Fu(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof ac&&-1!==t.code.indexOf(e)}(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return Mu(this,void 0,void 0,(function(){return Fu(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(Lu(Lu({},t),e))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new lM("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new lM("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new lM("static"))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e){var n=t.target.error||void 0;return sM.create(e,{originalErrorMessage:n&&n.message})}var dM=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(fM(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Mu(this,void 0,void 0,(function(){var e,n=this;return Fu(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(fM(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){i(sM.create("storage-get",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.set=function(t,e){return Mu(this,void 0,void 0,(function(){var n,r=this;return Fu(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=r.createCompositeKey(t);try{var u=s.put({compositeKey:a,value:e});u.onerror=function(t){o(fM(t,"storage-set"))},u.onsuccess=function(){i()}}catch(t){o(sM.create("storage-set",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.delete=function(t){return Mu(this,void 0,void 0,(function(){var e,n=this;return Fu(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(fM(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(t){i(sM.create("storage-delete",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),pM=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Mu(this,void 0,void 0,(function(){var t,e,n,r,i,o;return Fu(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function vM(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(sM.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var gM,mM,yM=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Mu(this,void 0,void 0,(function(){var e,i,o;return Fu(this,(function(s){switch(s.label){case 0:return[4,vM(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof ac&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+kc(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),bM="@firebase/remote-config";(gM=il).INTERNAL.registerComponent(new xc("remoteConfig",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw sM.create("registration-window");var o=r.options,s=o.projectId,a=o.apiKey,u=o.appId;if(!s)throw sM.create("registration-project-id");if(!a)throw sM.create("registration-api-key");if(!u)throw sM.create("registration-app-id");n=n||"firebase";var c=new dM(u,r.name,n),l=new pM(c),h=new Bc(bM);h.logLevel=Oc.ERROR;var f=new aM(i,gM.SDK_VERSION,n,s,a,u),d=new yM(f,c),p=new iM(d,c,l,h),v=new hM(r,p,l,c,h);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),gM.registerVersion(bM,"0.1.37");var wM=((mM={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",mM["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",mM["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",mM["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",mM["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",mM["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",mM["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",mM["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",mM["recaptcha-error"]="ReCAPTCHA error.",mM),_M=new uc("appCheck","AppCheck",wM),IM=new Map,TM={activated:!1,tokenListeners:[]},EM={enabled:!1};function AM(t){return IM.get(t)||TM}function SM(t,e){IM.set(t,e)}function kM(){return EM}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(){return self.grecaptcha}function xM(t){if(!AM(t).activated)throw _M.create("use-before-activation",{appName:t.name})}function NM(t,e){var n=AM(t),r=new $u;SM(t,Lu(Lu({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var s,a,u=CM();return u?u.ready((function(){PM(t,e,u,i),r.resolve(u)})):(s=function(){var n=CM();if(!n)throw new Error("no recaptcha");n.ready((function(){PM(t,e,n,i),r.resolve(n)}))},(a=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",a.onload=s,document.head.appendChild(a)),r.promise}function RM(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:return xM(t),[4,AM(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise((function(n,r){var i=AM(t).reCAPTCHAState;e.ready((function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function PM(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),o=AM(t);SM(t,Lu(Lu({},o),{reCAPTCHAState:Lu(Lu({},o.reCAPTCHAState),{widgetId:i})}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var DM="https://content-firebaseappcheck.googleapis.com/v1beta",OM=3e4,LM=96e4,MM=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return Mu(this,void 0,void 0,(function(){var e;return Fu(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new $u,[4,(r=this.getNextRun(t),new Promise((function(t){setTimeout(t,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new $u,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function FM(t,e){var n=t.url,r=t.body;return Mu(this,void 0,void 0,(function(){var t,i,o,s,a,u,c,l,h,f;return Fu(this,(function(d){switch(d.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),o={method:"POST",body:JSON.stringify(r),headers:t},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,fetch(n,o)];case 2:return s=d.sent(),[3,4];case 3:throw a=d.sent(),_M.create("fetch-network-error",{originalErrorMessage:a.message});case 4:if(200!==s.status)throw _M.create("fetch-status-error",{httpStatus:s.status});d.label=5;case 5:return d.trys.push([5,7,,8]),[4,s.json()];case 6:return u=d.sent(),[3,8];case 7:throw c=d.sent(),_M.create("fetch-parse-error",{originalErrorMessage:c.message});case 8:if(!(l=u.ttl.match(/^([\d.]+)(s)$/))||!l[2]||isNaN(Number(l[1])))throw _M.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+u.ttl});return h=1e3*Number(l[1]),f=Date.now(),[2,{token:u.attestationToken,expireTimeMillis:f+h,issuedAtTimeMillis:f}]}}))}))}function UM(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:DM+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:e}}}function jM(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:DM+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qM="firebase-app-check-store",VM=null;function BM(){return VM||(VM=new Promise((function(t,e){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(_M.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(qM,{keyPath:"compositeKey"})}}}catch(t){e(_M.create("storage-open",{originalErrorMessage:t.message}))}})))}function KM(t){return HM(zM(t))}function WM(t,e){return Mu(this,void 0,void 0,(function(){var n,r,i,o;return Fu(this,(function(s){switch(s.label){case 0:return[4,BM()];case 1:return n=s.sent(),r=n.transaction(qM,"readwrite"),i=r.objectStore(qM),o=i.put({compositeKey:t,value:e}),[2,new Promise((function(t,e){o.onsuccess=function(e){t()},r.onerror=function(t){var n;e(_M.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function HM(t){return Mu(this,void 0,void 0,(function(){var e,n,r,i;return Fu(this,(function(o){switch(o.label){case 0:return[4,BM()];case 1:return e=o.sent(),n=e.transaction(qM,"readonly"),r=n.objectStore(qM),i=r.get(t),[2,new Promise((function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(_M.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function zM(t){return t.options.appId+"-"+t.name}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GM=new Bc("@firebase/app-check");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){return Mu(this,void 0,void 0,(function(){var e,n;return Fu(this,(function(r){switch(r.label){case 0:if(!ic())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,KM(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),GM.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}}))}))}function YM(t,e){return ic()?function(t,e){return WM(zM(t),e)}(t,e).catch((function(t){GM.warn("Failed to write token to indexeddb. Error: "+t)})):Promise.resolve()}function $M(){return Mu(this,void 0,void 0,(function(){var t,e;return Fu(this,(function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,HM("debug-token")];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),(r=e,WM("debug-token",r)).catch((function(t){return GM.warn("Failed to persist debug token to indexeddb. Error: "+t)})),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(){return kM().enabled}function JM(){return Mu(this,void 0,void 0,(function(){var t;return Fu(this,(function(e){if((t=kM()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ZM={error:"UNKNOWN_ERROR"};function tF(t){return zu.encodeString(JSON.stringify(t),!1)}function eF(t,e,n){return void 0===n&&(n=!1),Mu(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f,d,p,v;return Fu(this,(function(g){switch(g.label){case 0:return xM(t),XM()?(r=FM,i=jM,o=[t],[4,JM()]):[3,3];case 1:return[4,r.apply(void 0,[i.apply(void 0,o.concat([g.sent()])),e])];case 2:return[2,{token:g.sent().token}];case 3:return s=AM(t),a=s.token,u=void 0,a?[3,5]:[4,QM(t)];case 4:(c=g.sent())&&iF(c)&&(a=c,SM(t,Lu(Lu({},s),{token:a})),rF(t,{token:a.token})),g.label=5;case 5:if(!n&&a&&iF(a))return[2,{token:a.token}];g.label=6;case 6:return g.trys.push([6,12,,13]),s.customProvider?[4,s.customProvider.getToken()]:[3,8];case 7:return l=g.sent(),h=function(t){var e=dc(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null}(l.token),f=null!==h&&h<Date.now()&&h>0?1e3*h:Date.now(),a=Lu(Lu({},l),{issuedAtTimeMillis:f}),[3,11];case 8:return[4,RM(t).catch((function(t){throw _M.create("recaptcha-error")}))];case 9:return d=g.sent(),[4,FM(UM(t,d),e)];case 10:a=g.sent(),g.label=11;case 11:return[3,13];case 12:return p=g.sent(),GM.error(p),u=p,[3,13];case 13:return a?[3,14]:(v=function(t){return{token:tF(ZM),error:t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(u),[3,16]);case 14:return v={token:a.token},SM(t,Lu(Lu({},s),{token:a})),[4,YM(t,a)];case 15:g.sent(),g.label=16;case 16:return rF(t,v),[2,v]}}))}))}function nF(t,e,n){var r=AM(t),i=Lu(Lu({},r),{tokenListeners:qu(qu([],r.tokenListeners),[n])});if(XM()){var o=kM();o.enabled&&o.token&&o.token.promise.then((function(t){return n({token:t})})).catch((function(){}))}else{if(!i.tokenRefresher){var s=function(t,e){var n=this;return new MM((function(){return Mu(n,void 0,void 0,(function(){var n;return Fu(this,(function(r){switch(r.label){case 0:return AM(t).token?[3,2]:[4,eF(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,eF(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var e=AM(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),OM,LM)}(t,e);i.tokenRefresher=s}if(i.tokenRefresher.isRunning()||!0!==r.isTokenAutoRefreshEnabled||i.tokenRefresher.start(),r.token&&iF(r.token)){var a=r.token;Promise.resolve().then((function(){return n({token:a.token})})).catch((function(){}))}}SM(t,i)}function rF(t,e){for(var n=0,r=AM(t).tokenListeners;n<r.length;n++){var i=r[n];try{i(e)}catch(t){}}}function iF(t){return t.expireTimeMillis-Date.now()>0}function oF(t){return{activate:function(e,n){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t,e,n){var r=AM(t);if(r.activated)throw _M.create("already-activated",{appName:t.name});var i=Lu(Lu({},r),{activated:!0});"string"==typeof e?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,SM(t,i),i.siteKey&&NM(t,i.siteKey).catch((function(){}))}(t,e,n)},setTokenAutoRefreshEnabled:function(e){return function(t,e){var n=AM(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),SM(t,Lu(Lu({},n),{isTokenAutoRefreshEnabled:e}))}(t,e)}}}function sF(t,e){return{getToken:function(n){return eF(t,e,n)},addTokenListener:function(n){return nF(t,e,n)},removeTokenListener:function(e){return function(t,e){var n=AM(t),r=n.tokenListeners.filter((function(t){return t!==e}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),SM(t,Lu(Lu({},n),{tokenListeners:r}))}(t,e)}}}!function(t){t.INTERNAL.registerComponent(new xc("appCheck",(function(t){return oF(t.getProvider("app").getImmediate())}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(t,e,n){t.getProvider("app-check-internal").initialize()}))),t.INTERNAL.registerComponent(new xc("app-check-internal",(function(t){return sF(t.getProvider("app").getImmediate(),t.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion("@firebase/app-check","0.1.1")}(il),function(){var t=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}();if("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=kM();e.enabled=!0;var n=new $u;e.token=n,"string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve($M())}}();
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
il.registerVersion("firebase","8.6.3","app");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),il.registerVersion("firebase","8.6.3");const aF=new Pu("AIzaSyDDXDdoYwn-bRRX0LseKP0C0EpRnIxa0M4");let uF,cF,lF=il.initializeApp({apiKey:"AIzaSyBEvDOks4bxG5eBoNHVttkhG4PewsrMVBs",authDomain:"lost-smart-teg.firebaseapp.com",databaseURL:"https://lostag.firebaseio.com",projectId:"lost-smart-teg",storageBucket:"lost-smart-teg.appspot.com",messagingSenderId:"174840217",appId:"1:174840217:web:a8cfab5d351ba625f21b08",measurementId:"G-ZC75GTZLK4"}).database().ref("location");var hF={data:()=>({nav:null}),mounted(){aF.load().then((function(t){const e={zoom:15,center:new t.maps.LatLng(37.28928696370265,127.2048022021344),scrollwheel:!1,disableDefaultUI:!0,zoomControl:!0,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#5e72e4"},{visibility:"on"}]}]};uF=new t.maps.Map(document.getElementById("map"),e),lF.on("value",(e=>{let n={lat:e.val().lat,lng:e.val().lng};console.log(n.lat),console.log(n.lng),null!=cF&&cF.setMap(null),cF=new t.maps.Marker({position:n,title:"Lost Tag",icon:"https://cdn.glitch.com/37d9e42b-5b4d-4b17-9e77-c177a73cd5ec%2Fdasol.png?v=1621847826305"}),cF.setMap(uF)}))}))}};const fF={class:"container-fluid mt--7"},dF=Ir('<div class="row"><div class="col-lg-7 col-md-10"><h1 class="text-gray-700 text-3xl font-medium"> </h1></div></div><div class="row"><div class="col"><div class="card shadow border-0"><div id="map" class="map-canvas" data-lat="40.748817" data-lng="-73.985428" style="height:600px;"></div></div></div></div>',2);hF.render=function(t,e,n,r,i,o){return lr(),dr("div",fF,[dF])};const pF={class:"text-gray-700 text-3xl font-medium"};const vF={render:function(t,e){return lr(),dr("h3",pF,"Blank Page")}},gF=[{path:"/",name:"Login",component:Za,meta:{layout:"empty"}},{path:"/signup",name:"SignUp",component:hu,meta:{layout:"empty"}},{path:"/dashboard",name:"Dashboard",component:Zo},{path:"/ui-elements",name:"UIElements",component:La},{path:"/forms",name:"Forms",component:Ts},{path:"/maps",name:"Maps",component:hF},{path:"/tables",name:"Tables",component:Fs},{path:"/modal",name:"Modal",component:_u},{path:"/blank",name:"Blank",component:vF}],mF=function(t){const e=vo(t.routes,t);let n=t.parseQuery||Uo,r=t.stringifyQuery||jo,i=t.history;const o=Vo(),s=Vo(),a=Vo(),u=ne(eo,!0);let c=eo;xi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=Ri.bind(null,(t=>""+t)),h=Ri.bind(null,Mo),f=Ri.bind(null,Fo);function d(t,o){if(o=Ni({},o||u.value),"string"==typeof t){let r=Oi(n,t,o.path),s=e.resolve({path:r.path},o),a=i.createHref(r.fullPath);return Ni(r,s,{params:f(s.params),hash:Fo(r.hash),redirectedFrom:void 0,href:a})}let s;"path"in t?s=Ni({},t,{path:Oi(n,t.path,o.path).path}):(s=Ni({},t,{params:h(t.params)}),o.params=h(o.params));let a=e.resolve(s,o);const c=t.hash||"";a.params=l(f(a.params));const d=function(t,e){let n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(r,Ni({},t,{hash:(p=c,Oo(p).replace(No,"{").replace(Po,"}").replace(Co,"^")),path:a.path}));var p;let v=i.createHref(d);return Ni({fullPath:d,hash:c,query:r===jo?qo(t.query):t.query},a,{redirectedFrom:void 0,href:v})}function p(t){return"string"==typeof t?Oi(n,t,u.value.path):Ni({},t)}function v(t,e){if(c!==t)return oo(8,{from:e,to:t})}function g(t){return y(t)}function m(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"==typeof n?n(t):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=p(r):{path:r}),Ni({query:t.query,hash:t.hash,params:t.params},r)}}function y(t,e){const n=c=d(t),i=u.value,o=t.state,s=t.force,a=!0===t.replace,l=m(n);if(l)return y(Ni(p(l),{state:o,force:s,replace:a}),e||n);const h=n;let f;return h.redirectedFrom=e,!s&&function(t,e,n){let r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Mi(e.matched[r],n.matched[i])&&Fi(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(r,i,n)&&(f=oo(16,{to:h,from:i}),N(i,i,!0,!1)),(f?Promise.resolve(f):w(h,i)).catch((t=>so(t)?t:C(t))).then((t=>{if(t){if(so(t,2))return y(Ni(p(t.to),{state:o,force:s,replace:a}),e||h)}else t=I(h,i,!0,a,o);return _(h,i,t),t}))}function b(t,e){const n=v(t,e);return n?Promise.reject(n):Promise.resolve()}function w(t,e){let n;const[r,i,a]=function(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.find((t=>Mi(t,o)))?r.push(o):n.push(o));const a=t.matched[s];a&&(e.matched.find((t=>Mi(t,a)))||i.push(a))}return[n,r,i]}(t,e);n=Ko(r.reverse(),"beforeRouteLeave",t,e);for(const i of r)i.leaveGuards.forEach((r=>{n.push(Bo(r,t,e))}));const u=b.bind(null,t,e);return n.push(u),$o(n).then((()=>{n=[];for(const r of o.list())n.push(Bo(r,t,e));return n.push(u),$o(n)})).then((()=>{n=Ko(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach((r=>{n.push(Bo(r,t,e))}));return n.push(u),$o(n)})).then((()=>{n=[];for(const r of t.matched)if(r.beforeEnter&&e.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(Bo(i,t,e));else n.push(Bo(r.beforeEnter,t,e));return n.push(u),$o(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Ko(a,"beforeRouteEnter",t,e),n.push(u),$o(n)))).then((()=>{n=[];for(const r of s.list())n.push(Bo(r,t,e));return n.push(u),$o(n)})).catch((t=>so(t,8)?t:Promise.reject(t)))}function _(t,e,n){for(const r of a.list())r(t,e,n)}function I(t,e,n,r,o){const s=v(t,e);if(s)return s;const a=e===eo,c=xi?history.state:{};n&&(r||a?i.replace(t.fullPath,Ni({scroll:a&&c&&c.scroll},o)):i.push(t.fullPath,o)),u.value=t,N(t,e,n,a),x()}let T;function E(){T=i.listen(((t,e,n)=>{let r=d(t);const o=m(r);if(o)return void y(Ni(o,{replace:!0}),r).catch(Pi);c=r;const s=u.value;var a,l;xi&&(a=Yi(s.fullPath,n.delta),l=Gi(),$i.set(a,l)),w(r,s).catch((t=>so(t,12)?t:so(t,2)?(y(t.to,r).catch(Pi),Promise.reject()):(n.delta&&i.go(-n.delta,!1),C(t)))).then((t=>{(t=t||I(r,s,!1))&&n.delta&&i.go(-n.delta,!1),_(r,s,t)})).catch(Pi)}))}let A,S=Vo(),k=Vo();function C(t){return x(t),k.list().forEach((e=>e(t))),Promise.reject(t)}function x(t){A||(A=!0,E(),S.list().forEach((([e,n])=>t?n(t):e())),S.reset())}function N(e,n,r,i){const{scrollBehavior:o}=t;if(!xi||!o)return Promise.resolve();let s=!r&&function(t){const e=$i.get(t);return $i.delete(t),e}(Yi(e.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return Se().then((()=>o(e,n,s))).then((t=>t&&Qi(t))).catch(C)}const R=t=>i.go(t);let P;const D=new Set;return{currentRoute:u,addRoute:function(t,n){let r,i;return to(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)},removeRoute:function(t){let n=e.getRecordMatcher(t);n&&e.removeRoute(n)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:d,options:t,push:g,replace:function(t){return g(Ni(p(t),{replace:!0}))},go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:k.add,isReady:function(){return A&&u.value!==eo?Promise.resolve():new Promise(((t,e)=>{S.add([t,e])}))},install(t){t.component("RouterLink",Ho),t.component("RouterView",Yo),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>re(u)}),xi&&!P&&u.value===eo&&(P=!0,g(i.location).catch((t=>{})));const e={};for(let t in eo)e[t]=Kr((()=>u.value[t]));t.provide(Si,this),t.provide(ki,Ht(e)),t.provide(Ci,u);let n=t.unmount;D.add(t),t.unmount=function(){D.delete(t),D.size<1&&(T(),u.value=eo,P=!1,A=!1),n()}}}}({history:function(t){const e=Zi(t=Wi(t)),n=function(t,e,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=Xi(t,location),u=n.value,c=e.value;let l=0;if(o){if(n.value=a,e.value=o,s&&s===u)return void(s=null);l=c?o.position-c.position:0}else r(a);i.forEach((t=>{t(n.value,u,{delta:l,type:qi.pop,direction:l?l>0?Bi.forward:Bi.back:Bi.unknown})}))};function u(){const{history:t}=window;t.state&&t.replaceState(Ni({},t.state,{scroll:Gi()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:function(){s=n.value},listen:function(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}}}(t,e.state,e.location,e.replace),r=Ni({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:zi.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}(),routes:gF}),yF=Ht({isOpen:!1});function bF(){return{...se(yF)}}var wF=Ze({setup(){const{isOpen:t}=bF();return{isOpen:t,activeClass:te("bg-gray-600 bg-opacity-25 text-gray-100 border-gray-100"),inactiveClass:te("border-gray-900 text-gray-500 hover:bg-gray-600 hover:bg-opacity-25 hover:text-gray-100")}}});const _F={class:"flex"},IF=br("div",{class:"flex items-center justify-center mt-8"},[br("div",{class:"flex items-center"},[br("span",{class:"text-white text-2xl mx-2 font-semibold"},"  ")])],-1),TF={class:"mt-10"},EF=br("span",{class:"mx-4"},"MainPage",-1),AF=br("span",{class:"mx-4"},"Tables()",-1),SF=br("span",{class:"mx-4"},"Member",-1),kF=br("span",{class:"mx-4"},"Maps",-1),CF=br("span",{class:"mx-4"},"",-1),xF=br("span",{class:"mx-4"},"UI ",-1),NF=br("span",{class:"mx-4"},"( )",-1);wF.render=function(t,e,n,r,i,o){const s=tr("router-link");return lr(),dr("div",_F,[br("div",{class:[t.isOpen?"block":"hidden","fixed z-20 inset-0 bg-black opacity-50 transition-opacity lg:hidden"],onClick:e[1]||(e[1]=e=>t.isOpen=!1)},null,2),br("div",{class:[t.isOpen?"translate-x-0 ease-out":"-translate-x-full ease-in","fixed z-30 inset-y-0 left-0 w-64 transition duration-300 transform bg-gray-900 overflow-y-auto lg:translate-x-0 lg:static lg:inset-0"]},[IF,br("nav",TF,[br(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["Dashboard"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/dashboard"},{default:qe((()=>[EF])),_:1},8,["class"]),br(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["Tables"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/tables"},{default:qe((()=>[AF])),_:1},8,["class"]),br(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["Forms"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/forms"},{default:qe((()=>[SF])),_:1},8,["class"]),br(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["Maps"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/maps"},{default:qe((()=>[kF])),_:1},8,["class"]),br(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["Modal"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/modal"},{default:qe((()=>[CF])),_:1},8,["class"]),br(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["UIElements"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/ui-elements"},{default:qe((()=>[xF])),_:1},8,["class"]),br(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["Blank"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/blank"},{default:qe((()=>[NF])),_:1},8,["class"])])],2)])};var RF=Ze({setup(t,{emit:e}){const n=te(!1),{isOpen:r}=bF();return{isOpen:r,dropdownOpen:n}}});const PF={class:"flex justify-between items-center py-4 px-6 bg-white border-b-4 border-indigo-600"},DF={class:"flex items-center"},OF=br("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[br("path",{d:"M4 6H20M4 12H20M4 18H11",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),LF=br("div",{class:"relative mx-4 lg:mx-0"},[br("span",{class:"absolute inset-y-0 left-0 pl-3 flex items-center"},[br("svg",{class:"h-5 w-5 text-gray-500",viewBox:"0 0 24 24",fill:"none"},[br("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])]),br("input",{class:"w-32 sm:w-64 rounded-md pl-10 pr-4 focus:border-indigo-600",type:"text",placeholder:"Search"})],-1),MF={class:"flex items-center"},FF=br("button",{class:"flex mx-4 text-gray-600 focus:outline-none"},[br("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[br("path",{d:"M15 17H20L18.5951 15.5951C18.2141 15.2141 18 14.6973 18 14.1585V11C18 8.38757 16.3304 6.16509 14 5.34142V5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5V5.34142C7.66962 6.16509 6 8.38757 6 11V14.1585C6 14.6973 5.78595 15.2141 5.40493 15.5951L4 17H9M15 17V18C15 19.6569 13.6569 21 12 21C10.3431 21 9 19.6569 9 18V17M15 17H9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),UF={class:"relative"},jF=br("img",{class:"h-full w-full object-cover",src:"/_assets/admin.810c527d.jpeg",alt:"Your avatar"},null,-1),qF={class:"absolute right-0 mt-2 py-2 w-48 bg-white rounded-md shadow-xl z-20"},VF=br("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"}," ",-1),BF=br("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"}," ",-1),KF=_r("Log out");RF.render=function(t,e,n,r,i,o){const s=tr("router-link");return lr(),dr("header",PF,[br("div",DF,[br("button",{onClick:e[1]||(e[1]=e=>t.isOpen=!0),class:"text-gray-500 focus:outline-none lg:hidden"},[OF]),LF]),br("div",MF,[FF,br("div",UF,[br("button",{onClick:e[2]||(e[2]=e=>t.dropdownOpen=!t.dropdownOpen),class:"relative z-10 block h-8 w-8 rounded-full overflow-hidden shadow focus:outline-none"},[jF]),Kn(br("div",{onClick:e[3]||(e[3]=e=>t.dropdownOpen=!1),class:"fixed inset-0 h-full w-full z-10"},null,512),[[yi,t.dropdownOpen]]),Kn(br("div",qF,[VF,BF,br(s,{to:"/",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"},{default:qe((()=>[KF])),_:1})],512),[[yi,t.dropdownOpen]])])])])};var WF=Ze({components:{Header:RF,Sidebar:wF}});const HF={class:"flex h-screen bg-gray-200 font-roboto"},zF={class:"flex-1 flex flex-col overflow-hidden"},GF={class:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-200"},QF={class:"container mx-auto px-6 py-8"};WF.render=function(t,e,n,r,i,o){const s=tr("Sidebar"),a=tr("Header");return lr(),dr("div",HF,[br(s),br("div",zF,[br(a),br("main",GF,[br("div",QF,[kr(t.$slots,"default")])])])])};const YF={render:function(t,e){return lr(),dr("div",null,[kr(t.$slots,"default")])}},$F=((...t)=>{const e=(_i||(_i=Xn(wi))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(A(t)){return document.querySelector(t)}return t}(t);if(!r)return;const i=e._component;E(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e})(Jo);$F.component("default-layout",WF),$F.component("empty-layout",YF),$F.use(mF),$F.mount("#app");
